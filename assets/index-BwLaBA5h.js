var Zy=r=>{throw TypeError(r)};var Nd=(r,t,e)=>t.has(r)||Zy("Cannot "+e);var ee=(r,t,e)=>(Nd(r,t,"read from private field"),e?e.call(r):t.get(r)),Qn=(r,t,e)=>t.has(r)?Zy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),tn=(r,t,e,i)=>(Nd(r,t,"write to private field"),i?i.call(r,e):t.set(r,e),e),Zn=(r,t,e)=>(Nd(r,t,"access private method"),e);var Jy=(r,t,e,i)=>({set _(a){tn(r,t,a,e)},get _(){return ee(r,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Kf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ld={exports:{}},ao={};var tb;function MT(){if(tb)return ao;tb=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return ao.Fragment=t,ao.jsx=e,ao.jsxs=e,ao}var eb;function DT(){return eb||(eb=1,Ld.exports=MT()),Ld.exports}var v=DT(),kd={exports:{}},vt={};var nb;function RT(){if(nb)return vt;nb=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function T(k,q,Z){this.props=k,this.context=q,this.refs=E,this.updater=Z||w}T.prototype.isReactComponent={},T.prototype.setState=function(k,q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,q,"setState")},T.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function M(){}M.prototype=T.prototype;function _(k,q,Z){this.props=k,this.context=q,this.refs=E,this.updater=Z||w}var N=_.prototype=new M;N.constructor=_,S(N,T.prototype),N.isPureReactComponent=!0;var D=Array.isArray;function O(){}var L={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function X(k,q,Z){var tt=Z.ref;return{$$typeof:r,type:k,key:q,ref:tt!==void 0?tt:null,props:Z}}function W(k,q){return X(k.type,q,k.props)}function J(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function ot(k){var q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(Z){return q[Z]})}var dt=/\/+/g;function st(k,q){return typeof k=="object"&&k!==null&&k.key!=null?ot(""+k.key):q.toString(36)}function ft(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(O,O):(k.status="pending",k.then(function(q){k.status==="pending"&&(k.status="fulfilled",k.value=q)},function(q){k.status==="pending"&&(k.status="rejected",k.reason=q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function j(k,q,Z,tt,lt){var pt=typeof k;(pt==="undefined"||pt==="boolean")&&(k=null);var ct=!1;if(k===null)ct=!0;else switch(pt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(k.$$typeof){case r:case t:ct=!0;break;case p:return ct=k._init,j(ct(k._payload),q,Z,tt,lt)}}if(ct)return lt=lt(k),ct=tt===""?"."+st(k,0):tt,D(lt)?(Z="",ct!=null&&(Z=ct.replace(dt,"$&/")+"/"),j(lt,q,Z,"",function(Ut){return Ut})):lt!=null&&(J(lt)&&(lt=W(lt,Z+(lt.key==null||k&&k.key===lt.key?"":(""+lt.key).replace(dt,"$&/")+"/")+ct)),q.push(lt)),1;ct=0;var Qt=tt===""?".":tt+":";if(D(k))for(var Ct=0;Ct<k.length;Ct++)tt=k[Ct],pt=Qt+st(tt,Ct),ct+=j(tt,q,Z,pt,lt);else if(Ct=x(k),typeof Ct=="function")for(k=Ct.call(k),Ct=0;!(tt=k.next()).done;)tt=tt.value,pt=Qt+st(tt,Ct++),ct+=j(tt,q,Z,pt,lt);else if(pt==="object"){if(typeof k.then=="function")return j(ft(k),q,Z,tt,lt);throw q=String(k),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ct}function I(k,q,Z){if(k==null)return k;var tt=[],lt=0;return j(k,tt,"","",function(pt){return q.call(Z,pt,lt++)}),tt}function Q(k){if(k._status===-1){var q=k._result;q=q(),q.then(function(Z){(k._status===0||k._status===-1)&&(k._status=1,k._result=Z)},function(Z){(k._status===0||k._status===-1)&&(k._status=2,k._result=Z)}),k._status===-1&&(k._status=0,k._result=q)}if(k._status===1)return k._result.default;throw k._result}var rt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},gt={map:I,forEach:function(k,q,Z){I(k,function(){q.apply(this,arguments)},Z)},count:function(k){var q=0;return I(k,function(){q++}),q},toArray:function(k){return I(k,function(q){return q})||[]},only:function(k){if(!J(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return vt.Activity=g,vt.Children=gt,vt.Component=T,vt.Fragment=e,vt.Profiler=a,vt.PureComponent=_,vt.StrictMode=i,vt.Suspense=d,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,vt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return L.H.useMemoCache(k)}},vt.cache=function(k){return function(){return k.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(k,q,Z){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var tt=S({},k.props),lt=k.key;if(q!=null)for(pt in q.key!==void 0&&(lt=""+q.key),q)!z.call(q,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&q.ref===void 0||(tt[pt]=q[pt]);var pt=arguments.length-2;if(pt===1)tt.children=Z;else if(1<pt){for(var ct=Array(pt),Qt=0;Qt<pt;Qt++)ct[Qt]=arguments[Qt+2];tt.children=ct}return X(k.type,lt,tt)},vt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},vt.createElement=function(k,q,Z){var tt,lt={},pt=null;if(q!=null)for(tt in q.key!==void 0&&(pt=""+q.key),q)z.call(q,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(lt[tt]=q[tt]);var ct=arguments.length-2;if(ct===1)lt.children=Z;else if(1<ct){for(var Qt=Array(ct),Ct=0;Ct<ct;Ct++)Qt[Ct]=arguments[Ct+2];lt.children=Qt}if(k&&k.defaultProps)for(tt in ct=k.defaultProps,ct)lt[tt]===void 0&&(lt[tt]=ct[tt]);return X(k,pt,lt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(k){return{$$typeof:u,render:k}},vt.isValidElement=J,vt.lazy=function(k){return{$$typeof:p,_payload:{_status:-1,_result:k},_init:Q}},vt.memo=function(k,q){return{$$typeof:f,type:k,compare:q===void 0?null:q}},vt.startTransition=function(k){var q=L.T,Z={};L.T=Z;try{var tt=k(),lt=L.S;lt!==null&&lt(Z,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(O,rt)}catch(pt){rt(pt)}finally{q!==null&&Z.types!==null&&(q.types=Z.types),L.T=q}},vt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},vt.use=function(k){return L.H.use(k)},vt.useActionState=function(k,q,Z){return L.H.useActionState(k,q,Z)},vt.useCallback=function(k,q){return L.H.useCallback(k,q)},vt.useContext=function(k){return L.H.useContext(k)},vt.useDebugValue=function(){},vt.useDeferredValue=function(k,q){return L.H.useDeferredValue(k,q)},vt.useEffect=function(k,q){return L.H.useEffect(k,q)},vt.useEffectEvent=function(k){return L.H.useEffectEvent(k)},vt.useId=function(){return L.H.useId()},vt.useImperativeHandle=function(k,q,Z){return L.H.useImperativeHandle(k,q,Z)},vt.useInsertionEffect=function(k,q){return L.H.useInsertionEffect(k,q)},vt.useLayoutEffect=function(k,q){return L.H.useLayoutEffect(k,q)},vt.useMemo=function(k,q){return L.H.useMemo(k,q)},vt.useOptimistic=function(k,q){return L.H.useOptimistic(k,q)},vt.useReducer=function(k,q,Z){return L.H.useReducer(k,q,Z)},vt.useRef=function(k){return L.H.useRef(k)},vt.useState=function(k){return L.H.useState(k)},vt.useSyncExternalStore=function(k,q,Z){return L.H.useSyncExternalStore(k,q,Z)},vt.useTransition=function(){return L.H.useTransition()},vt.version="19.2.0",vt}var ib;function Wf(){return ib||(ib=1,kd.exports=RT()),kd.exports}var F=Wf();const NT=Kf(F);var Od={exports:{}},ro={},Pd={exports:{}},jd={};var sb;function LT(){return sb||(sb=1,(function(r){function t(j,I){var Q=j.length;j.push(I);t:for(;0<Q;){var rt=Q-1>>>1,gt=j[rt];if(0<a(gt,I))j[rt]=I,j[Q]=gt,Q=rt;else break t}}function e(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var I=j[0],Q=j.pop();if(Q!==I){j[0]=Q;t:for(var rt=0,gt=j.length,k=gt>>>1;rt<k;){var q=2*(rt+1)-1,Z=j[q],tt=q+1,lt=j[tt];if(0>a(Z,Q))tt<gt&&0>a(lt,Z)?(j[rt]=lt,j[tt]=Q,rt=tt):(j[rt]=Z,j[q]=Q,rt=q);else if(tt<gt&&0>a(lt,Q))j[rt]=lt,j[tt]=Q,rt=tt;else break t}}return I}function a(j,I){var Q=j.sortIndex-I.sortIndex;return Q!==0?Q:j.id-I.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();r.unstable_now=function(){return c.now()-u}}var d=[],f=[],p=1,g=null,b=3,x=!1,w=!1,S=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function N(j){for(var I=e(f);I!==null;){if(I.callback===null)i(f);else if(I.startTime<=j)i(f),I.sortIndex=I.expirationTime,t(d,I);else break;I=e(f)}}function D(j){if(S=!1,N(j),!w)if(e(d)!==null)w=!0,O||(O=!0,ot());else{var I=e(f);I!==null&&ft(D,I.startTime-j)}}var O=!1,L=-1,z=5,X=-1;function W(){return E?!0:!(r.unstable_now()-X<z)}function J(){if(E=!1,O){var j=r.unstable_now();X=j;var I=!0;try{t:{w=!1,S&&(S=!1,M(L),L=-1),x=!0;var Q=b;try{e:{for(N(j),g=e(d);g!==null&&!(g.expirationTime>j&&W());){var rt=g.callback;if(typeof rt=="function"){g.callback=null,b=g.priorityLevel;var gt=rt(g.expirationTime<=j);if(j=r.unstable_now(),typeof gt=="function"){g.callback=gt,N(j),I=!0;break e}g===e(d)&&i(d),N(j)}else i(d);g=e(d)}if(g!==null)I=!0;else{var k=e(f);k!==null&&ft(D,k.startTime-j),I=!1}}break t}finally{g=null,b=Q,x=!1}I=void 0}}finally{I?ot():O=!1}}}var ot;if(typeof _=="function")ot=function(){_(J)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,st=dt.port2;dt.port1.onmessage=J,ot=function(){st.postMessage(null)}}else ot=function(){T(J,0)};function ft(j,I){L=T(function(){j(r.unstable_now())},I)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(j){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var Q=b;b=I;try{return j()}finally{b=Q}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(j,I){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=b;b=j;try{return I()}finally{b=Q}},r.unstable_scheduleCallback=function(j,I,Q){var rt=r.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?rt+Q:rt):Q=rt,j){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=Q+gt,j={id:p++,callback:I,priorityLevel:j,startTime:Q,expirationTime:gt,sortIndex:-1},Q>rt?(j.sortIndex=Q,t(f,j),e(d)===null&&j===e(f)&&(S?(M(L),L=-1):S=!0,ft(D,Q-rt))):(j.sortIndex=gt,t(d,j),w||x||(w=!0,O||(O=!0,ot()))),j},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(j){var I=b;return function(){var Q=b;b=I;try{return j.apply(this,arguments)}finally{b=Q}}}})(jd)),jd}var ab;function kT(){return ab||(ab=1,Pd.exports=LT()),Pd.exports}var Bd={exports:{}},ze={};var rb;function OT(){if(rb)return ze;rb=1;var r=Wf();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ze.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(d,f,null,p)},ze.flushSync=function(d){var f=c.T,p=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=f,i.p=p,i.d.f()}},ze.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},ze.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},ze.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):p==="script"&&i.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ze.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},ze.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ze.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},ze.requestFormReset=function(d){i.d.r(d)},ze.unstable_batchedUpdates=function(d,f){return d(f)},ze.useFormState=function(d,f,p){return c.H.useFormState(d,f,p)},ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},ze.version="19.2.0",ze}var ob;function PT(){if(ob)return Bd.exports;ob=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=OT(),Bd.exports}var lb;function jT(){if(lb)return ro;lb=1;var r=kT(),t=Wf(),e=PT();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(i(188))}function f(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,h=s;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){o=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return d(m),n;if(y===h)return d(m),s;y=y.sibling}throw Error(i(188))}if(o.return!==h.return)o=m,h=y;else{for(var A=!1,C=m.child;C;){if(C===o){A=!0,o=m,h=y;break}if(C===h){A=!0,h=m,o=y;break}C=C.sibling}if(!A){for(C=y.child;C;){if(C===o){A=!0,o=y,h=m;break}if(C===h){A=!0,h=y,o=m;break}C=C.sibling}if(!A)throw Error(i(189))}}if(o.alternate!==h)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),_=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function ot(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var dt=Symbol.for("react.client.reference");function st(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===dt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case _:return n.displayName||"Context";case M:return(n._context.displayName||"Context")+".Consumer";case N:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case L:return s=n.displayName||null,s!==null?s:st(n.type)||"Memo";case z:s=n._payload,n=n._init;try{return st(n(s))}catch{}}return null}var ft=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},rt=[],gt=-1;function k(n){return{current:n}}function q(n){0>gt||(n.current=rt[gt],rt[gt]=null,gt--)}function Z(n,s){gt++,rt[gt]=n.current,n.current=s}var tt=k(null),lt=k(null),pt=k(null),ct=k(null);function Qt(n,s){switch(Z(pt,s),Z(lt,n),Z(tt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Ay(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Ay(s),n=Sy(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}q(tt),Z(tt,n)}function Ct(){q(tt),q(lt),q(pt)}function Ut(n){n.memoizedState!==null&&Z(ct,n);var s=tt.current,o=Sy(s,n.type);s!==o&&(Z(lt,n),Z(tt,o))}function Xe(n){lt.current===n&&(q(tt),q(lt)),ct.current===n&&(q(ct),eo._currentValue=Q)}var rn,Pt;function jt(n){if(rn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);rn=s&&s[1]||"",Pt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+n+Pt}var ie=!1;function le(n,s){if(!n||ie)return"";ie=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(G){var H=G}Reflect.construct(n,[],K)}else{try{K.call()}catch(G){H=G}n.call(K.prototype)}}else{try{throw Error()}catch(G){H=G}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),A=y[0],C=y[1];if(A&&C){var R=A.split(`
`),V=C.split(`
`);for(m=h=0;h<R.length&&!R[h].includes("DetermineComponentFrameRoot");)h++;for(;m<V.length&&!V[m].includes("DetermineComponentFrameRoot");)m++;if(h===R.length||m===V.length)for(h=R.length-1,m=V.length-1;1<=h&&0<=m&&R[h]!==V[m];)m--;for(;1<=h&&0<=m;h--,m--)if(R[h]!==V[m]){if(h!==1||m!==1)do if(h--,m--,0>m||R[h]!==V[m]){var Y=`
`+R[h].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=h&&0<=m);break}}}finally{ie=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?jt(o):""}function Li(n,s){switch(n.tag){case 26:case 27:case 5:return jt(n.type);case 16:return jt("Lazy");case 13:return n.child!==s&&s!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return le(n.type,!1);case 11:return le(n.type.render,!1);case 1:return le(n.type,!0);case 31:return jt("Activity");default:return""}}function ki(n){try{var s="",o=null;do s+=Li(n,o),o=n,n=n.return;while(n);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ds=Object.prototype.hasOwnProperty,dr=r.unstable_scheduleCallback,Oi=r.unstable_cancelCallback,gu=r.unstable_shouldYield,yu=r.unstable_requestPaint,Ue=r.unstable_now,bu=r.unstable_getCurrentPriorityLevel,nl=r.unstable_ImmediatePriority,jn=r.unstable_UserBlockingPriority,Bn=r.unstable_NormalPriority,Xn=r.unstable_LowPriority,$s=r.unstable_IdlePriority,uS=r.log,hS=r.unstable_setDisableYieldValue,fr=null,on=null;function Pi(n){if(typeof uS=="function"&&hS(n),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(fr,n)}catch{}}var ln=Math.clz32?Math.clz32:pS,dS=Math.log,fS=Math.LN2;function pS(n){return n>>>=0,n===0?32:31-(dS(n)/fS|0)|0}var il=256,sl=262144,al=4194304;function fs(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function rl(n,s,o){var h=n.pendingLanes;if(h===0)return 0;var m=0,y=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var C=h&134217727;return C!==0?(h=C&~y,h!==0?m=fs(h):(A&=C,A!==0?m=fs(A):o||(o=C&~n,o!==0&&(m=fs(o))))):(C=h&~y,C!==0?m=fs(C):A!==0?m=fs(A):o||(o=h&~n,o!==0&&(m=fs(o)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:m}function pr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function mS(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nm(){var n=al;return al<<=1,(al&62914560)===0&&(al=4194304),n}function vu(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function mr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function gS(n,s,o,h,m,y){var A=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var C=n.entanglements,R=n.expirationTimes,V=n.hiddenUpdates;for(o=A&~o;0<o;){var Y=31-ln(o),K=1<<Y;C[Y]=0,R[Y]=-1;var H=V[Y];if(H!==null)for(V[Y]=null,Y=0;Y<H.length;Y++){var G=H[Y];G!==null&&(G.lane&=-536870913)}o&=~K}h!==0&&im(n,h,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(A&~s))}function im(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var h=31-ln(s);n.entangledLanes|=s,n.entanglements[h]=n.entanglements[h]|1073741824|o&261930}function sm(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var h=31-ln(o),m=1<<h;m&s|n[h]&s&&(n[h]|=s),o&=~m}}function am(n,s){var o=s&-s;return o=(o&42)!==0?1:xu(o),(o&(n.suspendedLanes|s))!==0?0:o}function xu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Au(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function rm(){var n=I.p;return n!==0?n:(n=window.event,n===void 0?32:qy(n.type))}function om(n,s){var o=I.p;try{return I.p=n,s()}finally{I.p=o}}var ji=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ji,Ye="__reactProps$"+ji,Ks="__reactContainer$"+ji,Su="__reactEvents$"+ji,yS="__reactListeners$"+ji,bS="__reactHandles$"+ji,lm="__reactResources$"+ji,gr="__reactMarker$"+ji;function wu(n){delete n[Ne],delete n[Ye],delete n[Su],delete n[yS],delete n[bS]}function Ws(n){var s=n[Ne];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Ks]||o[Ne]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Dy(n);n!==null;){if(o=n[Ne])return o;n=Dy(n)}return s}n=o,o=n.parentNode}return null}function Qs(n){if(n=n[Ne]||n[Ks]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function yr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Zs(n){var s=n[lm];return s||(s=n[lm]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ee(n){n[gr]=!0}var cm=new Set,um={};function ps(n,s){Js(n,s),Js(n+"Capture",s)}function Js(n,s){for(um[n]=s,n=0;n<s.length;n++)cm.add(s[n])}var vS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hm={},dm={};function xS(n){return ds.call(dm,n)?!0:ds.call(hm,n)?!1:vS.test(n)?dm[n]=!0:(hm[n]=!0,!1)}function ol(n,s,o){if(xS(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function ll(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function ci(n,s,o,h){if(h===null)n.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+h)}}function xn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fm(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function AS(n,s,o){var h=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,y=h.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(A){o=""+A,y.call(this,A)}}),Object.defineProperty(n,s,{enumerable:h.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Tu(n){if(!n._valueTracker){var s=fm(n)?"checked":"value";n._valueTracker=AS(n,s,""+n[s])}}function pm(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),h="";return n&&(h=fm(n)?n.checked?"true":"false":n.value),n=h,n!==o?(s.setValue(n),!0):!1}function cl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var SS=/[\n"\\]/g;function An(n){return n.replace(SS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Eu(n,s,o,h,m,y,A,C){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),s!=null?A==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+xn(s)):n.value!==""+xn(s)&&(n.value=""+xn(s)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),s!=null?Cu(n,A,xn(s)):o!=null?Cu(n,A,xn(o)):h!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+xn(C):n.removeAttribute("name")}function mm(n,s,o,h,m,y,A,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Tu(n);return}o=o!=null?""+xn(o):"",s=s!=null?""+xn(s):o,C||s===n.value||(n.value=s),n.defaultValue=s}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,n.checked=C?n.checked:!!h,n.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A),Tu(n)}function Cu(n,s,o){s==="number"&&cl(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function ta(n,s,o,h){if(n=n.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=s.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&h&&(n[o].defaultSelected=!0)}else{for(o=""+xn(o),s=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,h&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function gm(n,s,o){if(s!=null&&(s=""+xn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+xn(o):""}function ym(n,s,o,h){if(s==null){if(h!=null){if(o!=null)throw Error(i(92));if(ft(h)){if(1<h.length)throw Error(i(93));h=h[0]}o=h}o==null&&(o=""),s=o}o=xn(s),n.defaultValue=o,h=n.textContent,h===o&&h!==""&&h!==null&&(n.value=h),Tu(n)}function ea(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var wS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bm(n,s,o){var h=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":h?n.setProperty(s,o):typeof o!="number"||o===0||wS.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function vm(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?n.setProperty(h,""):h==="float"?n.cssFloat="":n[h]="");for(var m in s)h=s[m],s.hasOwnProperty(m)&&o[m]!==h&&bm(n,m,h)}else for(var y in s)s.hasOwnProperty(y)&&bm(n,y,s[y])}function _u(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ES=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(n){return ES.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ui(){}var Mu=null;function Du(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var na=null,ia=null;function xm(n){var s=Qs(n);if(s&&(n=s.stateNode)){var o=n[Ye]||null;t:switch(n=s.stateNode,s.type){case"input":if(Eu(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var h=o[s];if(h!==n&&h.form===n.form){var m=h[Ye]||null;if(!m)throw Error(i(90));Eu(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)h=o[s],h.form===n.form&&pm(h)}break t;case"textarea":gm(n,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&ta(n,!!o.multiple,s,!1)}}}var Ru=!1;function Am(n,s,o){if(Ru)return n(s,o);Ru=!0;try{var h=n(s);return h}finally{if(Ru=!1,(na!==null||ia!==null)&&(Ql(),na&&(s=na,n=ia,ia=na=null,xm(s),n)))for(s=0;s<n.length;s++)xm(n[s])}}function br(n,s){var o=n.stateNode;if(o===null)return null;var h=o[Ye]||null;if(h===null)return null;o=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=!1;if(hi)try{var vr={};Object.defineProperty(vr,"passive",{get:function(){Nu=!0}}),window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,vr)}catch{Nu=!1}var Bi=null,Lu=null,hl=null;function Sm(){if(hl)return hl;var n,s=Lu,o=s.length,h,m="value"in Bi?Bi.value:Bi.textContent,y=m.length;for(n=0;n<o&&s[n]===m[n];n++);var A=o-n;for(h=1;h<=A&&s[o-h]===m[y-h];h++);return hl=m.slice(n,1<h?1-h:void 0)}function dl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function fl(){return!0}function wm(){return!1}function $e(n){function s(o,h,m,y,A){this._reactName=o,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(o=n[C],this[C]=o?o(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?fl:wm,this.isPropagationStopped=wm,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),s}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=$e(ms),xr=g({},ms,{view:0,detail:0}),CS=$e(xr),ku,Ou,Ar,ml=g({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ju,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ar&&(Ar&&n.type==="mousemove"?(ku=n.screenX-Ar.screenX,Ou=n.screenY-Ar.screenY):Ou=ku=0,Ar=n),ku)},movementY:function(n){return"movementY"in n?n.movementY:Ou}}),Tm=$e(ml),_S=g({},ml,{dataTransfer:0}),MS=$e(_S),DS=g({},xr,{relatedTarget:0}),Pu=$e(DS),RS=g({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),NS=$e(RS),LS=g({},ms,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),kS=$e(LS),OS=g({},ms,{data:0}),Em=$e(OS),PS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zS(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=BS[n])?!!s[n]:!1}function ju(){return zS}var FS=g({},xr,{key:function(n){if(n.key){var s=PS[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=dl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ju,charCode:function(n){return n.type==="keypress"?dl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?dl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),IS=$e(FS),US=g({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cm=$e(US),VS=g({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ju}),HS=$e(VS),GS=g({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),qS=$e(GS),XS=g({},ml,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),YS=$e(XS),$S=g({},ms,{newState:0,oldState:0}),KS=$e($S),WS=[9,13,27,32],Bu=hi&&"CompositionEvent"in window,Sr=null;hi&&"documentMode"in document&&(Sr=document.documentMode);var QS=hi&&"TextEvent"in window&&!Sr,_m=hi&&(!Bu||Sr&&8<Sr&&11>=Sr),Mm=" ",Dm=!1;function Rm(n,s){switch(n){case"keyup":return WS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var sa=!1;function ZS(n,s){switch(n){case"compositionend":return Nm(s);case"keypress":return s.which!==32?null:(Dm=!0,Mm);case"textInput":return n=s.data,n===Mm&&Dm?null:n;default:return null}}function JS(n,s){if(sa)return n==="compositionend"||!Bu&&Rm(n,s)?(n=Sm(),hl=Lu=Bi=null,sa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _m&&s.locale!=="ko"?null:s.data;default:return null}}var tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!tw[n.type]:s==="textarea"}function km(n,s,o,h){na?ia?ia.push(h):ia=[h]:na=h,s=sc(s,"onChange"),0<s.length&&(o=new pl("onChange","change",null,o,h),n.push({event:o,listeners:s}))}var wr=null,Tr=null;function ew(n){my(n,0)}function gl(n){var s=yr(n);if(pm(s))return n}function Om(n,s){if(n==="change")return s}var Pm=!1;if(hi){var zu;if(hi){var Fu="oninput"in document;if(!Fu){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),Fu=typeof jm.oninput=="function"}zu=Fu}else zu=!1;Pm=zu&&(!document.documentMode||9<document.documentMode)}function Bm(){wr&&(wr.detachEvent("onpropertychange",zm),Tr=wr=null)}function zm(n){if(n.propertyName==="value"&&gl(Tr)){var s=[];km(s,Tr,n,Du(n)),Am(ew,s)}}function nw(n,s,o){n==="focusin"?(Bm(),wr=s,Tr=o,wr.attachEvent("onpropertychange",zm)):n==="focusout"&&Bm()}function iw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gl(Tr)}function sw(n,s){if(n==="click")return gl(s)}function aw(n,s){if(n==="input"||n==="change")return gl(s)}function rw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var cn=typeof Object.is=="function"?Object.is:rw;function Er(n,s){if(cn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),h=Object.keys(s);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var m=o[h];if(!ds.call(s,m)||!cn(n[m],s[m]))return!1}return!0}function Fm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Im(n,s){var o=Fm(n);n=0;for(var h;o;){if(o.nodeType===3){if(h=n+o.textContent.length,n<=s&&h>=s)return{node:o,offset:s-n};n=h}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Fm(o)}}function Um(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Um(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Vm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=cl(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=cl(n.document)}return s}function Iu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var ow=hi&&"documentMode"in document&&11>=document.documentMode,aa=null,Uu=null,Cr=null,Vu=!1;function Hm(n,s,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vu||aa==null||aa!==cl(h)||(h=aa,"selectionStart"in h&&Iu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Cr&&Er(Cr,h)||(Cr=h,h=sc(Uu,"onSelect"),0<h.length&&(s=new pl("onSelect","select",null,s,o),n.push({event:s,listeners:h}),s.target=aa)))}function gs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var ra={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Hu={},Gm={};hi&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function ys(n){if(Hu[n])return Hu[n];if(!ra[n])return n;var s=ra[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Gm)return Hu[n]=s[o];return n}var qm=ys("animationend"),Xm=ys("animationiteration"),Ym=ys("animationstart"),lw=ys("transitionrun"),cw=ys("transitionstart"),uw=ys("transitioncancel"),$m=ys("transitionend"),Km=new Map,Gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gu.push("scrollEnd");function zn(n,s){Km.set(n,s),ps(s,[n])}var yl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Sn=[],oa=0,qu=0;function bl(){for(var n=oa,s=qu=oa=0;s<n;){var o=Sn[s];Sn[s++]=null;var h=Sn[s];Sn[s++]=null;var m=Sn[s];Sn[s++]=null;var y=Sn[s];if(Sn[s++]=null,h!==null&&m!==null){var A=h.pending;A===null?m.next=m:(m.next=A.next,A.next=m),h.pending=m}y!==0&&Wm(o,m,y)}}function vl(n,s,o,h){Sn[oa++]=n,Sn[oa++]=s,Sn[oa++]=o,Sn[oa++]=h,qu|=h,n.lanes|=h,n=n.alternate,n!==null&&(n.lanes|=h)}function Xu(n,s,o,h){return vl(n,s,o,h),xl(n)}function bs(n,s){return vl(n,null,null,s),xl(n)}function Wm(n,s,o){n.lanes|=o;var h=n.alternate;h!==null&&(h.lanes|=o);for(var m=!1,y=n.return;y!==null;)y.childLanes|=o,h=y.alternate,h!==null&&(h.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&s!==null&&(m=31-ln(o),n=y.hiddenUpdates,h=n[m],h===null?n[m]=[s]:h.push(s),s.lane=o|536870912),y):null}function xl(n){if(50<$r)throw $r=0,ed=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var la={};function hw(n,s,o,h){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(n,s,o,h){return new hw(n,s,o,h)}function Yu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function di(n,s){var o=n.alternate;return o===null?(o=un(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Qm(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Al(n,s,o,h,m,y){var A=0;if(h=n,typeof n=="function")Yu(n)&&(A=1);else if(typeof n=="string")A=gT(n,o,tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case X:return n=un(31,o,s,m),n.elementType=X,n.lanes=y,n;case S:return vs(o.children,m,y,s);case E:A=8,m|=24;break;case T:return n=un(12,o,s,m|2),n.elementType=T,n.lanes=y,n;case D:return n=un(13,o,s,m),n.elementType=D,n.lanes=y,n;case O:return n=un(19,o,s,m),n.elementType=O,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _:A=10;break t;case M:A=9;break t;case N:A=11;break t;case L:A=14;break t;case z:A=16,h=null;break t}A=29,o=Error(i(130,n===null?"null":typeof n,"")),h=null}return s=un(A,o,s,m),s.elementType=n,s.type=h,s.lanes=y,s}function vs(n,s,o,h){return n=un(7,n,h,s),n.lanes=o,n}function $u(n,s,o){return n=un(6,n,null,s),n.lanes=o,n}function Zm(n){var s=un(18,null,null,0);return s.stateNode=n,s}function Ku(n,s,o){return s=un(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Jm=new WeakMap;function wn(n,s){if(typeof n=="object"&&n!==null){var o=Jm.get(n);return o!==void 0?o:(s={value:n,source:s,stack:ki(s)},Jm.set(n,s),s)}return{value:n,source:s,stack:ki(s)}}var ca=[],ua=0,Sl=null,_r=0,Tn=[],En=0,zi=null,Yn=1,$n="";function fi(n,s){ca[ua++]=_r,ca[ua++]=Sl,Sl=n,_r=s}function tg(n,s,o){Tn[En++]=Yn,Tn[En++]=$n,Tn[En++]=zi,zi=n;var h=Yn;n=$n;var m=32-ln(h)-1;h&=~(1<<m),o+=1;var y=32-ln(s)+m;if(30<y){var A=m-m%5;y=(h&(1<<A)-1).toString(32),h>>=A,m-=A,Yn=1<<32-ln(s)+m|o<<m|h,$n=y+n}else Yn=1<<y|o<<m|h,$n=n}function Wu(n){n.return!==null&&(fi(n,1),tg(n,1,0))}function Qu(n){for(;n===Sl;)Sl=ca[--ua],ca[ua]=null,_r=ca[--ua],ca[ua]=null;for(;n===zi;)zi=Tn[--En],Tn[En]=null,$n=Tn[--En],Tn[En]=null,Yn=Tn[--En],Tn[En]=null}function eg(n,s){Tn[En++]=Yn,Tn[En++]=$n,Tn[En++]=zi,Yn=s.id,$n=s.overflow,zi=n}var Le=null,Zt=null,kt=!1,Fi=null,Cn=!1,Zu=Error(i(519));function Ii(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mr(wn(s,n)),Zu}function ng(n){var s=n.stateNode,o=n.type,h=n.memoizedProps;switch(s[Ne]=n,s[Ye]=h,o){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(o=0;o<Wr.length;o++)Mt(Wr[o],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),mm(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),ym(s,h.value,h.defaultValue,h.children)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||h.suppressHydrationWarning===!0||vy(s.textContent,o)?(h.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),h.onScroll!=null&&Mt("scroll",s),h.onScrollEnd!=null&&Mt("scrollend",s),h.onClick!=null&&(s.onclick=ui),s=!0):s=!1,s||Ii(n,!0)}function ig(n){for(Le=n.return;Le;)switch(Le.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Le=Le.return}}function ha(n){if(n!==Le)return!1;if(!kt)return ig(n),kt=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||gd(n.type,n.memoizedProps)),o=!o),o&&Zt&&Ii(n),ig(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Zt=My(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Zt=My(n)}else s===27?(s=Zt,ts(n.type)?(n=Ad,Ad=null,Zt=n):Zt=s):Zt=Le?Mn(n.stateNode.nextSibling):null;return!0}function xs(){Zt=Le=null,kt=!1}function Ju(){var n=Fi;return n!==null&&(Ze===null?Ze=n:Ze.push.apply(Ze,n),Fi=null),n}function Mr(n){Fi===null?Fi=[n]:Fi.push(n)}var th=k(null),As=null,pi=null;function Ui(n,s,o){Z(th,s._currentValue),s._currentValue=o}function mi(n){n._currentValue=th.current,q(th)}function eh(n,s,o){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===o)break;n=n.return}}function nh(n,s,o,h){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=m;for(var R=0;R<s.length;R++)if(C.context===s[R]){y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),eh(y.return,o,n),h||(A=null);break t}y=C.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(i(341));A.lanes|=o,y=A.alternate,y!==null&&(y.lanes|=o),eh(A,o,n),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===n){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function da(n,s,o,h){n=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var C=m.type;cn(m.pendingProps.value,A.value)||(n!==null?n.push(C):n=[C])}}else if(m===ct.current){if(A=m.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(eo):n=[eo])}m=m.return}n!==null&&nh(s,n,o,h),s.flags|=262144}function wl(n){for(n=n.firstContext;n!==null;){if(!cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ss(n){As=n,pi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ke(n){return sg(As,n)}function Tl(n,s){return As===null&&Ss(n),sg(n,s)}function sg(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},pi===null){if(n===null)throw Error(i(308));pi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else pi=pi.next=s;return o}var dw=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,h){n.push(h)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},fw=r.unstable_scheduleCallback,pw=r.unstable_NormalPriority,ye={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new dw,data:new Map,refCount:0}}function Dr(n){n.refCount--,n.refCount===0&&fw(pw,function(){n.controller.abort()})}var Rr=null,sh=0,fa=0,pa=null;function mw(n,s){if(Rr===null){var o=Rr=[];sh=0,fa=od(),pa={status:"pending",value:void 0,then:function(h){o.push(h)}}}return sh++,s.then(ag,ag),s}function ag(){if(--sh===0&&Rr!==null){pa!==null&&(pa.status="fulfilled");var n=Rr;Rr=null,fa=0,pa=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function gw(n,s){var o=[],h={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){h.status="fulfilled",h.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(h.status="rejected",h.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),h}var rg=j.S;j.S=function(n,s){H0=Ue(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mw(n,s),rg!==null&&rg(n,s)};var ws=k(null);function ah(){var n=ws.current;return n!==null?n:$t.pooledCache}function El(n,s){s===null?Z(ws,ws.current):Z(ws,s.pool)}function og(){var n=ah();return n===null?null:{parent:ye._currentValue,pool:n}}var ma=Error(i(460)),rh=Error(i(474)),Cl=Error(i(542)),_l={then:function(){}};function lg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function cg(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(ui,ui),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,hg(n),n;default:if(typeof s.status=="string")s.then(ui,ui);else{if(n=$t,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(h){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=h}},function(h){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,hg(n),n}throw Es=s,ma}}function Ts(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Es=o,ma):o}}var Es=null;function ug(){if(Es===null)throw Error(i(459));var n=Es;return Es=null,n}function hg(n){if(n===ma||n===Cl)throw Error(i(483))}var ga=null,Nr=0;function Ml(n){var s=Nr;return Nr+=1,ga===null&&(ga=[]),cg(ga,n,s)}function Lr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Dl(n,s){throw s.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function dg(n){function s(B,P){if(n){var U=B.deletions;U===null?(B.deletions=[P],B.flags|=16):U.push(P)}}function o(B,P){if(!n)return null;for(;P!==null;)s(B,P),P=P.sibling;return null}function h(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function m(B,P){return B=di(B,P),B.index=0,B.sibling=null,B}function y(B,P,U){return B.index=U,n?(U=B.alternate,U!==null?(U=U.index,U<P?(B.flags|=67108866,P):U):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function A(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function C(B,P,U,$){return P===null||P.tag!==6?(P=$u(U,B.mode,$),P.return=B,P):(P=m(P,U),P.return=B,P)}function R(B,P,U,$){var ut=U.type;return ut===S?Y(B,P,U.props.children,$,U.key):P!==null&&(P.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===z&&Ts(ut)===P.type)?(P=m(P,U.props),Lr(P,U),P.return=B,P):(P=Al(U.type,U.key,U.props,null,B.mode,$),Lr(P,U),P.return=B,P)}function V(B,P,U,$){return P===null||P.tag!==4||P.stateNode.containerInfo!==U.containerInfo||P.stateNode.implementation!==U.implementation?(P=Ku(U,B.mode,$),P.return=B,P):(P=m(P,U.children||[]),P.return=B,P)}function Y(B,P,U,$,ut){return P===null||P.tag!==7?(P=vs(U,B.mode,$,ut),P.return=B,P):(P=m(P,U),P.return=B,P)}function K(B,P,U){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=$u(""+P,B.mode,U),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return U=Al(P.type,P.key,P.props,null,B.mode,U),Lr(U,P),U.return=B,U;case w:return P=Ku(P,B.mode,U),P.return=B,P;case z:return P=Ts(P),K(B,P,U)}if(ft(P)||ot(P))return P=vs(P,B.mode,U,null),P.return=B,P;if(typeof P.then=="function")return K(B,Ml(P),U);if(P.$$typeof===_)return K(B,Tl(B,P),U);Dl(B,P)}return null}function H(B,P,U,$){var ut=P!==null?P.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ut!==null?null:C(B,P,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return U.key===ut?R(B,P,U,$):null;case w:return U.key===ut?V(B,P,U,$):null;case z:return U=Ts(U),H(B,P,U,$)}if(ft(U)||ot(U))return ut!==null?null:Y(B,P,U,$,null);if(typeof U.then=="function")return H(B,P,Ml(U),$);if(U.$$typeof===_)return H(B,P,Tl(B,U),$);Dl(B,U)}return null}function G(B,P,U,$,ut){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return B=B.get(U)||null,C(P,B,""+$,ut);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return B=B.get($.key===null?U:$.key)||null,R(P,B,$,ut);case w:return B=B.get($.key===null?U:$.key)||null,V(P,B,$,ut);case z:return $=Ts($),G(B,P,U,$,ut)}if(ft($)||ot($))return B=B.get(U)||null,Y(P,B,$,ut,null);if(typeof $.then=="function")return G(B,P,U,Ml($),ut);if($.$$typeof===_)return G(B,P,U,Tl(P,$),ut);Dl(P,$)}return null}function it(B,P,U,$){for(var ut=null,Bt=null,at=P,Tt=P=0,Rt=null;at!==null&&Tt<U.length;Tt++){at.index>Tt?(Rt=at,at=null):Rt=at.sibling;var zt=H(B,at,U[Tt],$);if(zt===null){at===null&&(at=Rt);break}n&&at&&zt.alternate===null&&s(B,at),P=y(zt,P,Tt),Bt===null?ut=zt:Bt.sibling=zt,Bt=zt,at=Rt}if(Tt===U.length)return o(B,at),kt&&fi(B,Tt),ut;if(at===null){for(;Tt<U.length;Tt++)at=K(B,U[Tt],$),at!==null&&(P=y(at,P,Tt),Bt===null?ut=at:Bt.sibling=at,Bt=at);return kt&&fi(B,Tt),ut}for(at=h(at);Tt<U.length;Tt++)Rt=G(at,B,Tt,U[Tt],$),Rt!==null&&(n&&Rt.alternate!==null&&at.delete(Rt.key===null?Tt:Rt.key),P=y(Rt,P,Tt),Bt===null?ut=Rt:Bt.sibling=Rt,Bt=Rt);return n&&at.forEach(function(as){return s(B,as)}),kt&&fi(B,Tt),ut}function mt(B,P,U,$){if(U==null)throw Error(i(151));for(var ut=null,Bt=null,at=P,Tt=P=0,Rt=null,zt=U.next();at!==null&&!zt.done;Tt++,zt=U.next()){at.index>Tt?(Rt=at,at=null):Rt=at.sibling;var as=H(B,at,zt.value,$);if(as===null){at===null&&(at=Rt);break}n&&at&&as.alternate===null&&s(B,at),P=y(as,P,Tt),Bt===null?ut=as:Bt.sibling=as,Bt=as,at=Rt}if(zt.done)return o(B,at),kt&&fi(B,Tt),ut;if(at===null){for(;!zt.done;Tt++,zt=U.next())zt=K(B,zt.value,$),zt!==null&&(P=y(zt,P,Tt),Bt===null?ut=zt:Bt.sibling=zt,Bt=zt);return kt&&fi(B,Tt),ut}for(at=h(at);!zt.done;Tt++,zt=U.next())zt=G(at,B,Tt,zt.value,$),zt!==null&&(n&&zt.alternate!==null&&at.delete(zt.key===null?Tt:zt.key),P=y(zt,P,Tt),Bt===null?ut=zt:Bt.sibling=zt,Bt=zt);return n&&at.forEach(function(_T){return s(B,_T)}),kt&&fi(B,Tt),ut}function Xt(B,P,U,$){if(typeof U=="object"&&U!==null&&U.type===S&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case x:t:{for(var ut=U.key;P!==null;){if(P.key===ut){if(ut=U.type,ut===S){if(P.tag===7){o(B,P.sibling),$=m(P,U.props.children),$.return=B,B=$;break t}}else if(P.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===z&&Ts(ut)===P.type){o(B,P.sibling),$=m(P,U.props),Lr($,U),$.return=B,B=$;break t}o(B,P);break}else s(B,P);P=P.sibling}U.type===S?($=vs(U.props.children,B.mode,$,U.key),$.return=B,B=$):($=Al(U.type,U.key,U.props,null,B.mode,$),Lr($,U),$.return=B,B=$)}return A(B);case w:t:{for(ut=U.key;P!==null;){if(P.key===ut)if(P.tag===4&&P.stateNode.containerInfo===U.containerInfo&&P.stateNode.implementation===U.implementation){o(B,P.sibling),$=m(P,U.children||[]),$.return=B,B=$;break t}else{o(B,P);break}else s(B,P);P=P.sibling}$=Ku(U,B.mode,$),$.return=B,B=$}return A(B);case z:return U=Ts(U),Xt(B,P,U,$)}if(ft(U))return it(B,P,U,$);if(ot(U)){if(ut=ot(U),typeof ut!="function")throw Error(i(150));return U=ut.call(U),mt(B,P,U,$)}if(typeof U.then=="function")return Xt(B,P,Ml(U),$);if(U.$$typeof===_)return Xt(B,P,Tl(B,U),$);Dl(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,P!==null&&P.tag===6?(o(B,P.sibling),$=m(P,U),$.return=B,B=$):(o(B,P),$=$u(U,B.mode,$),$.return=B,B=$),A(B)):o(B,P)}return function(B,P,U,$){try{Nr=0;var ut=Xt(B,P,U,$);return ga=null,ut}catch(at){if(at===ma||at===Cl)throw at;var Bt=un(29,at,null,B.mode);return Bt.lanes=$,Bt.return=B,Bt}finally{}}}var Cs=dg(!0),fg=dg(!1),Vi=!1;function oh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gi(n,s,o){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ft&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,s=xl(n),Wm(n,null,o),s}return vl(n,h,s,o),xl(n)}function kr(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var h=s.lanes;h&=n.pendingLanes,o|=h,s.lanes=o,sm(n,o)}}function ch(n,s){var o=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,o=o.next}while(o!==null);y===null?m=y=s:y=y.next=s}else m=y=s;o={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var uh=!1;function Or(){if(uh){var n=pa;if(n!==null)throw n}}function Pr(n,s,o,h){uh=!1;var m=n.updateQueue;Vi=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var R=C,V=R.next;R.next=null,A===null?y=V:A.next=V,A=R;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==A&&(C===null?Y.firstBaseUpdate=V:C.next=V,Y.lastBaseUpdate=R))}if(y!==null){var K=m.baseState;A=0,Y=V=R=null,C=y;do{var H=C.lane&-536870913,G=H!==C.lane;if(G?(Dt&H)===H:(h&H)===H){H!==0&&H===fa&&(uh=!0),Y!==null&&(Y=Y.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var it=n,mt=C;H=s;var Xt=o;switch(mt.tag){case 1:if(it=mt.payload,typeof it=="function"){K=it.call(Xt,K,H);break t}K=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=mt.payload,H=typeof it=="function"?it.call(Xt,K,H):it,H==null)break t;K=g({},K,H);break t;case 2:Vi=!0}}H=C.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=m.callbacks,G===null?m.callbacks=[H]:G.push(H))}else G={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(V=Y=G,R=K):Y=Y.next=G,A|=H;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;G=C,C=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);Y===null&&(R=K),m.baseState=R,m.firstBaseUpdate=V,m.lastBaseUpdate=Y,y===null&&(m.shared.lanes=0),Ki|=A,n.lanes=A,n.memoizedState=K}}function pg(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function mg(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)pg(o[n],s)}var ya=k(null),Rl=k(0);function gg(n,s){n=Ti,Z(Rl,n),Z(ya,s),Ti=n|s.baseLanes}function hh(){Z(Rl,Ti),Z(ya,ya.current)}function dh(){Ti=Rl.current,q(ya),q(Rl)}var hn=k(null),_n=null;function qi(n){var s=n.alternate;Z(de,de.current&1),Z(hn,n),_n===null&&(s===null||ya.current!==null||s.memoizedState!==null)&&(_n=n)}function fh(n){Z(de,de.current),Z(hn,n),_n===null&&(_n=n)}function yg(n){n.tag===22?(Z(de,de.current),Z(hn,n),_n===null&&(_n=n)):Xi()}function Xi(){Z(de,de.current),Z(hn,hn.current)}function dn(n){q(hn),_n===n&&(_n=null),q(de)}var de=k(0);function Nl(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||vd(o)||xd(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gi=0,St=null,Gt=null,be=null,Ll=!1,ba=!1,_s=!1,kl=0,jr=0,va=null,yw=0;function ce(){throw Error(i(321))}function ph(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!cn(n[o],s[o]))return!1;return!0}function mh(n,s,o,h,m,y){return gi=y,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=n===null||n.memoizedState===null?t0:Rh,_s=!1,y=o(h,m),_s=!1,ba&&(y=vg(s,o,h,m)),bg(n),y}function bg(n){j.H=Fr;var s=Gt!==null&&Gt.next!==null;if(gi=0,be=Gt=St=null,Ll=!1,jr=0,va=null,s)throw Error(i(300));n===null||ve||(n=n.dependencies,n!==null&&wl(n)&&(ve=!0))}function vg(n,s,o,h){St=n;var m=0;do{if(ba&&(va=null),jr=0,ba=!1,25<=m)throw Error(i(301));if(m+=1,be=Gt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=e0,y=s(o,h)}while(ba);return y}function bw(){var n=j.H,s=n.useState()[0];return s=typeof s.then=="function"?Br(s):s,n=n.useState()[0],(Gt!==null?Gt.memoizedState:null)!==n&&(St.flags|=1024),s}function gh(){var n=kl!==0;return kl=0,n}function yh(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function bh(n){if(Ll){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ll=!1}gi=0,be=Gt=St=null,ba=!1,jr=kl=0,va=null}function Ve(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?St.memoizedState=be=n:be=be.next=n,be}function fe(){if(Gt===null){var n=St.alternate;n=n!==null?n.memoizedState:null}else n=Gt.next;var s=be===null?St.memoizedState:be.next;if(s!==null)be=s,Gt=n;else{if(n===null)throw St.alternate===null?Error(i(467)):Error(i(310));Gt=n,n={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},be===null?St.memoizedState=be=n:be=be.next=n}return be}function Ol(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Br(n){var s=jr;return jr+=1,va===null&&(va=[]),n=cg(va,n,s),s=St,(be===null?s.memoizedState:be.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?t0:Rh),n}function Pl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Br(n);if(n.$$typeof===_)return ke(n)}throw Error(i(438,String(n)))}function vh(n){var s=null,o=St.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var h=St.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Ol(),St.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),h=0;h<n;h++)o[h]=W;return s.index++,o}function yi(n,s){return typeof s=="function"?s(n):s}function jl(n){var s=fe();return xh(s,Gt,n)}function xh(n,s,o){var h=n.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=o;var m=n.baseQueue,y=h.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}s.baseQueue=m=y,h.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{s=m.next;var C=A=null,R=null,V=s,Y=!1;do{var K=V.lane&-536870913;if(K!==V.lane?(Dt&K)===K:(gi&K)===K){var H=V.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),K===fa&&(Y=!0);else if((gi&H)===H){V=V.next,H===fa&&(Y=!0);continue}else K={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(C=R=K,A=y):R=R.next=K,St.lanes|=H,Ki|=H;K=V.action,_s&&o(y,K),y=V.hasEagerState?V.eagerState:o(y,K)}else H={lane:K,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(C=R=H,A=y):R=R.next=H,St.lanes|=K,Ki|=K;V=V.next}while(V!==null&&V!==s);if(R===null?A=y:R.next=C,!cn(y,n.memoizedState)&&(ve=!0,Y&&(o=pa,o!==null)))throw o;n.memoizedState=y,n.baseState=A,n.baseQueue=R,h.lastRenderedState=y}return m===null&&(h.lanes=0),[n.memoizedState,h.dispatch]}function Ah(n){var s=fe(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var h=o.dispatch,m=o.pending,y=s.memoizedState;if(m!==null){o.pending=null;var A=m=m.next;do y=n(y,A.action),A=A.next;while(A!==m);cn(y,s.memoizedState)||(ve=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,h]}function xg(n,s,o){var h=St,m=fe(),y=kt;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var A=!cn((Gt||m).memoizedState,o);if(A&&(m.memoizedState=o,ve=!0),m=m.queue,Th(wg.bind(null,h,m,n),[n]),m.getSnapshot!==s||A||be!==null&&be.memoizedState.tag&1){if(h.flags|=2048,xa(9,{destroy:void 0},Sg.bind(null,h,m,o,s),null),$t===null)throw Error(i(349));y||(gi&127)!==0||Ag(h,s,o)}return o}function Ag(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=St.updateQueue,s===null?(s=Ol(),St.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Sg(n,s,o,h){s.value=o,s.getSnapshot=h,Tg(s)&&Eg(n)}function wg(n,s,o){return o(function(){Tg(s)&&Eg(n)})}function Tg(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!cn(n,o)}catch{return!0}}function Eg(n){var s=bs(n,2);s!==null&&Je(s,n,2)}function Sh(n){var s=Ve();if(typeof n=="function"){var o=n;if(n=o(),_s){Pi(!0);try{o()}finally{Pi(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:n},s}function Cg(n,s,o,h){return n.baseState=o,xh(n,Gt,typeof h=="function"?h:yi)}function vw(n,s,o,h,m){if(Fl(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};j.T!==null?o(!0):y.isTransition=!1,h(y),o=s.pending,o===null?(y.next=s.pending=y,_g(s,y)):(y.next=o.next,s.pending=o.next=y)}}function _g(n,s){var o=s.action,h=s.payload,m=n.state;if(s.isTransition){var y=j.T,A={};j.T=A;try{var C=o(m,h),R=j.S;R!==null&&R(A,C),Mg(n,s,C)}catch(V){wh(n,s,V)}finally{y!==null&&A.types!==null&&(y.types=A.types),j.T=y}}else try{y=o(m,h),Mg(n,s,y)}catch(V){wh(n,s,V)}}function Mg(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){Dg(n,s,h)},function(h){return wh(n,s,h)}):Dg(n,s,o)}function Dg(n,s,o){s.status="fulfilled",s.value=o,Rg(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,_g(n,o)))}function wh(n,s,o){var h=n.pending;if(n.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=o,Rg(s),s=s.next;while(s!==h)}n.action=null}function Rg(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Ng(n,s){return s}function Lg(n,s){if(kt){var o=$t.formState;if(o!==null){t:{var h=St;if(kt){if(Zt){e:{for(var m=Zt,y=Cn;m.nodeType!==8;){if(!y){m=null;break e}if(m=Mn(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Zt=Mn(m.nextSibling),h=m.data==="F!";break t}}Ii(h)}h=!1}h&&(s=o[0])}}return o=Ve(),o.memoizedState=o.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:s},o.queue=h,o=Qg.bind(null,St,h),h.dispatch=o,h=Sh(!1),y=Dh.bind(null,St,!1,h.queue),h=Ve(),m={state:s,dispatch:null,action:n,pending:null},h.queue=m,o=vw.bind(null,St,m,y,o),m.dispatch=o,h.memoizedState=n,[s,o,!1]}function kg(n){var s=fe();return Og(s,Gt,n)}function Og(n,s,o){if(s=xh(n,s,Ng)[0],n=jl(yi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Br(s)}catch(A){throw A===ma?Cl:A}else h=s;s=fe();var m=s.queue,y=m.dispatch;return o!==s.memoizedState&&(St.flags|=2048,xa(9,{destroy:void 0},xw.bind(null,m,o),null)),[h,y,n]}function xw(n,s){n.action=s}function Pg(n){var s=fe(),o=Gt;if(o!==null)return Og(s,o,n);fe(),s=s.memoizedState,o=fe();var h=o.queue.dispatch;return o.memoizedState=n,[s,h,!1]}function xa(n,s,o,h){return n={tag:n,create:o,deps:h,inst:s,next:null},s=St.updateQueue,s===null&&(s=Ol(),St.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(h=o.next,o.next=n,n.next=h,s.lastEffect=n),n}function jg(){return fe().memoizedState}function Bl(n,s,o,h){var m=Ve();St.flags|=n,m.memoizedState=xa(1|s,{destroy:void 0},o,h===void 0?null:h)}function zl(n,s,o,h){var m=fe();h=h===void 0?null:h;var y=m.memoizedState.inst;Gt!==null&&h!==null&&ph(h,Gt.memoizedState.deps)?m.memoizedState=xa(s,y,o,h):(St.flags|=n,m.memoizedState=xa(1|s,y,o,h))}function Bg(n,s){Bl(8390656,8,n,s)}function Th(n,s){zl(2048,8,n,s)}function Aw(n){St.flags|=4;var s=St.updateQueue;if(s===null)s=Ol(),St.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function zg(n){var s=fe().memoizedState;return Aw({ref:s,nextImpl:n}),function(){if((Ft&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Fg(n,s){return zl(4,2,n,s)}function Ig(n,s){return zl(4,4,n,s)}function Ug(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Vg(n,s,o){o=o!=null?o.concat([n]):null,zl(4,4,Ug.bind(null,s,n),o)}function Eh(){}function Hg(n,s){var o=fe();s=s===void 0?null:s;var h=o.memoizedState;return s!==null&&ph(s,h[1])?h[0]:(o.memoizedState=[n,s],n)}function Gg(n,s){var o=fe();s=s===void 0?null:s;var h=o.memoizedState;if(s!==null&&ph(s,h[1]))return h[0];if(h=n(),_s){Pi(!0);try{n()}finally{Pi(!1)}}return o.memoizedState=[h,s],h}function Ch(n,s,o){return o===void 0||(gi&1073741824)!==0&&(Dt&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=q0(),St.lanes|=n,Ki|=n,o)}function qg(n,s,o,h){return cn(o,s)?o:ya.current!==null?(n=Ch(n,o,h),cn(n,s)||(ve=!0),n):(gi&42)===0||(gi&1073741824)!==0&&(Dt&261930)===0?(ve=!0,n.memoizedState=o):(n=q0(),St.lanes|=n,Ki|=n,s)}function Xg(n,s,o,h,m){var y=I.p;I.p=y!==0&&8>y?y:8;var A=j.T,C={};j.T=C,Dh(n,!1,s,o);try{var R=m(),V=j.S;if(V!==null&&V(C,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=gw(R,h);zr(n,s,Y,mn(n))}else zr(n,s,h,mn(n))}catch(K){zr(n,s,{then:function(){},status:"rejected",reason:K},mn())}finally{I.p=y,A!==null&&C.types!==null&&(A.types=C.types),j.T=A}}function Sw(){}function _h(n,s,o,h){if(n.tag!==5)throw Error(i(476));var m=Yg(n).queue;Xg(n,m,s,Q,o===null?Sw:function(){return $g(n),o(h)})}function Yg(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Q},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function $g(n){var s=Yg(n);s.next===null&&(s=n.alternate.memoizedState),zr(n,s.next.queue,{},mn())}function Mh(){return ke(eo)}function Kg(){return fe().memoizedState}function Wg(){return fe().memoizedState}function ww(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=mn();n=Hi(o);var h=Gi(s,n,o);h!==null&&(Je(h,s,o),kr(h,s,o)),s={cache:ih()},n.payload=s;return}s=s.return}}function Tw(n,s,o){var h=mn();o={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fl(n)?Zg(s,o):(o=Xu(n,s,o,h),o!==null&&(Je(o,n,h),Jg(o,s,h)))}function Qg(n,s,o){var h=mn();zr(n,s,o,h)}function zr(n,s,o,h){var m={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fl(n))Zg(s,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var A=s.lastRenderedState,C=y(A,o);if(m.hasEagerState=!0,m.eagerState=C,cn(C,A))return vl(n,s,m,0),$t===null&&bl(),!1}catch{}finally{}if(o=Xu(n,s,m,h),o!==null)return Je(o,n,h),Jg(o,s,h),!0}return!1}function Dh(n,s,o,h){if(h={lane:2,revertLane:od(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Fl(n)){if(s)throw Error(i(479))}else s=Xu(n,o,h,2),s!==null&&Je(s,n,2)}function Fl(n){var s=n.alternate;return n===St||s!==null&&s===St}function Zg(n,s){ba=Ll=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Jg(n,s,o){if((o&4194048)!==0){var h=s.lanes;h&=n.pendingLanes,o|=h,s.lanes=o,sm(n,o)}}var Fr={readContext:ke,use:Pl,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Fr.useEffectEvent=ce;var t0={readContext:ke,use:Pl,useCallback:function(n,s){return Ve().memoizedState=[n,s===void 0?null:s],n},useContext:ke,useEffect:Bg,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Bl(4194308,4,Ug.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Bl(4194308,4,n,s)},useInsertionEffect:function(n,s){Bl(4,2,n,s)},useMemo:function(n,s){var o=Ve();s=s===void 0?null:s;var h=n();if(_s){Pi(!0);try{n()}finally{Pi(!1)}}return o.memoizedState=[h,s],h},useReducer:function(n,s,o){var h=Ve();if(o!==void 0){var m=o(s);if(_s){Pi(!0);try{o(s)}finally{Pi(!1)}}}else m=s;return h.memoizedState=h.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},h.queue=n,n=n.dispatch=Tw.bind(null,St,n),[h.memoizedState,n]},useRef:function(n){var s=Ve();return n={current:n},s.memoizedState=n},useState:function(n){n=Sh(n);var s=n.queue,o=Qg.bind(null,St,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Eh,useDeferredValue:function(n,s){var o=Ve();return Ch(o,n,s)},useTransition:function(){var n=Sh(!1);return n=Xg.bind(null,St,n.queue,!0,!1),Ve().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var h=St,m=Ve();if(kt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),$t===null)throw Error(i(349));(Dt&127)!==0||Ag(h,s,o)}m.memoizedState=o;var y={value:o,getSnapshot:s};return m.queue=y,Bg(wg.bind(null,h,y,n),[n]),h.flags|=2048,xa(9,{destroy:void 0},Sg.bind(null,h,y,o,s),null),o},useId:function(){var n=Ve(),s=$t.identifierPrefix;if(kt){var o=$n,h=Yn;o=(h&~(1<<32-ln(h)-1)).toString(32)+o,s="_"+s+"R_"+o,o=kl++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=yw++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Mh,useFormState:Lg,useActionState:Lg,useOptimistic:function(n){var s=Ve();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Dh.bind(null,St,!0,o),o.dispatch=s,[n,s]},useMemoCache:vh,useCacheRefresh:function(){return Ve().memoizedState=ww.bind(null,St)},useEffectEvent:function(n){var s=Ve(),o={impl:n};return s.memoizedState=o,function(){if((Ft&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Rh={readContext:ke,use:Pl,useCallback:Hg,useContext:ke,useEffect:Th,useImperativeHandle:Vg,useInsertionEffect:Fg,useLayoutEffect:Ig,useMemo:Gg,useReducer:jl,useRef:jg,useState:function(){return jl(yi)},useDebugValue:Eh,useDeferredValue:function(n,s){var o=fe();return qg(o,Gt.memoizedState,n,s)},useTransition:function(){var n=jl(yi)[0],s=fe().memoizedState;return[typeof n=="boolean"?n:Br(n),s]},useSyncExternalStore:xg,useId:Kg,useHostTransitionStatus:Mh,useFormState:kg,useActionState:kg,useOptimistic:function(n,s){var o=fe();return Cg(o,Gt,n,s)},useMemoCache:vh,useCacheRefresh:Wg};Rh.useEffectEvent=zg;var e0={readContext:ke,use:Pl,useCallback:Hg,useContext:ke,useEffect:Th,useImperativeHandle:Vg,useInsertionEffect:Fg,useLayoutEffect:Ig,useMemo:Gg,useReducer:Ah,useRef:jg,useState:function(){return Ah(yi)},useDebugValue:Eh,useDeferredValue:function(n,s){var o=fe();return Gt===null?Ch(o,n,s):qg(o,Gt.memoizedState,n,s)},useTransition:function(){var n=Ah(yi)[0],s=fe().memoizedState;return[typeof n=="boolean"?n:Br(n),s]},useSyncExternalStore:xg,useId:Kg,useHostTransitionStatus:Mh,useFormState:Pg,useActionState:Pg,useOptimistic:function(n,s){var o=fe();return Gt!==null?Cg(o,Gt,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:vh,useCacheRefresh:Wg};e0.useEffectEvent=zg;function Nh(n,s,o,h){s=n.memoizedState,o=o(h,s),o=o==null?s:g({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Lh={enqueueSetState:function(n,s,o){n=n._reactInternals;var h=mn(),m=Hi(h);m.payload=s,o!=null&&(m.callback=o),s=Gi(n,m,h),s!==null&&(Je(s,n,h),kr(s,n,h))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var h=mn(),m=Hi(h);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Gi(n,m,h),s!==null&&(Je(s,n,h),kr(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=mn(),h=Hi(o);h.tag=2,s!=null&&(h.callback=s),s=Gi(n,h,o),s!==null&&(Je(s,n,o),kr(s,n,o))}};function n0(n,s,o,h,m,y,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,y,A):s.prototype&&s.prototype.isPureReactComponent?!Er(o,h)||!Er(m,y):!0}function i0(n,s,o,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,h),s.state!==n&&Lh.enqueueReplaceState(s,s.state,null)}function Ms(n,s){var o=s;if("ref"in s){o={};for(var h in s)h!=="ref"&&(o[h]=s[h])}if(n=n.defaultProps){o===s&&(o=g({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}function s0(n){yl(n)}function a0(n){console.error(n)}function r0(n){yl(n)}function Il(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function o0(n,s,o){try{var h=n.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function kh(n,s,o){return o=Hi(o),o.tag=3,o.payload={element:null},o.callback=function(){Il(n,s)},o}function l0(n){return n=Hi(n),n.tag=3,n}function c0(n,s,o,h){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=h.value;n.payload=function(){return m(y)},n.callback=function(){o0(s,o,h)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){o0(s,o,h),typeof m!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function Ew(n,s,o,h,m){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=o.alternate,s!==null&&da(s,o,m,!0),o=hn.current,o!==null){switch(o.tag){case 31:case 13:return _n===null?Zl():o.alternate===null&&ue===0&&(ue=3),o.flags&=-257,o.flags|=65536,o.lanes=m,h===_l?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([h]):s.add(h),sd(n,h,m)),!1;case 22:return o.flags|=65536,h===_l?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([h]):o.add(h)),sd(n,h,m)),!1}throw Error(i(435,o.tag))}return sd(n,h,m),Zl(),!1}if(kt)return s=hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,h!==Zu&&(n=Error(i(422),{cause:h}),Mr(wn(n,o)))):(h!==Zu&&(s=Error(i(423),{cause:h}),Mr(wn(s,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,h=wn(h,o),m=kh(n.stateNode,h,m),ch(n,m),ue!==4&&(ue=2)),!1;var y=Error(i(520),{cause:h});if(y=wn(y,o),Yr===null?Yr=[y]:Yr.push(y),ue!==4&&(ue=2),s===null)return!0;h=wn(h,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=kh(o.stateNode,h,n),ch(o,n),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wi===null||!Wi.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=l0(m),c0(m,n,o,h),ch(o,m),!1}o=o.return}while(o!==null);return!1}var Oh=Error(i(461)),ve=!1;function Oe(n,s,o,h){s.child=n===null?fg(s,null,o,h):Cs(s,n.child,o,h)}function u0(n,s,o,h,m){o=o.render;var y=s.ref;if("ref"in h){var A={};for(var C in h)C!=="ref"&&(A[C]=h[C])}else A=h;return Ss(s),h=mh(n,s,o,A,y,m),C=gh(),n!==null&&!ve?(yh(n,s,m),bi(n,s,m)):(kt&&C&&Wu(s),s.flags|=1,Oe(n,s,h,m),s.child)}function h0(n,s,o,h,m){if(n===null){var y=o.type;return typeof y=="function"&&!Yu(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,d0(n,s,y,h,m)):(n=Al(o.type,null,h,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Vh(n,m)){var A=y.memoizedProps;if(o=o.compare,o=o!==null?o:Er,o(A,h)&&n.ref===s.ref)return bi(n,s,m)}return s.flags|=1,n=di(y,h),n.ref=s.ref,n.return=s,s.child=n}function d0(n,s,o,h,m){if(n!==null){var y=n.memoizedProps;if(Er(y,h)&&n.ref===s.ref)if(ve=!1,s.pendingProps=h=y,Vh(n,m))(n.flags&131072)!==0&&(ve=!0);else return s.lanes=n.lanes,bi(n,s,m)}return Ph(n,s,o,h,m)}function f0(n,s,o,h){var m=h.children,y=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,n!==null){for(h=s.child=n.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;h=m&~y}else h=0,s.child=null;return p0(n,s,y,o,h)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&El(s,y!==null?y.cachePool:null),y!==null?gg(s,y):hh(),yg(s);else return h=s.lanes=536870912,p0(n,s,y!==null?y.baseLanes|o:o,o,h)}else y!==null?(El(s,y.cachePool),gg(s,y),Xi(),s.memoizedState=null):(n!==null&&El(s,null),hh(),Xi());return Oe(n,s,m,o),s.child}function Ir(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function p0(n,s,o,h,m){var y=ah();return y=y===null?null:{parent:ye._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},n!==null&&El(s,null),hh(),yg(s),n!==null&&da(n,s,h,!0),s.childLanes=m,null}function Ul(n,s){return s=Hl({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function m0(n,s,o){return Cs(s,n.child,null,o),n=Ul(s,s.pendingProps),n.flags|=2,dn(s),s.memoizedState=null,n}function Cw(n,s,o){var h=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(kt){if(h.mode==="hidden")return n=Ul(s,h),s.lanes=536870912,Ir(null,n);if(fh(s),(n=Zt)?(n=_y(n,Cn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:zi!==null?{id:Yn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},o=Zm(n),o.return=s,s.child=o,Le=s,Zt=null)):n=null,n===null)throw Ii(s);return s.lanes=536870912,null}return Ul(s,h)}var y=n.memoizedState;if(y!==null){var A=y.dehydrated;if(fh(s),m)if(s.flags&256)s.flags&=-257,s=m0(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(ve||da(n,s,o,!1),m=(o&n.childLanes)!==0,ve||m){if(h=$t,h!==null&&(A=am(h,o),A!==0&&A!==y.retryLane))throw y.retryLane=A,bs(n,A),Je(h,n,A),Oh;Zl(),s=m0(n,s,o)}else n=y.treeContext,Zt=Mn(A.nextSibling),Le=s,kt=!0,Fi=null,Cn=!1,n!==null&&eg(s,n),s=Ul(s,h),s.flags|=4096;return s}return n=di(n.child,{mode:h.mode,children:h.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Vl(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Ph(n,s,o,h,m){return Ss(s),o=mh(n,s,o,h,void 0,m),h=gh(),n!==null&&!ve?(yh(n,s,m),bi(n,s,m)):(kt&&h&&Wu(s),s.flags|=1,Oe(n,s,o,m),s.child)}function g0(n,s,o,h,m,y){return Ss(s),s.updateQueue=null,o=vg(s,h,o,m),bg(n),h=gh(),n!==null&&!ve?(yh(n,s,y),bi(n,s,y)):(kt&&h&&Wu(s),s.flags|=1,Oe(n,s,o,y),s.child)}function y0(n,s,o,h,m){if(Ss(s),s.stateNode===null){var y=la,A=o.contextType;typeof A=="object"&&A!==null&&(y=ke(A)),y=new o(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Lh,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},oh(s),A=o.contextType,y.context=typeof A=="object"&&A!==null?ke(A):la,y.state=s.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Nh(s,o,A,h),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Lh.enqueueReplaceState(y,y.state,null),Pr(s,h,y,m),Or(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(n===null){y=s.stateNode;var C=s.memoizedProps,R=Ms(o,C);y.props=R;var V=y.context,Y=o.contextType;A=la,typeof Y=="object"&&Y!==null&&(A=ke(Y));var K=o.getDerivedStateFromProps;Y=typeof K=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||V!==A)&&i0(s,y,h,A),Vi=!1;var H=s.memoizedState;y.state=H,Pr(s,h,y,m),Or(),V=s.memoizedState,C||H!==V||Vi?(typeof K=="function"&&(Nh(s,o,K,h),V=s.memoizedState),(R=Vi||n0(s,o,R,h,H,V,A))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=V),y.props=h,y.state=V,y.context=A,h=R):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,lh(n,s),A=s.memoizedProps,Y=Ms(o,A),y.props=Y,K=s.pendingProps,H=y.context,V=o.contextType,R=la,typeof V=="object"&&V!==null&&(R=ke(V)),C=o.getDerivedStateFromProps,(V=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==K||H!==R)&&i0(s,y,h,R),Vi=!1,H=s.memoizedState,y.state=H,Pr(s,h,y,m),Or();var G=s.memoizedState;A!==K||H!==G||Vi||n!==null&&n.dependencies!==null&&wl(n.dependencies)?(typeof C=="function"&&(Nh(s,o,C,h),G=s.memoizedState),(Y=Vi||n0(s,o,Y,h,H,G,R)||n!==null&&n.dependencies!==null&&wl(n.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,G,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,G,R)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=G),y.props=h,y.state=G,y.context=R,h=Y):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),h=!1)}return y=h,Vl(n,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&h?(s.child=Cs(s,n.child,null,m),s.child=Cs(s,null,o,m)):Oe(n,s,o,m),s.memoizedState=y.state,n=s.child):n=bi(n,s,m),n}function b0(n,s,o,h){return xs(),s.flags|=256,Oe(n,s,o,h),s.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bh(n){return{baseLanes:n,cachePool:og()}}function zh(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=pn),n}function v0(n,s,o){var h=s.pendingProps,m=!1,y=(s.flags&128)!==0,A;if((A=y)||(A=n!==null&&n.memoizedState===null?!1:(de.current&2)!==0),A&&(m=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,n===null){if(kt){if(m?qi(s):Xi(),(n=Zt)?(n=_y(n,Cn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:zi!==null?{id:Yn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},o=Zm(n),o.return=s,s.child=o,Le=s,Zt=null)):n=null,n===null)throw Ii(s);return xd(n)?s.lanes=32:s.lanes=536870912,null}var C=h.children;return h=h.fallback,m?(Xi(),m=s.mode,C=Hl({mode:"hidden",children:C},m),h=vs(h,m,o,null),C.return=s,h.return=s,C.sibling=h,s.child=C,h=s.child,h.memoizedState=Bh(o),h.childLanes=zh(n,A,o),s.memoizedState=jh,Ir(null,h)):(qi(s),Fh(s,C))}var R=n.memoizedState;if(R!==null&&(C=R.dehydrated,C!==null)){if(y)s.flags&256?(qi(s),s.flags&=-257,s=Ih(n,s,o)):s.memoizedState!==null?(Xi(),s.child=n.child,s.flags|=128,s=null):(Xi(),C=h.fallback,m=s.mode,h=Hl({mode:"visible",children:h.children},m),C=vs(C,m,o,null),C.flags|=2,h.return=s,C.return=s,h.sibling=C,s.child=h,Cs(s,n.child,null,o),h=s.child,h.memoizedState=Bh(o),h.childLanes=zh(n,A,o),s.memoizedState=jh,s=Ir(null,h));else if(qi(s),xd(C)){if(A=C.nextSibling&&C.nextSibling.dataset,A)var V=A.dgst;A=V,h=Error(i(419)),h.stack="",h.digest=A,Mr({value:h,source:null,stack:null}),s=Ih(n,s,o)}else if(ve||da(n,s,o,!1),A=(o&n.childLanes)!==0,ve||A){if(A=$t,A!==null&&(h=am(A,o),h!==0&&h!==R.retryLane))throw R.retryLane=h,bs(n,h),Je(A,n,h),Oh;vd(C)||Zl(),s=Ih(n,s,o)}else vd(C)?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,Zt=Mn(C.nextSibling),Le=s,kt=!0,Fi=null,Cn=!1,n!==null&&eg(s,n),s=Fh(s,h.children),s.flags|=4096);return s}return m?(Xi(),C=h.fallback,m=s.mode,R=n.child,V=R.sibling,h=di(R,{mode:"hidden",children:h.children}),h.subtreeFlags=R.subtreeFlags&65011712,V!==null?C=di(V,C):(C=vs(C,m,o,null),C.flags|=2),C.return=s,h.return=s,h.sibling=C,s.child=h,Ir(null,h),h=s.child,C=n.child.memoizedState,C===null?C=Bh(o):(m=C.cachePool,m!==null?(R=ye._currentValue,m=m.parent!==R?{parent:R,pool:R}:m):m=og(),C={baseLanes:C.baseLanes|o,cachePool:m}),h.memoizedState=C,h.childLanes=zh(n,A,o),s.memoizedState=jh,Ir(n.child,h)):(qi(s),o=n.child,n=o.sibling,o=di(o,{mode:"visible",children:h.children}),o.return=s,o.sibling=null,n!==null&&(A=s.deletions,A===null?(s.deletions=[n],s.flags|=16):A.push(n)),s.child=o,s.memoizedState=null,o)}function Fh(n,s){return s=Hl({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Hl(n,s){return n=un(22,n,null,s),n.lanes=0,n}function Ih(n,s,o){return Cs(s,n.child,null,o),n=Fh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function x0(n,s,o){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),eh(n.return,s,o)}function Uh(n,s,o,h,m,y){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:m,treeForkCount:y}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=o,A.tailMode=m,A.treeForkCount=y)}function A0(n,s,o){var h=s.pendingProps,m=h.revealOrder,y=h.tail;h=h.children;var A=de.current,C=(A&2)!==0;if(C?(A=A&1|2,s.flags|=128):A&=1,Z(de,A),Oe(n,s,h,o),h=kt?_r:0,!C&&n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&x0(n,o,s);else if(n.tag===19)x0(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)n=o.alternate,n!==null&&Nl(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Uh(s,!1,m,o,y,h);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&Nl(n)===null){s.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}Uh(s,!0,o,null,y,h);break;case"together":Uh(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function bi(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Ki|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(da(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=di(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=di(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Vh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&wl(n)))}function _w(n,s,o){switch(s.tag){case 3:Qt(s,s.stateNode.containerInfo),Ui(s,ye,n.memoizedState.cache),xs();break;case 27:case 5:Ut(s);break;case 4:Qt(s,s.stateNode.containerInfo);break;case 10:Ui(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,fh(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(qi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?v0(n,s,o):(qi(s),n=bi(n,s,o),n!==null?n.sibling:null);qi(s);break;case 19:var m=(n.flags&128)!==0;if(h=(o&s.childLanes)!==0,h||(da(n,s,o,!1),h=(o&s.childLanes)!==0),m){if(h)return A0(n,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Z(de,de.current),h)break;return null;case 22:return s.lanes=0,f0(n,s,o,s.pendingProps);case 24:Ui(s,ye,n.memoizedState.cache)}return bi(n,s,o)}function S0(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)ve=!0;else{if(!Vh(n,o)&&(s.flags&128)===0)return ve=!1,_w(n,s,o);ve=(n.flags&131072)!==0}else ve=!1,kt&&(s.flags&1048576)!==0&&tg(s,_r,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(n=Ts(s.elementType),s.type=n,typeof n=="function")Yu(n)?(h=Ms(n,h),s.tag=1,s=y0(null,s,n,h,o)):(s.tag=0,s=Ph(null,s,n,h,o));else{if(n!=null){var m=n.$$typeof;if(m===N){s.tag=11,s=u0(null,s,n,h,o);break t}else if(m===L){s.tag=14,s=h0(null,s,n,h,o);break t}}throw s=st(n)||n,Error(i(306,s,""))}}return s;case 0:return Ph(n,s,s.type,s.pendingProps,o);case 1:return h=s.type,m=Ms(h,s.pendingProps),y0(n,s,h,m,o);case 3:t:{if(Qt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));h=s.pendingProps;var y=s.memoizedState;m=y.element,lh(n,s),Pr(s,h,null,o);var A=s.memoizedState;if(h=A.cache,Ui(s,ye,h),h!==y.cache&&nh(s,[ye],o,!0),Or(),h=A.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=b0(n,s,h,o);break t}else if(h!==m){m=wn(Error(i(424)),s),Mr(m),s=b0(n,s,h,o);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Zt=Mn(n.firstChild),Le=s,kt=!0,Fi=null,Cn=!0,o=fg(s,null,h,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xs(),h===m){s=bi(n,s,o);break t}Oe(n,s,h,o)}s=s.child}return s;case 26:return Vl(n,s),n===null?(o=ky(s.type,null,s.pendingProps,null))?s.memoizedState=o:kt||(o=s.type,n=s.pendingProps,h=ac(pt.current).createElement(o),h[Ne]=s,h[Ye]=n,Pe(h,o,n),Ee(h),s.stateNode=h):s.memoizedState=ky(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ut(s),n===null&&kt&&(h=s.stateNode=Ry(s.type,s.pendingProps,pt.current),Le=s,Cn=!0,m=Zt,ts(s.type)?(Ad=m,Zt=Mn(h.firstChild)):Zt=m),Oe(n,s,s.pendingProps.children,o),Vl(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&kt&&((m=h=Zt)&&(h=iT(h,s.type,s.pendingProps,Cn),h!==null?(s.stateNode=h,Le=s,Zt=Mn(h.firstChild),Cn=!1,m=!0):m=!1),m||Ii(s)),Ut(s),m=s.type,y=s.pendingProps,A=n!==null?n.memoizedProps:null,h=y.children,gd(m,y)?h=null:A!==null&&gd(m,A)&&(s.flags|=32),s.memoizedState!==null&&(m=mh(n,s,bw,null,null,o),eo._currentValue=m),Vl(n,s),Oe(n,s,h,o),s.child;case 6:return n===null&&kt&&((n=o=Zt)&&(o=sT(o,s.pendingProps,Cn),o!==null?(s.stateNode=o,Le=s,Zt=null,n=!0):n=!1),n||Ii(s)),null;case 13:return v0(n,s,o);case 4:return Qt(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=Cs(s,null,h,o):Oe(n,s,h,o),s.child;case 11:return u0(n,s,s.type,s.pendingProps,o);case 7:return Oe(n,s,s.pendingProps,o),s.child;case 8:return Oe(n,s,s.pendingProps.children,o),s.child;case 12:return Oe(n,s,s.pendingProps.children,o),s.child;case 10:return h=s.pendingProps,Ui(s,s.type,h.value),Oe(n,s,h.children,o),s.child;case 9:return m=s.type._context,h=s.pendingProps.children,Ss(s),m=ke(m),h=h(m),s.flags|=1,Oe(n,s,h,o),s.child;case 14:return h0(n,s,s.type,s.pendingProps,o);case 15:return d0(n,s,s.type,s.pendingProps,o);case 19:return A0(n,s,o);case 31:return Cw(n,s,o);case 22:return f0(n,s,o,s.pendingProps);case 24:return Ss(s),h=ke(ye),n===null?(m=ah(),m===null&&(m=$t,y=ih(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),s.memoizedState={parent:h,cache:m},oh(s),Ui(s,ye,m)):((n.lanes&o)!==0&&(lh(n,s),Pr(s,null,null,o),Or()),m=n.memoizedState,y=s.memoizedState,m.parent!==h?(m={parent:h,cache:h},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ui(s,ye,h)):(h=y.cache,Ui(s,ye,h),h!==m.cache&&nh(s,[ye],o,!0))),Oe(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function vi(n){n.flags|=4}function Hh(n,s,o,h,m){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(K0())n.flags|=8192;else throw Es=_l,rh}else n.flags&=-16777217}function w0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!zy(s))if(K0())n.flags|=8192;else throw Es=_l,rh}function Gl(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?nm():536870912,n.lanes|=s,Ta|=s)}function Ur(n,s){if(!kt)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Jt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,h=0;if(s)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=h,n.childLanes=o,s}function Mw(n,s,o){var h=s.pendingProps;switch(Qu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return Jt(s),null;case 3:return o=s.stateNode,h=null,n!==null&&(h=n.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),mi(ye),Ct(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ha(s)?vi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ju())),Jt(s),null;case 26:var m=s.type,y=s.memoizedState;return n===null?(vi(s),y!==null?(Jt(s),w0(s,y)):(Jt(s),Hh(s,m,null,h,o))):y?y!==n.memoizedState?(vi(s),Jt(s),w0(s,y)):(Jt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==h&&vi(s),Jt(s),Hh(s,m,n,h,o)),null;case 27:if(Xe(s),o=pt.current,m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&vi(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return Jt(s),null}n=tt.current,ha(s)?ng(s):(n=Ry(m,h,o),s.stateNode=n,vi(s))}return Jt(s),null;case 5:if(Xe(s),m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==h&&vi(s);else{if(!h){if(s.stateNode===null)throw Error(i(166));return Jt(s),null}if(y=tt.current,ha(s))ng(s);else{var A=ac(pt.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?A.createElement(m,{is:h.is}):A.createElement(m)}}y[Ne]=s,y[Ye]=h;t:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break t;for(;A.sibling===null;){if(A.return===null||A.return===s)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=y;t:switch(Pe(y,m,h),m){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&vi(s)}}return Jt(s),Hh(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==h&&vi(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(i(166));if(n=pt.current,ha(s)){if(n=s.stateNode,o=s.memoizedProps,h=null,m=Le,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}n[Ne]=s,n=!!(n.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||vy(n.nodeValue,o)),n||Ii(s,!0)}else n=ac(n).createTextNode(h),n[Ne]=s,s.stateNode=n}return Jt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(h=ha(s),o!==null){if(n===null){if(!h)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Ne]=s}else xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),n=!1}else o=Ju(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(dn(s),s):(dn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Jt(s),null;case 13:if(h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=ha(s),h!==null&&h.dehydrated!==null){if(n===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ne]=s}else xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),m=!1}else m=Ju(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(dn(s),s):(dn(s),null)}return dn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=h!==null,n=n!==null&&n.memoizedState!==null,o&&(h=s.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Gl(s,s.updateQueue),Jt(s),null);case 4:return Ct(),n===null&&hd(s.stateNode.containerInfo),Jt(s),null;case 10:return mi(s.type),Jt(s),null;case 19:if(q(de),h=s.memoizedState,h===null)return Jt(s),null;if(m=(s.flags&128)!==0,y=h.rendering,y===null)if(m)Ur(h,!1);else{if(ue!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Nl(n),y!==null){for(s.flags|=128,Ur(h,!1),n=y.updateQueue,s.updateQueue=n,Gl(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Qm(o,n),o=o.sibling;return Z(de,de.current&1|2),kt&&fi(s,h.treeForkCount),s.child}n=n.sibling}h.tail!==null&&Ue()>Kl&&(s.flags|=128,m=!0,Ur(h,!1),s.lanes=4194304)}else{if(!m)if(n=Nl(y),n!==null){if(s.flags|=128,m=!0,n=n.updateQueue,s.updateQueue=n,Gl(s,n),Ur(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!kt)return Jt(s),null}else 2*Ue()-h.renderingStartTime>Kl&&o!==536870912&&(s.flags|=128,m=!0,Ur(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(n=h.last,n!==null?n.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Ue(),n.sibling=null,o=de.current,Z(de,m?o&1|2:o&1),kt&&fi(s,h.treeForkCount),n):(Jt(s),null);case 22:case 23:return dn(s),dh(),h=s.memoizedState!==null,n!==null?n.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(o&536870912)!==0&&(s.flags&128)===0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),o=s.updateQueue,o!==null&&Gl(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==o&&(s.flags|=2048),n!==null&&q(ws),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),mi(ye),Jt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Dw(n,s){switch(Qu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return mi(ye),Ct(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Xe(s),null;case 31:if(s.memoizedState!==null){if(dn(s),s.alternate===null)throw Error(i(340));xs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(dn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));xs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return q(de),null;case 4:return Ct(),null;case 10:return mi(s.type),null;case 22:case 23:return dn(s),dh(),n!==null&&q(ws),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return mi(ye),null;case 25:return null;default:return null}}function T0(n,s){switch(Qu(s),s.tag){case 3:mi(ye),Ct();break;case 26:case 27:case 5:Xe(s);break;case 4:Ct();break;case 31:s.memoizedState!==null&&dn(s);break;case 13:dn(s);break;case 19:q(de);break;case 10:mi(s.type);break;case 22:case 23:dn(s),dh(),n!==null&&q(ws);break;case 24:mi(ye)}}function Vr(n,s){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&n)===n){h=void 0;var y=o.create,A=o.inst;h=y(),A.destroy=h}o=o.next}while(o!==m)}}catch(C){Ht(s,s.return,C)}}function Yi(n,s,o){try{var h=s.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&n)===n){var A=h.inst,C=A.destroy;if(C!==void 0){A.destroy=void 0,m=s;var R=o,V=C;try{V()}catch(Y){Ht(m,R,Y)}}}h=h.next}while(h!==y)}}catch(Y){Ht(s,s.return,Y)}}function E0(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{mg(s,o)}catch(h){Ht(n,n.return,h)}}}function C0(n,s,o){o.props=Ms(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(h){Ht(n,s,h)}}function Hr(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var h=n.stateNode;break;case 30:h=n.stateNode;break;default:h=n.stateNode}typeof o=="function"?n.refCleanup=o(h):o.current=h}}catch(m){Ht(n,s,m)}}function Kn(n,s){var o=n.ref,h=n.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(m){Ht(n,s,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ht(n,s,m)}else o.current=null}function _0(n){var s=n.type,o=n.memoizedProps,h=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break t;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(m){Ht(n,n.return,m)}}function Gh(n,s,o){try{var h=n.stateNode;Qw(h,n.type,o,s),h[Ye]=s}catch(m){Ht(n,n.return,m)}}function M0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ts(n.type)||n.tag===4}function qh(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||M0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ts(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xh(n,s,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ui));else if(h!==4&&(h===27&&ts(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Xh(n,s,o),n=n.sibling;n!==null;)Xh(n,s,o),n=n.sibling}function ql(n,s,o){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(h!==4&&(h===27&&ts(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(ql(n,s,o),n=n.sibling;n!==null;)ql(n,s,o),n=n.sibling}function D0(n){var s=n.stateNode,o=n.memoizedProps;try{for(var h=n.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Pe(s,h,o),s[Ne]=n,s[Ye]=o}catch(y){Ht(n,n.return,y)}}var xi=!1,xe=!1,Yh=!1,R0=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Rw(n,s){if(n=n.containerInfo,pd=dc,n=Vm(n),Iu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var A=0,C=-1,R=-1,V=0,Y=0,K=n,H=null;e:for(;;){for(var G;K!==o||m!==0&&K.nodeType!==3||(C=A+m),K!==y||h!==0&&K.nodeType!==3||(R=A+h),K.nodeType===3&&(A+=K.nodeValue.length),(G=K.firstChild)!==null;)H=K,K=G;for(;;){if(K===n)break e;if(H===o&&++V===m&&(C=A),H===y&&++Y===h&&(R=A),(G=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=G}o=C===-1||R===-1?null:{start:C,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(md={focusedElem:n,selectionRange:o},dc=!1,Ce=s;Ce!==null;)if(s=Ce,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ce=n;else for(;Ce!==null;){switch(s=Ce,y=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)m=n[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=s,m=y.memoizedProps,y=y.memoizedState,h=o.stateNode;try{var it=Ms(o.type,m);n=h.getSnapshotBeforeUpdate(it,y),h.__reactInternalSnapshotBeforeUpdate=n}catch(mt){Ht(o,o.return,mt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)bd(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Ce=n;break}Ce=s.return}}function N0(n,s,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Si(n,o),h&4&&Vr(5,o);break;case 1:if(Si(n,o),h&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(A){Ht(o,o.return,A)}else{var m=Ms(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(m,s,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Ht(o,o.return,A)}}h&64&&E0(o),h&512&&Hr(o,o.return);break;case 3:if(Si(n,o),h&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{mg(n,s)}catch(A){Ht(o,o.return,A)}}break;case 27:s===null&&h&4&&D0(o);case 26:case 5:Si(n,o),s===null&&h&4&&_0(o),h&512&&Hr(o,o.return);break;case 12:Si(n,o);break;case 31:Si(n,o),h&4&&O0(n,o);break;case 13:Si(n,o),h&4&&P0(n,o),h&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Fw.bind(null,o),aT(n,o))));break;case 22:if(h=o.memoizedState!==null||xi,!h){s=s!==null&&s.memoizedState!==null||xe,m=xi;var y=xe;xi=h,(xe=s)&&!y?wi(n,o,(o.subtreeFlags&8772)!==0):Si(n,o),xi=m,xe=y}break;case 30:break;default:Si(n,o)}}function L0(n){var s=n.alternate;s!==null&&(n.alternate=null,L0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&wu(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var te=null,Ke=!1;function Ai(n,s,o){for(o=o.child;o!==null;)k0(n,s,o),o=o.sibling}function k0(n,s,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(fr,o)}catch{}switch(o.tag){case 26:xe||Kn(o,s),Ai(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xe||Kn(o,s);var h=te,m=Ke;ts(o.type)&&(te=o.stateNode,Ke=!1),Ai(n,s,o),Zr(o.stateNode),te=h,Ke=m;break;case 5:xe||Kn(o,s);case 6:if(h=te,m=Ke,te=null,Ai(n,s,o),te=h,Ke=m,te!==null)if(Ke)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(o.stateNode)}catch(y){Ht(o,s,y)}else try{te.removeChild(o.stateNode)}catch(y){Ht(o,s,y)}break;case 18:te!==null&&(Ke?(n=te,Ey(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),La(n)):Ey(te,o.stateNode));break;case 4:h=te,m=Ke,te=o.stateNode.containerInfo,Ke=!0,Ai(n,s,o),te=h,Ke=m;break;case 0:case 11:case 14:case 15:Yi(2,o,s),xe||Yi(4,o,s),Ai(n,s,o);break;case 1:xe||(Kn(o,s),h=o.stateNode,typeof h.componentWillUnmount=="function"&&C0(o,s,h)),Ai(n,s,o);break;case 21:Ai(n,s,o);break;case 22:xe=(h=xe)||o.memoizedState!==null,Ai(n,s,o),xe=h;break;default:Ai(n,s,o)}}function O0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{La(n)}catch(o){Ht(s,s.return,o)}}}function P0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{La(n)}catch(o){Ht(s,s.return,o)}}function Nw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new R0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new R0),s;default:throw Error(i(435,n.tag))}}function Xl(n,s){var o=Nw(n);s.forEach(function(h){if(!o.has(h)){o.add(h);var m=Iw.bind(null,n,h);h.then(m,m)}})}function We(n,s){var o=s.deletions;if(o!==null)for(var h=0;h<o.length;h++){var m=o[h],y=n,A=s,C=A;t:for(;C!==null;){switch(C.tag){case 27:if(ts(C.type)){te=C.stateNode,Ke=!1;break t}break;case 5:te=C.stateNode,Ke=!1;break t;case 3:case 4:te=C.stateNode.containerInfo,Ke=!0;break t}C=C.return}if(te===null)throw Error(i(160));k0(y,A,m),te=null,Ke=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)j0(s,n),s=s.sibling}var Fn=null;function j0(n,s){var o=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:We(s,n),Qe(n),h&4&&(Yi(3,n,n.return),Vr(3,n),Yi(5,n,n.return));break;case 1:We(s,n),Qe(n),h&512&&(xe||o===null||Kn(o,o.return)),h&64&&xi&&(n=n.updateQueue,n!==null&&(h=n.callbacks,h!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var m=Fn;if(We(s,n),Qe(n),h&512&&(xe||o===null||Kn(o,o.return)),h&4){var y=o!==null?o.memoizedState:null;if(h=n.memoizedState,o===null)if(h===null)if(n.stateNode===null){t:{h=n.type,o=n.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":y=m.getElementsByTagName("title")[0],(!y||y[gr]||y[Ne]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(h),m.head.insertBefore(y,m.querySelector("head > title"))),Pe(y,h,o),y[Ne]=n,Ee(y),h=y;break t;case"link":var A=jy("link","href",m).get(h+(o.href||""));if(A){for(var C=0;C<A.length;C++)if(y=A[C],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(C,1);break e}}y=m.createElement(h),Pe(y,h,o),m.head.appendChild(y);break;case"meta":if(A=jy("meta","content",m).get(h+(o.content||""))){for(C=0;C<A.length;C++)if(y=A[C],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(C,1);break e}}y=m.createElement(h),Pe(y,h,o),m.head.appendChild(y);break;default:throw Error(i(468,h))}y[Ne]=n,Ee(y),h=y}n.stateNode=h}else By(m,n.type,n.stateNode);else n.stateNode=Py(m,h,n.memoizedProps);else y!==h?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,h===null?By(m,n.type,n.stateNode):Py(m,h,n.memoizedProps)):h===null&&n.stateNode!==null&&Gh(n,n.memoizedProps,o.memoizedProps)}break;case 27:We(s,n),Qe(n),h&512&&(xe||o===null||Kn(o,o.return)),o!==null&&h&4&&Gh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(We(s,n),Qe(n),h&512&&(xe||o===null||Kn(o,o.return)),n.flags&32){m=n.stateNode;try{ea(m,"")}catch(it){Ht(n,n.return,it)}}h&4&&n.stateNode!=null&&(m=n.memoizedProps,Gh(n,m,o!==null?o.memoizedProps:m)),h&1024&&(Yh=!0);break;case 6:if(We(s,n),Qe(n),h&4){if(n.stateNode===null)throw Error(i(162));h=n.memoizedProps,o=n.stateNode;try{o.nodeValue=h}catch(it){Ht(n,n.return,it)}}break;case 3:if(lc=null,m=Fn,Fn=rc(s.containerInfo),We(s,n),Fn=m,Qe(n),h&4&&o!==null&&o.memoizedState.isDehydrated)try{La(s.containerInfo)}catch(it){Ht(n,n.return,it)}Yh&&(Yh=!1,B0(n));break;case 4:h=Fn,Fn=rc(n.stateNode.containerInfo),We(s,n),Qe(n),Fn=h;break;case 12:We(s,n),Qe(n);break;case 31:We(s,n),Qe(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Xl(n,h)));break;case 13:We(s,n),Qe(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($l=Ue()),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Xl(n,h)));break;case 22:m=n.memoizedState!==null;var R=o!==null&&o.memoizedState!==null,V=xi,Y=xe;if(xi=V||m,xe=Y||R,We(s,n),xe=Y,xi=V,Qe(n),h&8192)t:for(s=n.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||R||xi||xe||Ds(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){R=o=s;try{if(y=R.stateNode,m)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{C=R.stateNode;var K=R.memoizedProps.style,H=K!=null&&K.hasOwnProperty("display")?K.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(it){Ht(R,R.return,it)}}}else if(s.tag===6){if(o===null){R=s;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(it){Ht(R,R.return,it)}}}else if(s.tag===18){if(o===null){R=s;try{var G=R.stateNode;m?Cy(G,!0):Cy(R.stateNode,!1)}catch(it){Ht(R,R.return,it)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=n.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,Xl(n,o))));break;case 19:We(s,n),Qe(n),h&4&&(h=n.updateQueue,h!==null&&(n.updateQueue=null,Xl(n,h)));break;case 30:break;case 21:break;default:We(s,n),Qe(n)}}function Qe(n){var s=n.flags;if(s&2){try{for(var o,h=n.return;h!==null;){if(M0(h)){o=h;break}h=h.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=qh(n);ql(n,y,m);break;case 5:var A=o.stateNode;o.flags&32&&(ea(A,""),o.flags&=-33);var C=qh(n);ql(n,C,A);break;case 3:case 4:var R=o.stateNode.containerInfo,V=qh(n);Xh(n,V,R);break;default:throw Error(i(161))}}catch(Y){Ht(n,n.return,Y)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function B0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;B0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Si(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)N0(n,s.alternate,s),s=s.sibling}function Ds(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Yi(4,s,s.return),Ds(s);break;case 1:Kn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&C0(s,s.return,o),Ds(s);break;case 27:Zr(s.stateNode);case 26:case 5:Kn(s,s.return),Ds(s);break;case 22:s.memoizedState===null&&Ds(s);break;case 30:Ds(s);break;default:Ds(s)}n=n.sibling}}function wi(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,m=n,y=s,A=y.flags;switch(y.tag){case 0:case 11:case 15:wi(m,y,o),Vr(4,y);break;case 1:if(wi(m,y,o),h=y,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(V){Ht(h,h.return,V)}if(h=y,m=h.updateQueue,m!==null){var C=h.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)pg(R[m],C)}catch(V){Ht(h,h.return,V)}}o&&A&64&&E0(y),Hr(y,y.return);break;case 27:D0(y);case 26:case 5:wi(m,y,o),o&&h===null&&A&4&&_0(y),Hr(y,y.return);break;case 12:wi(m,y,o);break;case 31:wi(m,y,o),o&&A&4&&O0(m,y);break;case 13:wi(m,y,o),o&&A&4&&P0(m,y);break;case 22:y.memoizedState===null&&wi(m,y,o),Hr(y,y.return);break;case 30:break;default:wi(m,y,o)}s=s.sibling}}function $h(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Dr(o))}function Kh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Dr(n))}function In(n,s,o,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)z0(n,s,o,h),s=s.sibling}function z0(n,s,o,h){var m=s.flags;switch(s.tag){case 0:case 11:case 15:In(n,s,o,h),m&2048&&Vr(9,s);break;case 1:In(n,s,o,h);break;case 3:In(n,s,o,h),m&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Dr(n)));break;case 12:if(m&2048){In(n,s,o,h),n=s.stateNode;try{var y=s.memoizedProps,A=y.id,C=y.onPostCommit;typeof C=="function"&&C(A,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Ht(s,s.return,R)}}else In(n,s,o,h);break;case 31:In(n,s,o,h);break;case 13:In(n,s,o,h);break;case 23:break;case 22:y=s.stateNode,A=s.alternate,s.memoizedState!==null?y._visibility&2?In(n,s,o,h):Gr(n,s):y._visibility&2?In(n,s,o,h):(y._visibility|=2,Aa(n,s,o,h,(s.subtreeFlags&10256)!==0||!1)),m&2048&&$h(A,s);break;case 24:In(n,s,o,h),m&2048&&Kh(s.alternate,s);break;default:In(n,s,o,h)}}function Aa(n,s,o,h,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=n,A=s,C=o,R=h,V=A.flags;switch(A.tag){case 0:case 11:case 15:Aa(y,A,C,R,m),Vr(8,A);break;case 23:break;case 22:var Y=A.stateNode;A.memoizedState!==null?Y._visibility&2?Aa(y,A,C,R,m):Gr(y,A):(Y._visibility|=2,Aa(y,A,C,R,m)),m&&V&2048&&$h(A.alternate,A);break;case 24:Aa(y,A,C,R,m),m&&V&2048&&Kh(A.alternate,A);break;default:Aa(y,A,C,R,m)}s=s.sibling}}function Gr(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,h=s,m=h.flags;switch(h.tag){case 22:Gr(o,h),m&2048&&$h(h.alternate,h);break;case 24:Gr(o,h),m&2048&&Kh(h.alternate,h);break;default:Gr(o,h)}s=s.sibling}}var qr=8192;function Sa(n,s,o){if(n.subtreeFlags&qr)for(n=n.child;n!==null;)F0(n,s,o),n=n.sibling}function F0(n,s,o){switch(n.tag){case 26:Sa(n,s,o),n.flags&qr&&n.memoizedState!==null&&yT(o,Fn,n.memoizedState,n.memoizedProps);break;case 5:Sa(n,s,o);break;case 3:case 4:var h=Fn;Fn=rc(n.stateNode.containerInfo),Sa(n,s,o),Fn=h;break;case 22:n.memoizedState===null&&(h=n.alternate,h!==null&&h.memoizedState!==null?(h=qr,qr=16777216,Sa(n,s,o),qr=h):Sa(n,s,o));break;default:Sa(n,s,o)}}function I0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Xr(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];Ce=h,V0(h,n)}I0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)U0(n),n=n.sibling}function U0(n){switch(n.tag){case 0:case 11:case 15:Xr(n),n.flags&2048&&Yi(9,n,n.return);break;case 3:Xr(n);break;case 12:Xr(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Yl(n)):Xr(n);break;default:Xr(n)}}function Yl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];Ce=h,V0(h,n)}I0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Yi(8,s,s.return),Yl(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Yl(s));break;default:Yl(s)}n=n.sibling}}function V0(n,s){for(;Ce!==null;){var o=Ce;switch(o.tag){case 0:case 11:case 15:Yi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Dr(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,Ce=h;else t:for(o=n;Ce!==null;){h=Ce;var m=h.sibling,y=h.return;if(L0(h),h===o){Ce=null;break t}if(m!==null){m.return=y,Ce=m;break t}Ce=y}}}var Lw={getCacheForType:function(n){var s=ke(ye),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return ke(ye).controller.signal}},kw=typeof WeakMap=="function"?WeakMap:Map,Ft=0,$t=null,_t=null,Dt=0,Vt=0,fn=null,$i=!1,wa=!1,Wh=!1,Ti=0,ue=0,Ki=0,Rs=0,Qh=0,pn=0,Ta=0,Yr=null,Ze=null,Zh=!1,$l=0,H0=0,Kl=1/0,Wl=null,Wi=null,Te=0,Qi=null,Ea=null,Ei=0,Jh=0,td=null,G0=null,$r=0,ed=null;function mn(){return(Ft&2)!==0&&Dt!==0?Dt&-Dt:j.T!==null?od():rm()}function q0(){if(pn===0)if((Dt&536870912)===0||kt){var n=sl;sl<<=1,(sl&3932160)===0&&(sl=262144),pn=n}else pn=536870912;return n=hn.current,n!==null&&(n.flags|=32),pn}function Je(n,s,o){(n===$t&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)&&(Ca(n,0),Zi(n,Dt,pn,!1)),mr(n,o),((Ft&2)===0||n!==$t)&&(n===$t&&((Ft&2)===0&&(Rs|=o),ue===4&&Zi(n,Dt,pn,!1)),Wn(n))}function X0(n,s,o){if((Ft&6)!==0)throw Error(i(327));var h=!o&&(s&127)===0&&(s&n.expiredLanes)===0||pr(n,s),m=h?jw(n,s):id(n,s,!0),y=h;do{if(m===0){wa&&!h&&Zi(n,s,0,!1);break}else{if(o=n.current.alternate,y&&!Ow(o)){m=id(n,s,!1),y=!1;continue}if(m===2){if(y=s,n.errorRecoveryDisabledLanes&y)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;t:{var C=n;m=Yr;var R=C.current.memoizedState.isDehydrated;if(R&&(Ca(C,A).flags|=256),A=id(C,A,!1),A!==2){if(Wh&&!R){C.errorRecoveryDisabledLanes|=y,Rs|=y,m=4;break t}y=Ze,Ze=m,y!==null&&(Ze===null?Ze=y:Ze.push.apply(Ze,y))}m=A}if(y=!1,m!==2)continue}}if(m===1){Ca(n,0),Zi(n,s,0,!0);break}t:{switch(h=n,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Zi(h,s,pn,!$i);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=$l+300-Ue(),10<m)){if(Zi(h,s,pn,!$i),rl(h,0,!0)!==0)break t;Ei=s,h.timeoutHandle=wy(Y0.bind(null,h,o,Ze,Wl,Zh,s,pn,Rs,Ta,$i,y,"Throttled",-0,0),m);break t}Y0(h,o,Ze,Wl,Zh,s,pn,Rs,Ta,$i,y,null,-0,0)}}break}while(!0);Wn(n)}function Y0(n,s,o,h,m,y,A,C,R,V,Y,K,H,G){if(n.timeoutHandle=-1,K=s.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},F0(s,y,K);var it=(y&62914560)===y?$l-Ue():(y&4194048)===y?H0-Ue():0;if(it=bT(K,it),it!==null){Ei=y,n.cancelPendingCommit=it(ey.bind(null,n,s,y,o,h,m,A,C,R,Y,K,null,H,G)),Zi(n,y,A,!V);return}}ey(n,s,y,o,h,m,A,C,R)}function Ow(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var m=o[h],y=m.getSnapshot;m=m.value;try{if(!cn(y(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zi(n,s,o,h){s&=~Qh,s&=~Rs,n.suspendedLanes|=s,n.pingedLanes&=~s,h&&(n.warmLanes|=s),h=n.expirationTimes;for(var m=s;0<m;){var y=31-ln(m),A=1<<y;h[y]=-1,m&=~A}o!==0&&im(n,o,s)}function Ql(){return(Ft&6)===0?(Kr(0),!1):!0}function nd(){if(_t!==null){if(Vt===0)var n=_t.return;else n=_t,pi=As=null,bh(n),ga=null,Nr=0,n=_t;for(;n!==null;)T0(n.alternate,n),n=n.return;_t=null}}function Ca(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,tT(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ei=0,nd(),$t=n,_t=o=di(n.current,null),Dt=s,Vt=0,fn=null,$i=!1,wa=pr(n,s),Wh=!1,Ta=pn=Qh=Rs=Ki=ue=0,Ze=Yr=null,Zh=!1,(s&8)!==0&&(s|=s&32);var h=n.entangledLanes;if(h!==0)for(n=n.entanglements,h&=s;0<h;){var m=31-ln(h),y=1<<m;s|=n[m],h&=~y}return Ti=s,bl(),o}function $0(n,s){St=null,j.H=Fr,s===ma||s===Cl?(s=ug(),Vt=3):s===rh?(s=ug(),Vt=4):Vt=s===Oh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fn=s,_t===null&&(ue=1,Il(n,wn(s,n.current)))}function K0(){var n=hn.current;return n===null?!0:(Dt&4194048)===Dt?_n===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?n===_n:!1}function W0(){var n=j.H;return j.H=Fr,n===null?Fr:n}function Q0(){var n=j.A;return j.A=Lw,n}function Zl(){ue=4,$i||(Dt&4194048)!==Dt&&hn.current!==null||(wa=!0),(Ki&134217727)===0&&(Rs&134217727)===0||$t===null||Zi($t,Dt,pn,!1)}function id(n,s,o){var h=Ft;Ft|=2;var m=W0(),y=Q0();($t!==n||Dt!==s)&&(Wl=null,Ca(n,s)),s=!1;var A=ue;t:do try{if(Vt!==0&&_t!==null){var C=_t,R=fn;switch(Vt){case 8:nd(),A=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(s=!0);var V=Vt;if(Vt=0,fn=null,_a(n,C,R,V),o&&wa){A=0;break t}break;default:V=Vt,Vt=0,fn=null,_a(n,C,R,V)}}Pw(),A=ue;break}catch(Y){$0(n,Y)}while(!0);return s&&n.shellSuspendCounter++,pi=As=null,Ft=h,j.H=m,j.A=y,_t===null&&($t=null,Dt=0,bl()),A}function Pw(){for(;_t!==null;)Z0(_t)}function jw(n,s){var o=Ft;Ft|=2;var h=W0(),m=Q0();$t!==n||Dt!==s?(Wl=null,Kl=Ue()+500,Ca(n,s)):wa=pr(n,s);t:do try{if(Vt!==0&&_t!==null){s=_t;var y=fn;e:switch(Vt){case 1:Vt=0,fn=null,_a(n,s,y,1);break;case 2:case 9:if(lg(y)){Vt=0,fn=null,J0(s);break}s=function(){Vt!==2&&Vt!==9||$t!==n||(Vt=7),Wn(n)},y.then(s,s);break t;case 3:Vt=7;break t;case 4:Vt=5;break t;case 7:lg(y)?(Vt=0,fn=null,J0(s)):(Vt=0,fn=null,_a(n,s,y,7));break;case 5:var A=null;switch(_t.tag){case 26:A=_t.memoizedState;case 5:case 27:var C=_t;if(A?zy(A):C.stateNode.complete){Vt=0,fn=null;var R=C.sibling;if(R!==null)_t=R;else{var V=C.return;V!==null?(_t=V,Jl(V)):_t=null}break e}}Vt=0,fn=null,_a(n,s,y,5);break;case 6:Vt=0,fn=null,_a(n,s,y,6);break;case 8:nd(),ue=6;break t;default:throw Error(i(462))}}Bw();break}catch(Y){$0(n,Y)}while(!0);return pi=As=null,j.H=h,j.A=m,Ft=o,_t!==null?0:($t=null,Dt=0,bl(),ue)}function Bw(){for(;_t!==null&&!gu();)Z0(_t)}function Z0(n){var s=S0(n.alternate,n,Ti);n.memoizedProps=n.pendingProps,s===null?Jl(n):_t=s}function J0(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=g0(o,s,s.pendingProps,s.type,void 0,Dt);break;case 11:s=g0(o,s,s.pendingProps,s.type.render,s.ref,Dt);break;case 5:bh(s);default:T0(o,s),s=_t=Qm(s,Ti),s=S0(o,s,Ti)}n.memoizedProps=n.pendingProps,s===null?Jl(n):_t=s}function _a(n,s,o,h){pi=As=null,bh(s),ga=null,Nr=0;var m=s.return;try{if(Ew(n,m,s,o,Dt)){ue=1,Il(n,wn(o,n.current)),_t=null;return}}catch(y){if(m!==null)throw _t=m,y;ue=1,Il(n,wn(o,n.current)),_t=null;return}s.flags&32768?(kt||h===1?n=!0:wa||(Dt&536870912)!==0?n=!1:($i=n=!0,(h===2||h===9||h===3||h===6)&&(h=hn.current,h!==null&&h.tag===13&&(h.flags|=16384))),ty(s,n)):Jl(s)}function Jl(n){var s=n;do{if((s.flags&32768)!==0){ty(s,$i);return}n=s.return;var o=Mw(s.alternate,s,Ti);if(o!==null){_t=o;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=n}while(s!==null);ue===0&&(ue=5)}function ty(n,s){do{var o=Dw(n.alternate,n);if(o!==null){o.flags&=32767,_t=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){_t=n;return}_t=n=o}while(n!==null);ue=6,_t=null}function ey(n,s,o,h,m,y,A,C,R){n.cancelPendingCommit=null;do tc();while(Te!==0);if((Ft&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=qu,gS(n,o,y,A,C,R),n===$t&&(_t=$t=null,Dt=0),Ea=s,Qi=n,Ei=o,Jh=y,td=m,G0=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Uw(Bn,function(){return ry(),null})):(n.callbackNode=null,n.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=j.T,j.T=null,m=I.p,I.p=2,A=Ft,Ft|=4;try{Rw(n,s,o)}finally{Ft=A,I.p=m,j.T=h}}Te=1,ny(),iy(),sy()}}function ny(){if(Te===1){Te=0;var n=Qi,s=Ea,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=j.T,j.T=null;var h=I.p;I.p=2;var m=Ft;Ft|=4;try{j0(s,n);var y=md,A=Vm(n.containerInfo),C=y.focusedElem,R=y.selectionRange;if(A!==C&&C&&C.ownerDocument&&Um(C.ownerDocument.documentElement,C)){if(R!==null&&Iu(C)){var V=R.start,Y=R.end;if(Y===void 0&&(Y=V),"selectionStart"in C)C.selectionStart=V,C.selectionEnd=Math.min(Y,C.value.length);else{var K=C.ownerDocument||document,H=K&&K.defaultView||window;if(H.getSelection){var G=H.getSelection(),it=C.textContent.length,mt=Math.min(R.start,it),Xt=R.end===void 0?mt:Math.min(R.end,it);!G.extend&&mt>Xt&&(A=Xt,Xt=mt,mt=A);var B=Im(C,mt),P=Im(C,Xt);if(B&&P&&(G.rangeCount!==1||G.anchorNode!==B.node||G.anchorOffset!==B.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var U=K.createRange();U.setStart(B.node,B.offset),G.removeAllRanges(),mt>Xt?(G.addRange(U),G.extend(P.node,P.offset)):(U.setEnd(P.node,P.offset),G.addRange(U))}}}}for(K=[],G=C;G=G.parentNode;)G.nodeType===1&&K.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<K.length;C++){var $=K[C];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}dc=!!pd,md=pd=null}finally{Ft=m,I.p=h,j.T=o}}n.current=s,Te=2}}function iy(){if(Te===2){Te=0;var n=Qi,s=Ea,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=j.T,j.T=null;var h=I.p;I.p=2;var m=Ft;Ft|=4;try{N0(n,s.alternate,s)}finally{Ft=m,I.p=h,j.T=o}}Te=3}}function sy(){if(Te===4||Te===3){Te=0,yu();var n=Qi,s=Ea,o=Ei,h=G0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Te=5:(Te=0,Ea=Qi=null,ay(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Wi=null),Au(o),s=s.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(fr,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=j.T,m=I.p,I.p=2,j.T=null;try{for(var y=n.onRecoverableError,A=0;A<h.length;A++){var C=h[A];y(C.value,{componentStack:C.stack})}}finally{j.T=s,I.p=m}}(Ei&3)!==0&&tc(),Wn(n),m=n.pendingLanes,(o&261930)!==0&&(m&42)!==0?n===ed?$r++:($r=0,ed=n):$r=0,Kr(0)}}function ay(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Dr(s)))}function tc(){return ny(),iy(),sy(),ry()}function ry(){if(Te!==5)return!1;var n=Qi,s=Jh;Jh=0;var o=Au(Ei),h=j.T,m=I.p;try{I.p=32>o?32:o,j.T=null,o=td,td=null;var y=Qi,A=Ei;if(Te=0,Ea=Qi=null,Ei=0,(Ft&6)!==0)throw Error(i(331));var C=Ft;if(Ft|=4,U0(y.current),z0(y,y.current,A,o),Ft=C,Kr(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(fr,y)}catch{}return!0}finally{I.p=m,j.T=h,ay(n,s)}}function oy(n,s,o){s=wn(o,s),s=kh(n.stateNode,s,2),n=Gi(n,s,2),n!==null&&(mr(n,2),Wn(n))}function Ht(n,s,o){if(n.tag===3)oy(n,n,o);else for(;s!==null;){if(s.tag===3){oy(s,n,o);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Wi===null||!Wi.has(h))){n=wn(o,n),o=l0(2),h=Gi(s,o,2),h!==null&&(c0(o,h,s,n),mr(h,2),Wn(h));break}}s=s.return}}function sd(n,s,o){var h=n.pingCache;if(h===null){h=n.pingCache=new kw;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(o)||(Wh=!0,m.add(o),n=zw.bind(null,n,s,o),s.then(n,n))}function zw(n,s,o){var h=n.pingCache;h!==null&&h.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,$t===n&&(Dt&o)===o&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>Ue()-$l?(Ft&2)===0&&Ca(n,0):Qh|=o,Ta===Dt&&(Ta=0)),Wn(n)}function ly(n,s){s===0&&(s=nm()),n=bs(n,s),n!==null&&(mr(n,s),Wn(n))}function Fw(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),ly(n,o)}function Iw(n,s){var o=0;switch(n.tag){case 31:case 13:var h=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:h=n.stateNode;break;case 22:h=n.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(s),ly(n,o)}function Uw(n,s){return dr(n,s)}var ec=null,Ma=null,ad=!1,nc=!1,rd=!1,Ji=0;function Wn(n){n!==Ma&&n.next===null&&(Ma===null?ec=Ma=n:Ma=Ma.next=n),nc=!0,ad||(ad=!0,Hw())}function Kr(n,s){if(!rd&&nc){rd=!0;do for(var o=!1,h=ec;h!==null;){if(n!==0){var m=h.pendingLanes;if(m===0)var y=0;else{var A=h.suspendedLanes,C=h.pingedLanes;y=(1<<31-ln(42|n)+1)-1,y&=m&~(A&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,dy(h,y))}else y=Dt,y=rl(h,h===$t?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||pr(h,y)||(o=!0,dy(h,y));h=h.next}while(o);rd=!1}}function Vw(){cy()}function cy(){nc=ad=!1;var n=0;Ji!==0&&Jw()&&(n=Ji);for(var s=Ue(),o=null,h=ec;h!==null;){var m=h.next,y=uy(h,s);y===0?(h.next=null,o===null?ec=m:o.next=m,m===null&&(Ma=o)):(o=h,(n!==0||(y&3)!==0)&&(nc=!0)),h=m}Te!==0&&Te!==5||Kr(n),Ji!==0&&(Ji=0)}function uy(n,s){for(var o=n.suspendedLanes,h=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var A=31-ln(y),C=1<<A,R=m[A];R===-1?((C&o)===0||(C&h)!==0)&&(m[A]=mS(C,s)):R<=s&&(n.expiredLanes|=C),y&=~C}if(s=$t,o=Dt,o=rl(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h=n.callbackNode,o===0||n===s&&(Vt===2||Vt===9)||n.cancelPendingCommit!==null)return h!==null&&h!==null&&Oi(h),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||pr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(h!==null&&Oi(h),Au(o)){case 2:case 8:o=jn;break;case 32:o=Bn;break;case 268435456:o=$s;break;default:o=Bn}return h=hy.bind(null,n),o=dr(o,h),n.callbackPriority=s,n.callbackNode=o,s}return h!==null&&h!==null&&Oi(h),n.callbackPriority=2,n.callbackNode=null,2}function hy(n,s){if(Te!==0&&Te!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(tc()&&n.callbackNode!==o)return null;var h=Dt;return h=rl(n,n===$t?h:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),h===0?null:(X0(n,h,s),uy(n,Ue()),n.callbackNode!=null&&n.callbackNode===o?hy.bind(null,n):null)}function dy(n,s){if(tc())return null;X0(n,s,!0)}function Hw(){eT(function(){(Ft&6)!==0?dr(nl,Vw):cy()})}function od(){if(Ji===0){var n=fa;n===0&&(n=il,il<<=1,(il&261888)===0&&(il=256)),Ji=n}return Ji}function fy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ul(""+n)}function py(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function Gw(n,s,o,h,m){if(s==="submit"&&o&&o.stateNode===m){var y=fy((m[Ye]||null).action),A=h.submitter;A&&(s=(s=A[Ye]||null)?fy(s.formAction):A.getAttribute("formAction"),s!==null&&(y=s,A=null));var C=new pl("action","action",null,h,m);n.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ji!==0){var R=A?py(m,A):new FormData(m);_h(o,{pending:!0,data:R,method:m.method,action:y},null,R)}}else typeof y=="function"&&(C.preventDefault(),R=A?py(m,A):new FormData(m),_h(o,{pending:!0,data:R,method:m.method,action:y},y,R))},currentTarget:m}]})}}for(var ld=0;ld<Gu.length;ld++){var cd=Gu[ld],qw=cd.toLowerCase(),Xw=cd[0].toUpperCase()+cd.slice(1);zn(qw,"on"+Xw)}zn(qm,"onAnimationEnd"),zn(Xm,"onAnimationIteration"),zn(Ym,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(lw,"onTransitionRun"),zn(cw,"onTransitionStart"),zn(uw,"onTransitionCancel"),zn($m,"onTransitionEnd"),Js("onMouseEnter",["mouseout","mouseover"]),Js("onMouseLeave",["mouseout","mouseover"]),Js("onPointerEnter",["pointerout","pointerover"]),Js("onPointerLeave",["pointerout","pointerover"]),ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ps("onBeforeInput",["compositionend","keypress","textInput","paste"]),ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wr));function my(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var h=n[o],m=h.event;h=h.listeners;t:{var y=void 0;if(s)for(var A=h.length-1;0<=A;A--){var C=h[A],R=C.instance,V=C.currentTarget;if(C=C.listener,R!==y&&m.isPropagationStopped())break t;y=C,m.currentTarget=V;try{y(m)}catch(Y){yl(Y)}m.currentTarget=null,y=R}else for(A=0;A<h.length;A++){if(C=h[A],R=C.instance,V=C.currentTarget,C=C.listener,R!==y&&m.isPropagationStopped())break t;y=C,m.currentTarget=V;try{y(m)}catch(Y){yl(Y)}m.currentTarget=null,y=R}}}}function Mt(n,s){var o=s[Su];o===void 0&&(o=s[Su]=new Set);var h=n+"__bubble";o.has(h)||(gy(s,n,2,!1),o.add(h))}function ud(n,s,o){var h=0;s&&(h|=4),gy(o,n,h,s)}var ic="_reactListening"+Math.random().toString(36).slice(2);function hd(n){if(!n[ic]){n[ic]=!0,cm.forEach(function(o){o!=="selectionchange"&&(Yw.has(o)||ud(o,!1,n),ud(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ic]||(s[ic]=!0,ud("selectionchange",!1,s))}}function gy(n,s,o,h){switch(qy(s)){case 2:var m=AT;break;case 8:m=ST;break;default:m=Cd}o=m.bind(null,s,o,n),m=void 0,!Nu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?n.addEventListener(s,o,{capture:!0,passive:m}):n.addEventListener(s,o,!0):m!==void 0?n.addEventListener(s,o,{passive:m}):n.addEventListener(s,o,!1)}function dd(n,s,o,h,m){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var C=h.stateNode.containerInfo;if(C===m)break;if(A===4)for(A=h.return;A!==null;){var R=A.tag;if((R===3||R===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;C!==null;){if(A=Ws(C),A===null)return;if(R=A.tag,R===5||R===6||R===26||R===27){h=y=A;continue t}C=C.parentNode}}h=h.return}Am(function(){var V=y,Y=Du(o),K=[];t:{var H=Km.get(n);if(H!==void 0){var G=pl,it=n;switch(n){case"keypress":if(dl(o)===0)break t;case"keydown":case"keyup":G=IS;break;case"focusin":it="focus",G=Pu;break;case"focusout":it="blur",G=Pu;break;case"beforeblur":case"afterblur":G=Pu;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=MS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=HS;break;case qm:case Xm:case Ym:G=NS;break;case $m:G=qS;break;case"scroll":case"scrollend":G=CS;break;case"wheel":G=YS;break;case"copy":case"cut":case"paste":G=kS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Cm;break;case"toggle":case"beforetoggle":G=KS}var mt=(s&4)!==0,Xt=!mt&&(n==="scroll"||n==="scrollend"),B=mt?H!==null?H+"Capture":null:H;mt=[];for(var P=V,U;P!==null;){var $=P;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||B===null||($=br(P,B),$!=null&&mt.push(Qr(P,$,U))),Xt)break;P=P.return}0<mt.length&&(H=new G(H,it,null,o,Y),K.push({event:H,listeners:mt}))}}if((s&7)===0){t:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&o!==Mu&&(it=o.relatedTarget||o.fromElement)&&(Ws(it)||it[Ks]))break t;if((G||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,G?(it=o.relatedTarget||o.toElement,G=V,it=it?Ws(it):null,it!==null&&(Xt=l(it),mt=it.tag,it!==Xt||mt!==5&&mt!==27&&mt!==6)&&(it=null)):(G=null,it=V),G!==it)){if(mt=Tm,$="onMouseLeave",B="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(mt=Cm,$="onPointerLeave",B="onPointerEnter",P="pointer"),Xt=G==null?H:yr(G),U=it==null?H:yr(it),H=new mt($,P+"leave",G,o,Y),H.target=Xt,H.relatedTarget=U,$=null,Ws(Y)===V&&(mt=new mt(B,P+"enter",it,o,Y),mt.target=U,mt.relatedTarget=Xt,$=mt),Xt=$,G&&it)e:{for(mt=$w,B=G,P=it,U=0,$=B;$;$=mt($))U++;$=0;for(var ut=P;ut;ut=mt(ut))$++;for(;0<U-$;)B=mt(B),U--;for(;0<$-U;)P=mt(P),$--;for(;U--;){if(B===P||P!==null&&B===P.alternate){mt=B;break e}B=mt(B),P=mt(P)}mt=null}else mt=null;G!==null&&yy(K,H,G,mt,!1),it!==null&&Xt!==null&&yy(K,Xt,it,mt,!0)}}t:{if(H=V?yr(V):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var Bt=Om;else if(Lm(H))if(Pm)Bt=aw;else{Bt=iw;var at=nw}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?V&&_u(V.elementType)&&(Bt=Om):Bt=sw;if(Bt&&(Bt=Bt(n,V))){km(K,Bt,o,Y);break t}at&&at(n,H,V),n==="focusout"&&V&&H.type==="number"&&V.memoizedProps.value!=null&&Cu(H,"number",H.value)}switch(at=V?yr(V):window,n){case"focusin":(Lm(at)||at.contentEditable==="true")&&(aa=at,Uu=V,Cr=null);break;case"focusout":Cr=Uu=aa=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Hm(K,o,Y);break;case"selectionchange":if(ow)break;case"keydown":case"keyup":Hm(K,o,Y)}var Tt;if(Bu)t:{switch(n){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else sa?Rm(n,o)&&(Rt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Rt="onCompositionStart");Rt&&(_m&&o.locale!=="ko"&&(sa||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&sa&&(Tt=Sm()):(Bi=Y,Lu="value"in Bi?Bi.value:Bi.textContent,sa=!0)),at=sc(V,Rt),0<at.length&&(Rt=new Em(Rt,n,null,o,Y),K.push({event:Rt,listeners:at}),Tt?Rt.data=Tt:(Tt=Nm(o),Tt!==null&&(Rt.data=Tt)))),(Tt=QS?ZS(n,o):JS(n,o))&&(Rt=sc(V,"onBeforeInput"),0<Rt.length&&(at=new Em("onBeforeInput","beforeinput",null,o,Y),K.push({event:at,listeners:Rt}),at.data=Tt)),Gw(K,n,V,o,Y)}my(K,s)})}function Qr(n,s,o){return{instance:n,listener:s,currentTarget:o}}function sc(n,s){for(var o=s+"Capture",h=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=br(n,o),m!=null&&h.unshift(Qr(n,m,y)),m=br(n,s),m!=null&&h.push(Qr(n,m,y))),n.tag===3)return h;n=n.return}return[]}function $w(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function yy(n,s,o,h,m){for(var y=s._reactName,A=[];o!==null&&o!==h;){var C=o,R=C.alternate,V=C.stateNode;if(C=C.tag,R!==null&&R===h)break;C!==5&&C!==26&&C!==27||V===null||(R=V,m?(V=br(o,y),V!=null&&A.unshift(Qr(o,V,R))):m||(V=br(o,y),V!=null&&A.push(Qr(o,V,R)))),o=o.return}A.length!==0&&n.push({event:s,listeners:A})}var Kw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function by(n){return(typeof n=="string"?n:""+n).replace(Kw,`
`).replace(Ww,"")}function vy(n,s){return s=by(s),by(n)===s}function qt(n,s,o,h,m,y){switch(o){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||ea(n,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&ea(n,""+h);break;case"className":ll(n,"class",h);break;case"tabIndex":ll(n,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ll(n,o,h);break;case"style":vm(n,h,y);break;case"data":if(s!=="object"){ll(n,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=ul(""+h),n.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&qt(n,s,"name",m.name,m,null),qt(n,s,"formEncType",m.formEncType,m,null),qt(n,s,"formMethod",m.formMethod,m,null),qt(n,s,"formTarget",m.formTarget,m,null)):(qt(n,s,"encType",m.encType,m,null),qt(n,s,"method",m.method,m,null),qt(n,s,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){n.removeAttribute(o);break}h=ul(""+h),n.setAttribute(o,h);break;case"onClick":h!=null&&(n.onclick=ui);break;case"onScroll":h!=null&&Mt("scroll",n);break;case"onScrollEnd":h!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":n.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){n.removeAttribute("xlink:href");break}o=ul(""+h),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""+h):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":h===!0?n.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?n.setAttribute(o,h):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?n.setAttribute(o,h):n.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?n.removeAttribute(o):n.setAttribute(o,h);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),ol(n,"popover",h);break;case"xlinkActuate":ci(n,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ci(n,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ci(n,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ci(n,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ci(n,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ci(n,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ci(n,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ci(n,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ci(n,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ol(n,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=TS.get(o)||o,ol(n,o,h))}}function fd(n,s,o,h,m,y){switch(o){case"style":vm(n,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof h=="string"?ea(n,h):(typeof h=="number"||typeof h=="bigint")&&ea(n,""+h);break;case"onScroll":h!=null&&Mt("scroll",n);break;case"onScrollEnd":h!=null&&Mt("scrollend",n);break;case"onClick":h!=null&&(n.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!um.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),y=n[Ye]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(s,y,m),typeof h=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,h,m);break t}o in n?n[o]=h:h===!0?n.setAttribute(o,""):ol(n,o,h)}}}function Pe(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var h=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var A=o[y];if(A!=null)switch(y){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:qt(n,s,y,A,o,null)}}m&&qt(n,s,"srcSet",o.srcSet,o,null),h&&qt(n,s,"src",o.src,o,null);return;case"input":Mt("invalid",n);var C=y=A=m=null,R=null,V=null;for(h in o)if(o.hasOwnProperty(h)){var Y=o[h];if(Y!=null)switch(h){case"name":m=Y;break;case"type":A=Y;break;case"checked":R=Y;break;case"defaultChecked":V=Y;break;case"value":y=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:qt(n,s,h,Y,o,null)}}mm(n,y,C,R,V,A,m,!1);return;case"select":Mt("invalid",n),h=A=y=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":A=C;break;case"multiple":h=C;default:qt(n,s,m,C,o,null)}s=y,o=A,n.multiple=!!h,s!=null?ta(n,!!h,s,!1):o!=null&&ta(n,!!h,o,!0);return;case"textarea":Mt("invalid",n),y=m=h=null;for(A in o)if(o.hasOwnProperty(A)&&(C=o[A],C!=null))switch(A){case"value":h=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:qt(n,s,A,C,o,null)}ym(n,h,m,y);return;case"option":for(R in o)if(o.hasOwnProperty(R)&&(h=o[R],h!=null))switch(R){case"selected":n.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:qt(n,s,R,h,o,null)}return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(h=0;h<Wr.length;h++)Mt(Wr[h],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in o)if(o.hasOwnProperty(V)&&(h=o[V],h!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:qt(n,s,V,h,o,null)}return;default:if(_u(s)){for(Y in o)o.hasOwnProperty(Y)&&(h=o[Y],h!==void 0&&fd(n,s,Y,h,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(h=o[C],h!=null&&qt(n,s,C,h,o,null))}function Qw(n,s,o,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,C=null,R=null,V=null,Y=null;for(G in o){var K=o[G];if(o.hasOwnProperty(G)&&K!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=K;default:h.hasOwnProperty(G)||qt(n,s,G,null,h,K)}}for(var H in h){var G=h[H];if(K=o[H],h.hasOwnProperty(H)&&(G!=null||K!=null))switch(H){case"type":y=G;break;case"name":m=G;break;case"checked":V=G;break;case"defaultChecked":Y=G;break;case"value":A=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:G!==K&&qt(n,s,H,G,h,K)}}Eu(n,A,C,R,V,Y,y,m);return;case"select":G=A=C=H=null;for(y in o)if(R=o[y],o.hasOwnProperty(y)&&R!=null)switch(y){case"value":break;case"multiple":G=R;default:h.hasOwnProperty(y)||qt(n,s,y,null,h,R)}for(m in h)if(y=h[m],R=o[m],h.hasOwnProperty(m)&&(y!=null||R!=null))switch(m){case"value":H=y;break;case"defaultValue":C=y;break;case"multiple":A=y;default:y!==R&&qt(n,s,m,y,h,R)}s=C,o=A,h=G,H!=null?ta(n,!!o,H,!1):!!h!=!!o&&(s!=null?ta(n,!!o,s,!0):ta(n,!!o,o?[]:"",!1));return;case"textarea":G=H=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:qt(n,s,C,null,h,m)}for(A in h)if(m=h[A],y=o[A],h.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":H=m;break;case"defaultValue":G=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&qt(n,s,A,m,h,y)}gm(n,H,G);return;case"option":for(var it in o)if(H=o[it],o.hasOwnProperty(it)&&H!=null&&!h.hasOwnProperty(it))switch(it){case"selected":n.selected=!1;break;default:qt(n,s,it,null,h,H)}for(R in h)if(H=h[R],G=o[R],h.hasOwnProperty(R)&&H!==G&&(H!=null||G!=null))switch(R){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:qt(n,s,R,H,h,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in o)H=o[mt],o.hasOwnProperty(mt)&&H!=null&&!h.hasOwnProperty(mt)&&qt(n,s,mt,null,h,H);for(V in h)if(H=h[V],G=o[V],h.hasOwnProperty(V)&&H!==G&&(H!=null||G!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:qt(n,s,V,H,h,G)}return;default:if(_u(s)){for(var Xt in o)H=o[Xt],o.hasOwnProperty(Xt)&&H!==void 0&&!h.hasOwnProperty(Xt)&&fd(n,s,Xt,void 0,h,H);for(Y in h)H=h[Y],G=o[Y],!h.hasOwnProperty(Y)||H===G||H===void 0&&G===void 0||fd(n,s,Y,H,h,G);return}}for(var B in o)H=o[B],o.hasOwnProperty(B)&&H!=null&&!h.hasOwnProperty(B)&&qt(n,s,B,null,h,H);for(K in h)H=h[K],G=o[K],!h.hasOwnProperty(K)||H===G||H==null&&G==null||qt(n,s,K,H,h,G)}function xy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),h=0;h<o.length;h++){var m=o[h],y=m.transferSize,A=m.initiatorType,C=m.duration;if(y&&C&&xy(A)){for(A=0,C=m.responseEnd,h+=1;h<o.length;h++){var R=o[h],V=R.startTime;if(V>C)break;var Y=R.transferSize,K=R.initiatorType;Y&&xy(K)&&(R=R.responseEnd,A+=Y*(R<C?1:(C-V)/(R-V)))}if(--h,s+=8*(y+A)/(m.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var pd=null,md=null;function ac(n){return n.nodeType===9?n:n.ownerDocument}function Ay(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function gd(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yd=null;function Jw(){var n=window.event;return n&&n.type==="popstate"?n===yd?!1:(yd=n,!0):(yd=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(n){return Ty.resolve(null).then(n).catch(nT)}:wy;function nT(n){setTimeout(function(){throw n})}function ts(n){return n==="head"}function Ey(n,s){var o=s,h=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(h===0){n.removeChild(m),La(s);return}h--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")h++;else if(o==="html")Zr(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Zr(o);for(var y=o.firstChild;y;){var A=y.nextSibling,C=y.nodeName;y[gr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=A}}else o==="body"&&Zr(n.ownerDocument.body);o=m}while(o);La(s)}function Cy(n,s){var o=n;n=0;do{var h=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=h}while(o)}function bd(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bd(o),wu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function iT(n,s,o,h){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(h){if(!n[gr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Mn(n.nextSibling),n===null)break}return null}function sT(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Mn(n.nextSibling),n===null))return null;return n}function _y(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Mn(n.nextSibling),n===null))return null;return n}function vd(n){return n.data==="$?"||n.data==="$~"}function xd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function aT(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var h=function(){s(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),n._reactRetry=h}}function Mn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Ad=null;function My(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return Mn(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function Dy(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function Ry(n,s,o){switch(s=ac(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Zr(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);wu(n)}var Dn=new Map,Ny=new Set;function rc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ci=I.d;I.d={f:rT,r:oT,D:lT,C:cT,L:uT,m:hT,X:fT,S:dT,M:pT};function rT(){var n=Ci.f(),s=Ql();return n||s}function oT(n){var s=Qs(n);s!==null&&s.tag===5&&s.type==="form"?$g(s):Ci.r(n)}var Da=typeof document>"u"?null:document;function Ly(n,s,o){var h=Da;if(h&&typeof s=="string"&&s){var m=An(s);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Ny.has(m)||(Ny.add(m),n={rel:n,crossOrigin:o,href:s},h.querySelector(m)===null&&(s=h.createElement("link"),Pe(s,"link",n),Ee(s),h.head.appendChild(s)))}}function lT(n){Ci.D(n),Ly("dns-prefetch",n,null)}function cT(n,s){Ci.C(n,s),Ly("preconnect",n,s)}function uT(n,s,o){Ci.L(n,s,o);var h=Da;if(h&&n&&s){var m='link[rel="preload"][as="'+An(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+An(o.imageSizes)+'"]')):m+='[href="'+An(n)+'"]';var y=m;switch(s){case"style":y=Ra(n);break;case"script":y=Na(n)}Dn.has(y)||(n=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Dn.set(y,n),h.querySelector(m)!==null||s==="style"&&h.querySelector(Jr(y))||s==="script"&&h.querySelector(to(y))||(s=h.createElement("link"),Pe(s,"link",n),Ee(s),h.head.appendChild(s)))}}function hT(n,s){Ci.m(n,s);var o=Da;if(o&&n){var h=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+An(h)+'"][href="'+An(n)+'"]',y=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Na(n)}if(!Dn.has(y)&&(n=g({rel:"modulepreload",href:n},s),Dn.set(y,n),o.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(to(y)))return}h=o.createElement("link"),Pe(h,"link",n),Ee(h),o.head.appendChild(h)}}}function dT(n,s,o){Ci.S(n,s,o);var h=Da;if(h&&n){var m=Zs(h).hoistableStyles,y=Ra(n);s=s||"default";var A=m.get(y);if(!A){var C={loading:0,preload:null};if(A=h.querySelector(Jr(y)))C.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Dn.get(y))&&Sd(n,o);var R=A=h.createElement("link");Ee(R),Pe(R,"link",n),R._p=new Promise(function(V,Y){R.onload=V,R.onerror=Y}),R.addEventListener("load",function(){C.loading|=1}),R.addEventListener("error",function(){C.loading|=2}),C.loading|=4,oc(A,s,h)}A={type:"stylesheet",instance:A,count:1,state:C},m.set(y,A)}}}function fT(n,s){Ci.X(n,s);var o=Da;if(o&&n){var h=Zs(o).hoistableScripts,m=Na(n),y=h.get(m);y||(y=o.querySelector(to(m)),y||(n=g({src:n,async:!0},s),(s=Dn.get(m))&&wd(n,s),y=o.createElement("script"),Ee(y),Pe(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function pT(n,s){Ci.M(n,s);var o=Da;if(o&&n){var h=Zs(o).hoistableScripts,m=Na(n),y=h.get(m);y||(y=o.querySelector(to(m)),y||(n=g({src:n,async:!0,type:"module"},s),(s=Dn.get(m))&&wd(n,s),y=o.createElement("script"),Ee(y),Pe(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function ky(n,s,o,h){var m=(m=pt.current)?rc(m):null;if(!m)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ra(o.href),o=Zs(m).hoistableStyles,h=o.get(s),h||(h={type:"style",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Ra(o.href);var y=Zs(m).hoistableStyles,A=y.get(n);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,A),(y=m.querySelector(Jr(n)))&&!y._p&&(A.instance=y,A.state.loading=5),Dn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Dn.set(n,o),y||mT(m,n,o,A.state))),s&&h===null)throw Error(i(528,""));return A}if(s&&h!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Na(o),o=Zs(m).hoistableScripts,h=o.get(s),h||(h={type:"script",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Ra(n){return'href="'+An(n)+'"'}function Jr(n){return'link[rel="stylesheet"]['+n+"]"}function Oy(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function mT(n,s,o,h){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=n.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Pe(s,"link",o),Ee(s),n.head.appendChild(s))}function Na(n){return'[src="'+An(n)+'"]'}function to(n){return"script[async]"+n}function Py(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var h=n.querySelector('style[data-href~="'+An(o.href)+'"]');if(h)return s.instance=h,Ee(h),h;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(n.ownerDocument||n).createElement("style"),Ee(h),Pe(h,"style",m),oc(h,o.precedence,n),s.instance=h;case"stylesheet":m=Ra(o.href);var y=n.querySelector(Jr(m));if(y)return s.state.loading|=4,s.instance=y,Ee(y),y;h=Oy(o),(m=Dn.get(m))&&Sd(h,m),y=(n.ownerDocument||n).createElement("link"),Ee(y);var A=y;return A._p=new Promise(function(C,R){A.onload=C,A.onerror=R}),Pe(y,"link",h),s.state.loading|=4,oc(y,o.precedence,n),s.instance=y;case"script":return y=Na(o.src),(m=n.querySelector(to(y)))?(s.instance=m,Ee(m),m):(h=o,(m=Dn.get(y))&&(h=g({},o),wd(h,m)),n=n.ownerDocument||n,m=n.createElement("script"),Ee(m),Pe(m,"link",h),n.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,oc(h,o.precedence,n));return s.instance}function oc(n,s,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,y=m,A=0;A<h.length;A++){var C=h[A];if(C.dataset.precedence===s)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Sd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function wd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var lc=null;function jy(n,s,o){if(lc===null){var h=new Map,m=lc=new Map;m.set(o,h)}else m=lc,h=m.get(o),h||(h=new Map,m.set(o,h));if(h.has(n))return h;for(h.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var y=o[m];if(!(y[gr]||y[Ne]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(s)||"";A=n+A;var C=h.get(A);C?C.push(y):h.set(A,[y])}}return h}function By(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function gT(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function zy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function yT(n,s,o,h){if(o.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Ra(h.href),y=s.querySelector(Jr(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=cc.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=y,Ee(y);return}y=s.ownerDocument||s,h=Oy(h),(m=Dn.get(m))&&Sd(h,m),y=y.createElement("link"),Ee(y);var A=y;A._p=new Promise(function(C,R){A.onload=C,A.onerror=R}),Pe(y,"link",h),o.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=cc.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Td=0;function bT(n,s){return n.stylesheets&&n.count===0&&hc(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var h=setTimeout(function(){if(n.stylesheets&&hc(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+s);0<n.imgBytes&&Td===0&&(Td=62500*Zw());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&hc(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Td?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(h),clearTimeout(m)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uc=null;function hc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uc=new Map,s.forEach(vT,n),uc=null,cc.call(n))}function vT(n,s){if(!(s.state.loading&4)){var o=uc.get(n);if(o)var h=o.get(null);else{o=new Map,uc.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),h=A)}h&&o.set(null,h)}m=s.instance,A=m.getAttribute("data-precedence"),y=o.get(A)||h,y===h&&o.set(null,m),o.set(A,m),this.count++,h=cc.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),s.state.loading|=4}}var eo={$$typeof:_,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function xT(n,s,o,h,m,y,A,C,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vu(0),this.hiddenUpdates=vu(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Fy(n,s,o,h,m,y,A,C,R,V,Y,K){return n=new xT(n,s,o,A,R,V,Y,K,C),s=1,y===!0&&(s|=24),y=un(3,null,null,s),n.current=y,y.stateNode=n,s=ih(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:o,cache:s},oh(y),n}function Iy(n){return n?(n=la,n):la}function Uy(n,s,o,h,m,y){m=Iy(m),h.context===null?h.context=m:h.pendingContext=m,h=Hi(s),h.payload={element:o},y=y===void 0?null:y,y!==null&&(h.callback=y),o=Gi(n,h,s),o!==null&&(Je(o,n,s),kr(o,n,s))}function Vy(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Ed(n,s){Vy(n,s),(n=n.alternate)&&Vy(n,s)}function Hy(n){if(n.tag===13||n.tag===31){var s=bs(n,67108864);s!==null&&Je(s,n,67108864),Ed(n,67108864)}}function Gy(n){if(n.tag===13||n.tag===31){var s=mn();s=xu(s);var o=bs(n,s);o!==null&&Je(o,n,s),Ed(n,s)}}var dc=!0;function AT(n,s,o,h){var m=j.T;j.T=null;var y=I.p;try{I.p=2,Cd(n,s,o,h)}finally{I.p=y,j.T=m}}function ST(n,s,o,h){var m=j.T;j.T=null;var y=I.p;try{I.p=8,Cd(n,s,o,h)}finally{I.p=y,j.T=m}}function Cd(n,s,o,h){if(dc){var m=_d(h);if(m===null)dd(n,s,h,fc,o),Xy(n,h);else if(TT(m,n,s,o,h))h.stopPropagation();else if(Xy(n,h),s&4&&-1<wT.indexOf(n)){for(;m!==null;){var y=Qs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=fs(y.pendingLanes);if(A!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;A;){var R=1<<31-ln(A);C.entanglements[1]|=R,A&=~R}Wn(y),(Ft&6)===0&&(Kl=Ue()+500,Kr(0))}}break;case 31:case 13:C=bs(y,2),C!==null&&Je(C,y,2),Ql(),Ed(y,2)}if(y=_d(h),y===null&&dd(n,s,h,fc,o),y===m)break;m=y}m!==null&&h.stopPropagation()}else dd(n,s,h,null,o)}}function _d(n){return n=Du(n),Md(n)}var fc=null;function Md(n){if(fc=null,n=Ws(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=u(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return fc=n,null}function qy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bu()){case nl:return 2;case jn:return 8;case Bn:case Xn:return 32;case $s:return 268435456;default:return 32}default:return 32}}var Dd=!1,es=null,ns=null,is=null,no=new Map,io=new Map,ss=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(n,s){switch(n){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":no.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(s.pointerId)}}function so(n,s,o,h,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:o,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Qs(s),s!==null&&Hy(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function TT(n,s,o,h,m){switch(s){case"focusin":return es=so(es,n,s,o,h,m),!0;case"dragenter":return ns=so(ns,n,s,o,h,m),!0;case"mouseover":return is=so(is,n,s,o,h,m),!0;case"pointerover":var y=m.pointerId;return no.set(y,so(no.get(y)||null,n,s,o,h,m)),!0;case"gotpointercapture":return y=m.pointerId,io.set(y,so(io.get(y)||null,n,s,o,h,m)),!0}return!1}function Yy(n){var s=Ws(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,om(n.priority,function(){Gy(o)});return}}else if(s===31){if(s=u(o),s!==null){n.blockedOn=s,om(n.priority,function(){Gy(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=_d(n.nativeEvent);if(o===null){o=n.nativeEvent;var h=new o.constructor(o.type,o);Mu=h,o.target.dispatchEvent(h),Mu=null}else return s=Qs(o),s!==null&&Hy(s),n.blockedOn=o,!1;s.shift()}return!0}function $y(n,s,o){pc(n)&&o.delete(s)}function ET(){Dd=!1,es!==null&&pc(es)&&(es=null),ns!==null&&pc(ns)&&(ns=null),is!==null&&pc(is)&&(is=null),no.forEach($y),io.forEach($y)}function mc(n,s){n.blockedOn===s&&(n.blockedOn=null,Dd||(Dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ET)))}var gc=null;function Ky(n){gc!==n&&(gc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===n&&(gc=null);for(var s=0;s<n.length;s+=3){var o=n[s],h=n[s+1],m=n[s+2];if(typeof h!="function"){if(Md(h||o)===null)continue;break}var y=Qs(o);y!==null&&(n.splice(s,3),s-=3,_h(y,{pending:!0,data:m,method:o.method,action:h},h,m))}}))}function La(n){function s(R){return mc(R,n)}es!==null&&mc(es,n),ns!==null&&mc(ns,n),is!==null&&mc(is,n),no.forEach(s),io.forEach(s);for(var o=0;o<ss.length;o++){var h=ss[o];h.blockedOn===n&&(h.blockedOn=null)}for(;0<ss.length&&(o=ss[0],o.blockedOn===null);)Yy(o),o.blockedOn===null&&ss.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var m=o[h],y=o[h+1],A=m[Ye]||null;if(typeof y=="function")A||Ky(o);else if(A){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[Ye]||null)C=A.formAction;else if(Md(m)!==null)continue}else C=A.action;typeof C=="function"?o[h+1]=C:(o.splice(h,3),h-=3),Ky(o)}}}function Wy(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return m=A})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),h||setTimeout(o,20)}function o(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){h=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Rd(n){this._internalRoot=n}yc.prototype.render=Rd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,h=mn();Uy(o,h,n,s,null,null)},yc.prototype.unmount=Rd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Uy(n.current,2,null,n,null,null),Ql(),s[Ks]=null}};function yc(n){this._internalRoot=n}yc.prototype.unstable_scheduleHydration=function(n){if(n){var s=rm();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ss.length&&s!==0&&s<ss[o].priority;o++);ss.splice(o,0,n),o===0&&Yy(n)}};var Qy=t.version;if(Qy!=="19.2.0")throw Error(i(527,Qy,"19.2.0"));I.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var CT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{fr=bc.inject(CT),on=bc}catch{}}return ro.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,h="",m=s0,y=a0,A=r0;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=Fy(n,1,!1,null,null,o,h,null,m,y,A,Wy),n[Ks]=s.current,hd(n),new Rd(s)},ro.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var h=!1,m="",y=s0,A=a0,C=r0,R=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(R=o.formState)),s=Fy(n,1,!0,s,o??null,h,m,R,y,A,C,Wy),s.context=Iy(null),o=s.current,h=mn(),h=xu(h),m=Hi(h),m.callback=null,Gi(o,m,h),o=h,s.current.lanes=o,mr(s,o),Wn(s),n[Ks]=s.current,hd(n),new yc(s)},ro.version="19.2.0",ro}var cb;function BT(){if(cb)return Od.exports;cb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=jT(),Od.exports}var zT=BT();const FT=Kf(zT),_o=F.createContext({});function rr(r){const t=F.useRef(null);return t.current===null&&(t.current=r()),t.current}const Qf=typeof window<"u",Io=Qf?F.useLayoutEffect:F.useEffect,eu=F.createContext(null);function Zf(r,t){r.indexOf(t)===-1&&r.push(t)}function Jf(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}const li=(r,t,e)=>e>t?t:e<r?r:e;let Mo=()=>{};const Di={},Tx=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function Ex(r){return typeof r=="object"&&r!==null}const Cx=r=>/^0[^.\s]+$/u.test(r);function tp(r){let t;return()=>(t===void 0&&(t=r()),t)}const an=r=>r,IT=(r,t)=>e=>t(r(e)),Uo=(...r)=>r.reduce(IT),tr=(r,t,e)=>{const i=t-r;return i===0?1:(e-r)/i};class ep{constructor(){this.subscriptions=[]}add(t){return Zf(this.subscriptions,t),()=>Jf(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ri=r=>r*1e3,Pn=r=>r/1e3;function np(r,t){return t?r*(1e3/t):0}const _x=(r,t,e)=>(((1-3*e+3*t)*r+(3*e-6*t))*r+3*t)*r,UT=1e-7,VT=12;function HT(r,t,e,i,a){let l,c,u=0;do c=t+(e-t)/2,l=_x(c,i,a)-r,l>0?e=c:t=c;while(Math.abs(l)>UT&&++u<VT);return c}function Vo(r,t,e,i){if(r===t&&e===i)return an;const a=l=>HT(l,0,1,r,e);return l=>l===0||l===1?l:_x(a(l),t,i)}const Mx=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,Dx=r=>t=>1-r(1-t),Rx=Vo(.33,1.53,.69,.99),ip=Dx(Rx),Nx=Mx(ip),Lx=r=>(r*=2)<1?.5*ip(r):.5*(2-Math.pow(2,-10*(r-1))),sp=r=>1-Math.sin(Math.acos(r)),kx=Dx(sp),Ox=Mx(sp),GT=Vo(.42,0,1,1),qT=Vo(0,0,.58,1),Px=Vo(.42,0,.58,1),XT=r=>Array.isArray(r)&&typeof r[0]!="number",jx=r=>Array.isArray(r)&&typeof r[0]=="number",YT={linear:an,easeIn:GT,easeInOut:Px,easeOut:qT,circIn:sp,circInOut:Ox,circOut:kx,backIn:ip,backInOut:Nx,backOut:Rx,anticipate:Lx},$T=r=>typeof r=="string",ub=r=>{if(jx(r)){Mo(r.length===4);const[t,e,i,a]=r;return Vo(t,e,i,a)}else if($T(r))return YT[r];return r},vc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KT(r,t){let e=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){c.has(p)&&(f.schedule(p),r()),p(u)}const f={schedule:(p,g=!1,b=!1)=>{const w=b&&a?e:i;return g&&c.add(p),w.has(p)||w.add(p),p},cancel:p=>{i.delete(p),c.delete(p)},process:p=>{if(u=p,a){l=!0;return}a=!0,[e,i]=[i,e],e.forEach(d),e.clear(),a=!1,l&&(l=!1,f.process(p))}};return f}const WT=40;function Bx(r,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=vc.reduce((_,N)=>(_[N]=KT(l),_),{}),{setup:u,read:d,resolveKeyframes:f,preUpdate:p,update:g,preRender:b,render:x,postRender:w}=c,S=()=>{const _=Di.useManualTiming?a.timestamp:performance.now();e=!1,Di.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(_-a.timestamp,WT),1)),a.timestamp=_,a.isProcessing=!0,u.process(a),d.process(a),f.process(a),p.process(a),g.process(a),b.process(a),x.process(a),w.process(a),a.isProcessing=!1,e&&t&&(i=!1,r(S))},E=()=>{e=!0,i=!0,a.isProcessing||r(S)};return{schedule:vc.reduce((_,N)=>{const D=c[N];return _[N]=(O,L=!1,z=!1)=>(e||E(),D.schedule(O,L,z)),_},{}),cancel:_=>{for(let N=0;N<vc.length;N++)c[vc[N]].cancel(_)},state:a,steps:c}}const{schedule:It,cancel:Gn,state:De,steps:zd}=Bx(typeof requestAnimationFrame<"u"?requestAnimationFrame:an,!0);let jc;function QT(){jc=void 0}const sn={now:()=>(jc===void 0&&sn.set(De.isProcessing||Di.useManualTiming?De.timestamp:performance.now()),jc),set:r=>{jc=r,queueMicrotask(QT)}},zx=r=>t=>typeof t=="string"&&t.startsWith(r),ap=zx("--"),ZT=zx("var(--"),rp=r=>ZT(r)?JT.test(r.split("/*")[0].trim()):!1,JT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,or={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Do={...or,transform:r=>li(0,1,r)},xc={...or,default:1},vo=r=>Math.round(r*1e5)/1e5,op=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tE(r){return r==null}const eE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lp=(r,t)=>e=>!!(typeof e=="string"&&eE.test(e)&&e.startsWith(r)||t&&!tE(e)&&Object.prototype.hasOwnProperty.call(e,t)),Fx=(r,t,e)=>i=>{if(typeof i!="string")return i;const[a,l,c,u]=i.match(op);return{[r]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},nE=r=>li(0,255,r),Fd={...or,transform:r=>Math.round(nE(r))},Ps={test:lp("rgb","red"),parse:Fx("red","green","blue"),transform:({red:r,green:t,blue:e,alpha:i=1})=>"rgba("+Fd.transform(r)+", "+Fd.transform(t)+", "+Fd.transform(e)+", "+vo(Do.transform(i))+")"};function iE(r){let t="",e="",i="",a="";return r.length>5?(t=r.substring(1,3),e=r.substring(3,5),i=r.substring(5,7),a=r.substring(7,9)):(t=r.substring(1,2),e=r.substring(2,3),i=r.substring(3,4),a=r.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const ff={test:lp("#"),parse:iE,transform:Ps.transform},Ho=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),rs=Ho("deg"),oi=Ho("%"),bt=Ho("px"),sE=Ho("vh"),aE=Ho("vw"),hb={...oi,parse:r=>oi.parse(r)/100,transform:r=>oi.transform(r*100)},za={test:lp("hsl","hue"),parse:Fx("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(r)+", "+oi.transform(vo(t))+", "+oi.transform(vo(e))+", "+vo(Do.transform(i))+")"},Se={test:r=>Ps.test(r)||ff.test(r)||za.test(r),parse:r=>Ps.test(r)?Ps.parse(r):za.test(r)?za.parse(r):ff.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Ps.transform(r):za.transform(r),getAnimatableNone:r=>{const t=Se.parse(r);return t.alpha=0,Se.transform(t)}},rE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oE(r){return isNaN(r)&&typeof r=="string"&&(r.match(op)?.length||0)+(r.match(rE)?.length||0)>0}const Ix="number",Ux="color",lE="var",cE="var(",db="${}",uE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ro(r){const t=r.toString(),e=[],i={color:[],number:[],var:[]},a=[];let l=0;const u=t.replace(uE,d=>(Se.test(d)?(i.color.push(l),a.push(Ux),e.push(Se.parse(d))):d.startsWith(cE)?(i.var.push(l),a.push(lE),e.push(d)):(i.number.push(l),a.push(Ix),e.push(parseFloat(d))),++l,db)).split(db);return{values:e,split:u,indexes:i,types:a}}function Vx(r){return Ro(r).values}function Hx(r){const{split:t,types:e}=Ro(r),i=t.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=t[c],a[c]!==void 0){const u=e[c];u===Ix?l+=vo(a[c]):u===Ux?l+=Se.transform(a[c]):l+=a[c]}return l}}const hE=r=>typeof r=="number"?0:Se.test(r)?Se.getAnimatableNone(r):r;function dE(r){const t=Vx(r);return Hx(r)(t.map(hE))}const cs={test:oE,parse:Vx,createTransformer:Hx,getAnimatableNone:dE};function Id(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*6*e:e<1/2?t:e<2/3?r+(t-r)*(2/3-e)*6:r}function fE({hue:r,saturation:t,lightness:e,alpha:i}){r/=360,t/=100,e/=100;let a=0,l=0,c=0;if(!t)a=l=c=e;else{const u=e<.5?e*(1+t):e+t-e*t,d=2*e-u;a=Id(d,u,r+1/3),l=Id(d,u,r),c=Id(d,u,r-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function qc(r,t){return e=>e>0?t:r}const re=(r,t,e)=>r+(t-r)*e,Ud=(r,t,e)=>{const i=r*r,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},pE=[ff,Ps,za],mE=r=>pE.find(t=>t.test(r));function fb(r){const t=mE(r);if(!t)return!1;let e=t.parse(r);return t===za&&(e=fE(e)),e}const pb=(r,t)=>{const e=fb(r),i=fb(t);if(!e||!i)return qc(r,t);const a={...e};return l=>(a.red=Ud(e.red,i.red,l),a.green=Ud(e.green,i.green,l),a.blue=Ud(e.blue,i.blue,l),a.alpha=re(e.alpha,i.alpha,l),Ps.transform(a))},pf=new Set(["none","hidden"]);function gE(r,t){return pf.has(r)?e=>e<=0?r:t:e=>e>=1?t:r}function yE(r,t){return e=>re(r,t,e)}function cp(r){return typeof r=="number"?yE:typeof r=="string"?rp(r)?qc:Se.test(r)?pb:xE:Array.isArray(r)?Gx:typeof r=="object"?Se.test(r)?pb:bE:qc}function Gx(r,t){const e=[...r],i=e.length,a=r.map((l,c)=>cp(l)(l,t[c]));return l=>{for(let c=0;c<i;c++)e[c]=a[c](l);return e}}function bE(r,t){const e={...r,...t},i={};for(const a in e)r[a]!==void 0&&t[a]!==void 0&&(i[a]=cp(r[a])(r[a],t[a]));return a=>{for(const l in i)e[l]=i[l](a);return e}}function vE(r,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=r.indexes[l][i[l]],u=r.values[c]??0;e[a]=u,i[l]++}return e}const xE=(r,t)=>{const e=cs.createTransformer(t),i=Ro(r),a=Ro(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?pf.has(r)&&!a.values.length||pf.has(t)&&!i.values.length?gE(r,t):Uo(Gx(vE(i,a),a.values),e):qc(r,t)};function qx(r,t,e){return typeof r=="number"&&typeof t=="number"&&typeof e=="number"?re(r,t,e):cp(r)(r,t)}const AE=r=>{const t=({timestamp:e})=>r(e);return{start:(e=!0)=>It.update(t,e),stop:()=>Gn(t),now:()=>De.isProcessing?De.timestamp:sn.now()}},Xx=(r,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)i+=Math.round(r(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Xc=2e4;function up(r){let t=0;const e=50;let i=r.next(t);for(;!i.done&&t<Xc;)t+=e,i=r.next(t);return t>=Xc?1/0:t}function SE(r,t=100,e){const i=e({...r,keyframes:[0,t]}),a=Math.min(up(i),Xc);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:Pn(a)}}const wE=5;function Yx(r,t,e){const i=Math.max(t-wE,0);return np(e-r(i),t-i)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vd=.001;function TE({duration:r=he.duration,bounce:t=he.bounce,velocity:e=he.velocity,mass:i=he.mass}){let a,l,c=1-t;c=li(he.minDamping,he.maxDamping,c),r=li(he.minDuration,he.maxDuration,Pn(r)),c<1?(a=f=>{const p=f*c,g=p*r,b=p-e,x=mf(f,c),w=Math.exp(-g);return Vd-b/x*w},l=f=>{const g=f*c*r,b=g*e+e,x=Math.pow(c,2)*Math.pow(f,2)*r,w=Math.exp(-g),S=mf(Math.pow(f,2),c);return(-a(f)+Vd>0?-1:1)*((b-x)*w)/S}):(a=f=>{const p=Math.exp(-f*r),g=(f-e)*r+1;return-Vd+p*g},l=f=>{const p=Math.exp(-f*r),g=(e-f)*(r*r);return p*g});const u=5/r,d=CE(a,l,u);if(r=ri(r),isNaN(d))return{stiffness:he.stiffness,damping:he.damping,duration:r};{const f=Math.pow(d,2)*i;return{stiffness:f,damping:c*2*Math.sqrt(i*f),duration:r}}}const EE=12;function CE(r,t,e){let i=e;for(let a=1;a<EE;a++)i=i-r(i)/t(i);return i}function mf(r,t){return r*Math.sqrt(1-t*t)}const _E=["duration","bounce"],ME=["stiffness","damping","mass"];function mb(r,t){return t.some(e=>r[e]!==void 0)}function DE(r){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...r};if(!mb(r,ME)&&mb(r,_E))if(r.visualDuration){const e=r.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,l=2*li(.05,1,1-(r.bounce||0))*Math.sqrt(a);t={...t,mass:he.mass,stiffness:a,damping:l}}else{const e=TE(r);t={...t,...e,mass:he.mass},t.isResolvedFromDuration=!0}return t}function Yc(r=he.visualDuration,t=he.bounce){const e=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:i,restDelta:a}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],u={done:!1,value:l},{stiffness:d,damping:f,mass:p,duration:g,velocity:b,isResolvedFromDuration:x}=DE({...e,velocity:-Pn(e.velocity||0)}),w=b||0,S=f/(2*Math.sqrt(d*p)),E=c-l,T=Pn(Math.sqrt(d/p)),M=Math.abs(E)<5;i||(i=M?he.restSpeed.granular:he.restSpeed.default),a||(a=M?he.restDelta.granular:he.restDelta.default);let _;if(S<1){const D=mf(T,S);_=O=>{const L=Math.exp(-S*T*O);return c-L*((w+S*T*E)/D*Math.sin(D*O)+E*Math.cos(D*O))}}else if(S===1)_=D=>c-Math.exp(-T*D)*(E+(w+T*E)*D);else{const D=T*Math.sqrt(S*S-1);_=O=>{const L=Math.exp(-S*T*O),z=Math.min(D*O,300);return c-L*((w+S*T*E)*Math.sinh(z)+D*E*Math.cosh(z))/D}}const N={calculatedDuration:x&&g||null,next:D=>{const O=_(D);if(x)u.done=D>=g;else{let L=D===0?w:0;S<1&&(L=D===0?ri(w):Yx(_,D,O));const z=Math.abs(L)<=i,X=Math.abs(c-O)<=a;u.done=z&&X}return u.value=u.done?c:O,u},toString:()=>{const D=Math.min(up(N),Xc),O=Xx(L=>N.next(D*L).value,D,30);return D+"ms "+O},toTransition:()=>{}};return N}Yc.applyToOptions=r=>{const t=SE(r,100,Yc);return r.ease=t.ease,r.duration=ri(t.duration),r.type="keyframes",r};function gf({keyframes:r,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:d,restDelta:f=.5,restSpeed:p}){const g=r[0],b={done:!1,value:g},x=z=>u!==void 0&&z<u||d!==void 0&&z>d,w=z=>u===void 0?d:d===void 0||Math.abs(u-z)<Math.abs(d-z)?u:d;let S=e*t;const E=g+S,T=c===void 0?E:c(E);T!==E&&(S=T-g);const M=z=>-S*Math.exp(-z/i),_=z=>T+M(z),N=z=>{const X=M(z),W=_(z);b.done=Math.abs(X)<=f,b.value=b.done?T:W};let D,O;const L=z=>{x(b.value)&&(D=z,O=Yc({keyframes:[b.value,w(b.value)],velocity:Yx(_,z,b.value),damping:a,stiffness:l,restDelta:f,restSpeed:p}))};return L(0),{calculatedDuration:null,next:z=>{let X=!1;return!O&&D===void 0&&(X=!0,N(z),L(z)),D!==void 0&&z>=D?O.next(z-D):(!X&&N(z),b)}}}function RE(r,t,e){const i=[],a=e||Di.mix||qx,l=r.length-1;for(let c=0;c<l;c++){let u=a(r[c],r[c+1]);if(t){const d=Array.isArray(t)?t[c]||an:t;u=Uo(d,u)}i.push(u)}return i}function hp(r,t,{clamp:e=!0,ease:i,mixer:a}={}){const l=r.length;if(Mo(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=r[0]===r[1];r[0]>r[l-1]&&(r=[...r].reverse(),t=[...t].reverse());const u=RE(t,i,a),d=u.length,f=p=>{if(c&&p<r[0])return t[0];let g=0;if(d>1)for(;g<r.length-2&&!(p<r[g+1]);g++);const b=tr(r[g],r[g+1],p);return u[g](b)};return e?p=>f(li(r[0],r[l-1],p)):f}function NE(r,t){const e=r[r.length-1];for(let i=1;i<=t;i++){const a=tr(0,t,i);r.push(re(e,1,a))}}function $x(r){const t=[0];return NE(t,r.length-1),t}function LE(r,t){return r.map(e=>e*t)}function kE(r,t){return r.map(()=>t||Px).splice(0,r.length-1)}function xo({duration:r=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=XT(i)?i.map(ub):ub(i),l={done:!1,value:t[0]},c=LE(e&&e.length===t.length?e:$x(t),r),u=hp(c,t,{ease:Array.isArray(a)?a:kE(t,a)});return{calculatedDuration:r,next:d=>(l.value=u(d),l.done=d>=r,l)}}const OE=r=>r!==null;function dp(r,{repeat:t,repeatType:e="loop"},i,a=1){const l=r.filter(OE),u=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!u||i===void 0?l[u]:i}const PE={decay:gf,inertia:gf,tween:xo,keyframes:xo,spring:Yc};function Kx(r){typeof r.type=="string"&&(r.type=PE[r.type])}class fp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const jE=r=>r/100;class nu extends fp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==sn.now()&&this.tick(sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Kx(t);const{type:e=xo,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:u}=t;const d=e||xo;d!==xo&&typeof u[0]!="number"&&(this.mixKeyframes=Uo(jE,qx(u[0],u[1])),u=[0,100]);const f=d({...t,keyframes:u});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=up(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:b,repeatDelay:x,type:w,onUpdate:S,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const T=this.currentTime-f*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,N=i;if(g){const z=Math.min(this.currentTime,a)/u;let X=Math.floor(z),W=z%1;!W&&z>=1&&(W=1),W===1&&X--,X=Math.min(X,g+1),!!(X%2)&&(b==="reverse"?(W=1-W,x&&(W-=x/u)):b==="mirror"&&(N=c)),_=li(0,1,W)*u}const D=M?{done:!1,value:p[0]}:N.next(_);l&&(D.value=l(D.value));let{done:O}=D;!M&&d!==null&&(O=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return L&&w!==gf&&(D.value=dp(p,this.options,E,this.speed)),S&&S(D.value),L&&this.finish(),D}then(t,e){return this.finished.then(t,e)}get duration(){return Pn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Pn(t)}get time(){return Pn(this.currentTime)}set time(t){t=ri(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(sn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Pn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=AE,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function BE(r){for(let t=1;t<r.length;t++)r[t]??(r[t]=r[t-1])}const js=r=>r*180/Math.PI,yf=r=>{const t=js(Math.atan2(r[1],r[0]));return bf(t)},zE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:yf,rotateZ:yf,skewX:r=>js(Math.atan(r[1])),skewY:r=>js(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},bf=r=>(r=r%360,r<0&&(r+=360),r),gb=yf,yb=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),bb=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),FE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yb,scaleY:bb,scale:r=>(yb(r)+bb(r))/2,rotateX:r=>bf(js(Math.atan2(r[6],r[5]))),rotateY:r=>bf(js(Math.atan2(-r[2],r[0]))),rotateZ:gb,rotate:gb,skewX:r=>js(Math.atan(r[4])),skewY:r=>js(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function vf(r){return r.includes("scale")?1:0}function xf(r,t){if(!r||r==="none")return vf(t);const e=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=FE,a=e;else{const u=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=zE,a=u}if(!a)return vf(t);const l=i[t],c=a[1].split(",").map(UE);return typeof l=="function"?l(c):c[l]}const IE=(r,t)=>{const{transform:e="none"}=getComputedStyle(r);return xf(e,t)};function UE(r){return parseFloat(r.trim())}const lr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cr=new Set(lr),vb=r=>r===or||r===bt,VE=new Set(["x","y","z"]),HE=lr.filter(r=>!VE.has(r));function GE(r){const t=[];return HE.forEach(e=>{const i=r.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Us={width:({x:r},{paddingLeft:t="0",paddingRight:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),height:({y:r},{paddingTop:t="0",paddingBottom:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:(r,{transform:t})=>xf(t,"x"),y:(r,{transform:t})=>xf(t,"y")};Us.translateX=Us.x;Us.translateY=Us.y;const Vs=new Set;let Af=!1,Sf=!1,wf=!1;function Wx(){if(Sf){const r=Array.from(Vs).filter(i=>i.needsMeasurement),t=new Set(r.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=GE(i);a.length&&(e.set(i,a),i.render())}),r.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),r.forEach(i=>i.measureEndState()),r.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Sf=!1,Af=!1,Vs.forEach(r=>r.complete(wf)),Vs.clear()}function Qx(){Vs.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Sf=!0)})}function qE(){wf=!0,Qx(),Wx(),wf=!1}class pp{constructor(t,e,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Vs.add(this),Af||(Af=!0,It.read(Qx),It.resolveKeyframes(Wx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const u=i.readValue(e,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}BE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Vs.delete(this)}cancel(){this.state==="scheduled"&&(Vs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XE=r=>r.startsWith("--");function YE(r,t,e){XE(t)?r.style.setProperty(t,e):r.style[t]=e}const Zx=tp(()=>window.ScrollTimeline!==void 0),$E={};function KE(r,t){const e=tp(r);return()=>$E[t]??e()}const Jx=KE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mo=([r,t,e,i])=>`cubic-bezier(${r}, ${t}, ${e}, ${i})`,xb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mo([0,.65,.55,1]),circOut:mo([.55,0,1,.45]),backIn:mo([.31,.01,.66,-.59]),backOut:mo([.33,1.53,.69,.99])};function t1(r,t){if(r)return typeof r=="function"?Jx()?Xx(r,t):"ease-out":jx(r)?mo(r):Array.isArray(r)?r.map(e=>t1(e,t)||xb.easeOut):xb[r]}function WE(r,t,e,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:d}={},f=void 0){const p={[t]:e};d&&(p.offset=d);const g=t1(u,a);Array.isArray(g)&&(p.easing=g);const b={delay:i,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),r.animate(p,b)}function e1(r){return typeof r=="function"&&"applyToOptions"in r}function QE({type:r,...t}){return e1(r)&&Jx()?r.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ZE extends fp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Mo(typeof t.type!="string");const f=QE(t);this.animation=WE(e,i,a,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=dp(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):YE(e,i,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Pn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Pn(t)}get time(){return Pn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ri(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Zx()?(this.animation.timeline=t,an):e(this)}}const n1={anticipate:Lx,backInOut:Nx,circInOut:Ox};function JE(r){return r in n1}function tC(r){typeof r.ease=="string"&&JE(r.ease)&&(r.ease=n1[r.ease])}const Ab=10;class eC extends ZE{constructor(t){tC(t),Kx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const u=new nu({...c,autoplay:!1}),d=ri(this.finishedTime??this.time);e.setWithVelocity(u.sample(d-Ab).value,u.sample(d).value,Ab),u.stop()}}const Sb=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(cs.test(r)||r==="0")&&!r.startsWith("url("));function nC(r){const t=r[0];if(r.length===1)return!0;for(let e=0;e<r.length;e++)if(r[e]!==t)return!0}function iC(r,t,e,i){const a=r[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=r[r.length-1],c=Sb(a,t),u=Sb(l,t);return!c||!u?!1:nC(r)||(e==="spring"||e1(e))&&i}function Tf(r){r.duration=0,r.type="keyframes"}const sC=new Set(["opacity","clipPath","filter","transform"]),aC=tp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rC(r){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:l,type:c}=r;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return aC()&&e&&sC.has(e)&&(e!=="transform"||!f)&&!d&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const oC=40;class lC extends fp{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:d,motionValue:f,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=sn.now();const b={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:f,element:p,...g},x=p?.KeyframeResolver||pp;this.keyframeResolver=new x(u,(w,S,E)=>this.onKeyframesResolved(w,S,b,!E),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:d,isHandoff:f,onUpdate:p}=i;this.resolvedAt=sn.now(),iC(t,l,c,u)||((Di.instantAnimations||!d)&&p?.(dp(t,i,e)),t[0]=t[t.length-1],Tf(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>oC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},x=!f&&rC(b)?new eC({...b,element:b.motionValue.owner.current}):new nu(b);x.finished.then(()=>this.notifyFinished()).catch(an),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const cC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uC(r){const t=cC.exec(r);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function i1(r,t,e=1){const[i,a]=uC(r);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const c=l.trim();return Tx(c)?parseFloat(c):c}return rp(a)?i1(a,t,e+1):a}function mp(r,t){return r?.[t]??r?.default??r}const s1=new Set(["width","height","top","left","right","bottom",...lr]),hC={test:r=>r==="auto",parse:r=>r},a1=r=>t=>t.test(r),r1=[or,bt,oi,rs,aE,sE,hC],wb=r=>r1.find(a1(r));function dC(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Cx(r):!0}const fC=new Set(["brightness","contrast","saturate","opacity"]);function pC(r){const[t,e]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[i]=e.match(op)||[];if(!i)return r;const a=e.replace(i,"");let l=fC.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+a+")"}const mC=/\b([a-z-]*)\(.*?\)/gu,Ef={...cs,getAnimatableNone:r=>{const t=r.match(mC);return t?t.map(pC).join(" "):r}},Tb={...or,transform:Math.round},gC={rotate:rs,rotateX:rs,rotateY:rs,rotateZ:rs,scale:xc,scaleX:xc,scaleY:xc,scaleZ:xc,skew:rs,skewX:rs,skewY:rs,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Do,originX:hb,originY:hb,originZ:bt},gp={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...gC,zIndex:Tb,fillOpacity:Do,strokeOpacity:Do,numOctaves:Tb},yC={...gp,color:Se,backgroundColor:Se,outlineColor:Se,fill:Se,stroke:Se,borderColor:Se,borderTopColor:Se,borderRightColor:Se,borderBottomColor:Se,borderLeftColor:Se,filter:Ef,WebkitFilter:Ef},o1=r=>yC[r];function l1(r,t){let e=o1(r);return e!==Ef&&(e=cs),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const bC=new Set(["auto","none","0"]);function vC(r,t,e){let i=0,a;for(;i<r.length&&!a;){const l=r[i];typeof l=="string"&&!bC.has(l)&&Ro(l).values.length&&(a=r[i]),i++}if(a&&e)for(const l of t)r[l]=l1(e,a)}class xC extends pp{constructor(t,e,i,a,l){super(t,e,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),rp(f))){const p=i1(f,e.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!s1.has(i)||t.length!==2)return;const[a,l]=t,c=wb(a),u=wb(l);if(c!==u)if(vb(c)&&vb(u))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Us[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||dC(t[a]))&&i.push(a);i.length&&vC(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Us[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Us[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function c1(r,t,e){if(r instanceof EventTarget)return[r];if(typeof r=="string"){const a=document.querySelectorAll(r);return a?Array.from(a):[]}return Array.from(r)}const u1=(r,t)=>t&&typeof r=="number"?t.transform(r):r;function yp(r){return Ex(r)&&"offsetHeight"in r}const Eb=30,AC=r=>!isNaN(parseFloat(r)),Ao={current:void 0};class SC{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=sn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=AC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new ep);const i=this.events[t].add(e);return t==="change"?()=>{i(),It.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ao.current&&Ao.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Eb)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,Eb);return np(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hn(r,t){return new SC(r,t)}const{schedule:bp}=Bx(queueMicrotask,!1),Un={x:!1,y:!1};function h1(){return Un.x||Un.y}function wC(r){return r==="x"||r==="y"?Un[r]?null:(Un[r]=!0,()=>{Un[r]=!1}):Un.x||Un.y?null:(Un.x=Un.y=!0,()=>{Un.x=Un.y=!1})}function d1(r,t){const e=c1(r),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function Cb(r){return!(r.pointerType==="touch"||h1())}function TC(r,t,e={}){const[i,a,l]=d1(r,e),c=u=>{if(!Cb(u))return;const{target:d}=u,f=t(d,u);if(typeof f!="function"||!d)return;const p=g=>{Cb(g)&&(f(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,a)};return i.forEach(u=>{u.addEventListener("pointerenter",c,a)}),l}const f1=(r,t)=>t?r===t?!0:f1(r,t.parentElement):!1,vp=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,EC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CC(r){return EC.has(r.tagName)||r.tabIndex!==-1}const Bc=new WeakSet;function _b(r){return t=>{t.key==="Enter"&&r(t)}}function Hd(r,t){r.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _C=(r,t)=>{const e=r.currentTarget;if(!e)return;const i=_b(()=>{if(Bc.has(e))return;Hd(e,"down");const a=_b(()=>{Hd(e,"up")}),l=()=>Hd(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function Mb(r){return vp(r)&&!h1()}function MC(r,t,e={}){const[i,a,l]=d1(r,e),c=u=>{const d=u.currentTarget;if(!Mb(u))return;Bc.add(d);const f=t(d,u),p=(x,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),Bc.has(d)&&Bc.delete(d),Mb(x)&&typeof f=="function"&&f(x,{success:w})},g=x=>{p(x,d===window||d===document||e.useGlobalTarget||f1(d,x.target))},b=x=>{p(x,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",b,a)};return i.forEach(u=>{(e.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),yp(u)&&(u.addEventListener("focus",f=>_C(f,a)),!CC(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function xp(r){return Ex(r)&&"ownerSVGElement"in r}const zc=new WeakMap;let Fc;const p1=(r,t,e)=>(i,a)=>a&&a[0]?a[0][r+"Size"]:xp(i)&&"getBBox"in i?i.getBBox()[t]:i[e],DC=p1("inline","width","offsetWidth"),RC=p1("block","height","offsetHeight");function NC({target:r,borderBoxSize:t}){zc.get(r)?.forEach(e=>{e(r,{get width(){return DC(r,t)},get height(){return RC(r,t)}})})}function LC(r){r.forEach(NC)}function kC(){typeof ResizeObserver>"u"||(Fc=new ResizeObserver(LC))}function OC(r,t){Fc||kC();const e=c1(r);return e.forEach(i=>{let a=zc.get(i);a||(a=new Set,zc.set(i,a)),a.add(t),Fc?.observe(i)}),()=>{e.forEach(i=>{const a=zc.get(i);a?.delete(t),a?.size||Fc?.unobserve(i)})}}const Ic=new Set;let Fa;function PC(){Fa=()=>{const r={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ic.forEach(t=>t(r))},window.addEventListener("resize",Fa)}function jC(r){return Ic.add(r),Fa||PC(),()=>{Ic.delete(r),!Ic.size&&typeof Fa=="function"&&(window.removeEventListener("resize",Fa),Fa=void 0)}}function BC(r,t){return typeof r=="function"?jC(r):OC(r,t)}function m1(r,t){let e;const i=()=>{const{currentTime:a}=t,c=(a===null?0:a.value)/100;e!==c&&r(c),e=c};return It.preUpdate(i,!0),()=>Gn(i)}function zC(r){return xp(r)&&r.tagName==="svg"}function FC(...r){const t=!Array.isArray(r[0]),e=t?0:-1,i=r[0+e],a=r[1+e],l=r[2+e],c=r[3+e],u=hp(a,l,c);return t?u(i):u}const we=r=>!!(r&&r.getVelocity);function IC(r,t,e){const i=r.get();let a=null,l=i,c;const u=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,d=()=>{a&&(a.stop(),a=null)},f=()=>{d(),a=new nu({keyframes:[Rb(r.get()),Rb(l)],velocity:r.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:c})};if(r.attach((p,g)=>{l=p,c=b=>g(Db(b,u)),It.postRender(f)},d),we(t)){const p=t.on("change",b=>r.set(Db(b,u))),g=r.on("destroy",p);return()=>{p(),g()}}return d}function Db(r,t){return t?r+t:r}function Rb(r){return typeof r=="number"?r:parseFloat(r)}const UC=[...r1,Se,cs],VC=r=>UC.find(a1(r)),Go=F.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function Nb(r,t){if(typeof r=="function")return r(t);r!=null&&(r.current=t)}function HC(...r){return t=>{let e=!1;const i=r.map(a=>{const l=Nb(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Nb(r[a],null)}}}}function GC(...r){return F.useCallback(HC(...r),r)}class qC extends F.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,a=yp(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=e.offsetHeight||0,l.width=e.offsetWidth||0,l.top=e.offsetTop,l.left=e.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function XC({children:r,isPresent:t,anchorX:e,root:i}){const a=F.useId(),l=F.useRef(null),c=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=F.useContext(Go),d=GC(l,r?.ref);return F.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:b,right:x}=c.current;if(t||!l.current||!f||!p)return;const w=e==="left"?`left: ${b}`:`right: ${x}`;l.current.dataset.motionPopId=a;const S=document.createElement("style");u&&(S.nonce=u);const E=i??document.head;return E.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{E.contains(S)&&E.removeChild(S)}},[t]),v.jsx(qC,{isPresent:t,childRef:l,sizeRef:c,children:F.cloneElement(r,{ref:d})})}const YC=({children:r,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:u,root:d})=>{const f=rr($C),p=F.useId();let g=!0,b=F.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:e,custom:a,onExitComplete:x=>{f.set(x,!0);for(const w of f.values())if(!w)return;i&&i()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[e,f,i]);return l&&g&&(b={...b}),F.useMemo(()=>{f.forEach((x,w)=>f.set(w,!1))},[e]),F.useEffect(()=>{!e&&!f.size&&i&&i()},[e]),c==="popLayout"&&(r=v.jsx(XC,{isPresent:e,anchorX:u,root:d,children:r})),v.jsx(eu.Provider,{value:b,children:r})};function $C(){return new Map}function g1(r=!0){const t=F.useContext(eu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,l=F.useId();F.useEffect(()=>{if(r)return a(l)},[r]);const c=F.useCallback(()=>r&&i&&i(l),[l,i,r]);return!e&&i?[!1,c]:[!0]}const Ac=r=>r.key||"";function Lb(r){const t=[];return F.Children.forEach(r,e=>{F.isValidElement(e)&&t.push(e)}),t}const qo=({children:r,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:u="left",root:d})=>{const[f,p]=g1(c),g=F.useMemo(()=>Lb(r),[r]),b=c&&!f?[]:g.map(Ac),x=F.useRef(!0),w=F.useRef(g),S=rr(()=>new Map),[E,T]=F.useState(g),[M,_]=F.useState(g);Io(()=>{x.current=!1,w.current=g;for(let O=0;O<M.length;O++){const L=Ac(M[O]);b.includes(L)?S.delete(L):S.get(L)!==!0&&S.set(L,!1)}},[M,b.length,b.join("-")]);const N=[];if(g!==E){let O=[...g];for(let L=0;L<M.length;L++){const z=M[L],X=Ac(z);b.includes(X)||(O.splice(L,0,z),N.push(z))}return l==="wait"&&N.length&&(O=N),_(Lb(O)),T(g),null}const{forceRender:D}=F.useContext(_o);return v.jsx(v.Fragment,{children:M.map(O=>{const L=Ac(O),z=c&&!f?!1:g===M||b.includes(L),X=()=>{if(S.has(L))S.set(L,!0);else return;let W=!0;S.forEach(J=>{J||(W=!1)}),W&&(D?.(),_(w.current),c&&p?.(),i&&i())};return v.jsx(YC,{isPresent:z,initial:!x.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:z?void 0:X,anchorX:u,children:O},L)})})},KC=F.createContext(null);function WC(){const r=F.useRef(!1);return Io(()=>(r.current=!0,()=>{r.current=!1}),[]),r}function QC(){const r=WC(),[t,e]=F.useState(0),i=F.useCallback(()=>{r.current&&e(t+1)},[t]);return[F.useCallback(()=>It.postRender(i),[i]),t]}const ZC=r=>!r.isLayoutDirty&&r.willUpdate(!1);function kb(){const r=new Set,t=new WeakMap,e=()=>r.forEach(ZC);return{add:i=>{r.add(i),t.set(i,i.addEventListener("willUpdate",e))},remove:i=>{r.delete(i);const a=t.get(i);a&&(a(),t.delete(i)),e()},dirty:e}}const y1=r=>r===!0,JC=r=>y1(r===!0)||r==="id",t_=({children:r,id:t,inherit:e=!0})=>{const i=F.useContext(_o),a=F.useContext(KC),[l,c]=QC(),u=F.useRef(null),d=i.id||a;u.current===null&&(JC(e)&&d&&(t=t?d+"-"+t:d),u.current={id:t,group:y1(e)&&i.group||kb()});const f=F.useMemo(()=>({...u.current,forceRender:l}),[c]);return v.jsx(_o.Provider,{value:f,children:r})},b1=F.createContext({strict:!1}),Ob={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},er={};for(const r in Ob)er[r]={isEnabled:t=>Ob[r].some(e=>!!t[e])};function e_(r){for(const t in r)er[t]={...er[t],...r[t]}}const n_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $c(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||n_.has(r)}let v1=r=>!$c(r);function i_(r){typeof r=="function"&&(v1=t=>t.startsWith("on")?!$c(t):r(t))}try{i_(require("@emotion/is-prop-valid").default)}catch{}function s_(r,t,e){const i={};for(const a in r)a==="values"&&typeof r.values=="object"||(v1(a)||e===!0&&$c(a)||!t&&!$c(a)||r.draggable&&a.startsWith("onDrag"))&&(i[a]=r[a]);return i}const iu=F.createContext({});function su(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function No(r){return typeof r=="string"||Array.isArray(r)}const Ap=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sp=["initial",...Ap];function au(r){return su(r.animate)||Sp.some(t=>No(r[t]))}function x1(r){return!!(au(r)||r.variants)}function a_(r,t){if(au(r)){const{initial:e,animate:i}=r;return{initial:e===!1||No(e)?e:void 0,animate:No(i)?i:void 0}}return r.inherit!==!1?t:{}}function r_(r){const{initial:t,animate:e}=a_(r,F.useContext(iu));return F.useMemo(()=>({initial:t,animate:e}),[Pb(t),Pb(e)])}function Pb(r){return Array.isArray(r)?r.join(" "):r}const Lo={};function o_(r){for(const t in r)Lo[t]=r[t],ap(t)&&(Lo[t].isCSSVariable=!0)}function A1(r,{layout:t,layoutId:e}){return cr.has(r)||r.startsWith("origin")||(t||e!==void 0)&&(!!Lo[r]||r==="opacity")}const l_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c_=lr.length;function u_(r,t,e){let i="",a=!0;for(let l=0;l<c_;l++){const c=lr[l],u=r[c];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(c.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||e){const f=u1(u,gp[c]);if(!d){a=!1;const p=l_[c]||c;i+=`${p}(${f}) `}e&&(t[c]=f)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function wp(r,t,e){const{style:i,vars:a,transformOrigin:l}=r;let c=!1,u=!1;for(const d in t){const f=t[d];if(cr.has(d)){c=!0;continue}else if(ap(d)){a[d]=f;continue}else{const p=u1(f,gp[d]);d.startsWith("origin")?(u=!0,l[d]=p):i[d]=p}}if(t.transform||(c||e?i.transform=u_(t,r.transform,e):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=l;i.transformOrigin=`${d} ${f} ${p}`}}const Tp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function S1(r,t,e){for(const i in t)!we(t[i])&&!A1(i,e)&&(r[i]=t[i])}function h_({transformTemplate:r},t){return F.useMemo(()=>{const e=Tp();return wp(e,t,r),Object.assign({},e.vars,e.style)},[t])}function d_(r,t){const e=r.style||{},i={};return S1(i,e,r),Object.assign(i,h_(r,t)),i}function f_(r,t){const e={},i=d_(r,t);return r.drag&&r.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(e.tabIndex=0),e.style=i,e}const p_={offset:"stroke-dashoffset",array:"stroke-dasharray"},m_={offset:"strokeDashoffset",array:"strokeDasharray"};function g_(r,t,e=1,i=0,a=!0){r.pathLength=1;const l=a?p_:m_;r[l.offset]=bt.transform(-i);const c=bt.transform(t),u=bt.transform(e);r[l.array]=`${c} ${u}`}function w1(r,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,p){if(wp(r,u,f),d){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:g,style:b}=r;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),e!==void 0&&(g.y=e),i!==void 0&&(g.scale=i),a!==void 0&&g_(g,a,l,c,!1)}const T1=()=>({...Tp(),attrs:{}}),E1=r=>typeof r=="string"&&r.toLowerCase()==="svg";function y_(r,t,e,i){const a=F.useMemo(()=>{const l=T1();return w1(l,t,E1(i),r.transformTemplate,r.style),{...l.attrs,style:{...l.style}}},[t]);if(r.style){const l={};S1(l,r.style,r),a.style={...l,...a.style}}return a}const b_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ep(r){return typeof r!="string"||r.includes("-")?!1:!!(b_.indexOf(r)>-1||/[A-Z]/u.test(r))}function v_(r,t,e,{latestValues:i},a,l=!1){const u=(Ep(r)?y_:f_)(t,i,a,r),d=s_(t,typeof r=="string",l),f=r!==F.Fragment?{...d,...u,ref:e}:{},{children:p}=t,g=F.useMemo(()=>we(p)?p.get():p,[p]);return F.createElement(r,{...f,children:g})}function jb(r){const t=[{},{}];return r?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function Cp(r,t,e,i){if(typeof t=="function"){const[a,l]=jb(i);t=t(e!==void 0?e:r.custom,a,l)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[a,l]=jb(i);t=t(e!==void 0?e:r.custom,a,l)}return t}function Uc(r){return we(r)?r.get():r}function x_({scrapeMotionValuesFromProps:r,createRenderState:t},e,i,a){return{latestValues:A_(e,i,a,r),renderState:t()}}function A_(r,t,e,i){const a={},l=i(r,{});for(const b in l)a[b]=Uc(l[b]);let{initial:c,animate:u}=r;const d=au(r),f=x1(r);t&&f&&!d&&r.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let p=e?e.initial===!1:!1;p=p||c===!1;const g=p?u:c;if(g&&typeof g!="boolean"&&!su(g)){const b=Array.isArray(g)?g:[g];for(let x=0;x<b.length;x++){const w=Cp(r,b[x]);if(w){const{transitionEnd:S,transition:E,...T}=w;for(const M in T){let _=T[M];if(Array.isArray(_)){const N=p?_.length-1:0;_=_[N]}_!==null&&(a[M]=_)}for(const M in S)a[M]=S[M]}}}return a}const C1=r=>(t,e)=>{const i=F.useContext(iu),a=F.useContext(eu),l=()=>x_(r,t,i,a);return e?l():rr(l)};function _p(r,t,e){const{style:i}=r,a={};for(const l in i)(we(i[l])||t.style&&we(t.style[l])||A1(l,r)||e?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const S_=C1({scrapeMotionValuesFromProps:_p,createRenderState:Tp});function _1(r,t,e){const i=_p(r,t,e);for(const a in r)if(we(r[a])||we(t[a])){const l=lr.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=r[a]}return i}const w_=C1({scrapeMotionValuesFromProps:_1,createRenderState:T1}),T_=Symbol.for("motionComponentSymbol");function Ia(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function E_(r,t,e){return F.useCallback(i=>{i&&r.onMount&&r.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Ia(e)&&(e.current=i))},[t])}const Mp=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),C_="framerAppearId",M1="data-"+Mp(C_),D1=F.createContext({});function __(r,t,e,i,a){const{visualElement:l}=F.useContext(iu),c=F.useContext(b1),u=F.useContext(eu),d=F.useContext(Go).reducedMotion,f=F.useRef(null);i=i||c.renderer,!f.current&&i&&(f.current=i(r,{visualState:t,parent:l,props:e,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,g=F.useContext(D1);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&M_(f.current,e,a,g);const b=F.useRef(!1);F.useInsertionEffect(()=>{p&&b.current&&p.update(e,u)});const x=e[M1],w=F.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return Io(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),w.current&&p.animationState&&p.animationState.animateChanges())}),F.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),w.current=!1),p.enteringChildren=void 0)}),p}function M_(r,t,e,i){const{layoutId:a,layout:l,drag:c,dragConstraints:u,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=t;r.projection=new e(r.latestValues,t["data-framer-portal-id"]?void 0:R1(r.parent)),r.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||u&&Ia(u),visualElement:r,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:d,layoutRoot:f})}function R1(r){if(r)return r.options.allowProjection!==!1?r.projection:R1(r.parent)}function Gd(r,{forwardMotionProps:t=!1}={},e,i){e&&e_(e);const a=Ep(r)?w_:S_;function l(u,d){let f;const p={...F.useContext(Go),...u,layoutId:D_(u)},{isStatic:g}=p,b=r_(u),x=a(u,g);if(!g&&Qf){R_();const w=N_(p);f=w.MeasureLayout,b.visualElement=__(r,x,p,i,w.ProjectionNode)}return v.jsxs(iu.Provider,{value:b,children:[f&&b.visualElement?v.jsx(f,{visualElement:b.visualElement,...p}):null,v_(r,u,E_(x,b.visualElement,d),x,g,t)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const c=F.forwardRef(l);return c[T_]=r,c}function D_({layoutId:r}){const t=F.useContext(_o).id;return t&&r!==void 0?t+"-"+r:r}function R_(r,t){F.useContext(b1).strict}function N_(r){const{drag:t,layout:e}=er;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(r)||e?.isEnabled(r)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function L_(r,t){if(typeof Proxy>"u")return Gd;const e=new Map,i=(l,c)=>Gd(l,c,r,t),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(e.has(c)||e.set(c,Gd(c,void 0,r,t)),e.get(c))})}function N1({top:r,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:r,max:i}}}function k_({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function O_(r,t){if(!t)return r;const e=t({x:r.left,y:r.top}),i=t({x:r.right,y:r.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function qd(r){return r===void 0||r===1}function Cf({scale:r,scaleX:t,scaleY:e}){return!qd(r)||!qd(t)||!qd(e)}function ks(r){return Cf(r)||L1(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function L1(r){return Bb(r.x)||Bb(r.y)}function Bb(r){return r&&r!=="0%"}function Kc(r,t,e){const i=r-e,a=t*i;return e+a}function zb(r,t,e,i,a){return a!==void 0&&(r=Kc(r,a,i)),Kc(r,e,i)+t}function _f(r,t=0,e=1,i,a){r.min=zb(r.min,t,e,i,a),r.max=zb(r.max,t,e,i,a)}function k1(r,{x:t,y:e}){_f(r.x,t.translate,t.scale,t.originPoint),_f(r.y,e.translate,e.scale,e.originPoint)}const Fb=.999999999999,Ib=1.0000000000001;function P_(r,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,c;for(let u=0;u<a;u++){l=e[u],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Va(r,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,k1(r,c)),i&&ks(l.latestValues)&&Va(r,l.latestValues))}t.x<Ib&&t.x>Fb&&(t.x=1),t.y<Ib&&t.y>Fb&&(t.y=1)}function Ua(r,t){r.min=r.min+t,r.max=r.max+t}function Ub(r,t,e,i,a=.5){const l=re(r.min,r.max,a);_f(r,t,e,l,i)}function Va(r,t){Ub(r.x,t.x,t.scaleX,t.scale,t.originX),Ub(r.y,t.y,t.scaleY,t.scale,t.originY)}function O1(r,t){return N1(O_(r.getBoundingClientRect(),t))}function j_(r,t,e){const i=O1(r,e),{scroll:a}=t;return a&&(Ua(i.x,a.offset.x),Ua(i.y,a.offset.y)),i}const Vb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ha=()=>({x:Vb(),y:Vb()}),Hb=()=>({min:0,max:0}),ge=()=>({x:Hb(),y:Hb()}),Mf={current:null},P1={current:!1};function B_(){if(P1.current=!0,!!Qf)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mf.current=r.matches;r.addEventListener("change",t),t()}else Mf.current=!1}const z_=new WeakMap;function F_(r,t,e){for(const i in t){const a=t[i],l=e[i];if(we(a))r.addValue(i,a);else if(we(l))r.addValue(i,Hn(a,{owner:r}));else if(l!==a)if(r.hasValue(i)){const c=r.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=r.getStaticValue(i);r.addValue(i,Hn(c!==void 0?c:a,{owner:r}))}}for(const i in e)t[i]===void 0&&r.removeValue(i);return t}const Gb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class I_{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=sn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,It.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=au(e),this.isVariantNode=x1(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in g){const x=g[b];d[b]!==void 0&&we(x)&&x.set(d[b])}}mount(t){this.current=t,z_.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),P1.current||B_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gn(this.notifyUpdate),Gn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=cr.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&It.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in er){const e=er[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<Gb.length;i++){const a=Gb[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=F_(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Hn(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Tx(i)||Cx(i))?i=parseFloat(i):!VC(i)&&cs.test(e)&&(i=l1(t,e)),this.setBaseTarget(t,we(i)?i.get():i)),we(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=Cp(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!we(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new ep),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){bp.render(this.render)}}class j1 extends I_{constructor(){super(...arguments),this.KeyframeResolver=xC}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;we(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function B1(r,{style:t,vars:e},i,a){const l=r.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,i);for(c in e)l.setProperty(c,e[c])}function U_(r){return window.getComputedStyle(r)}class V_ extends j1{constructor(){super(...arguments),this.type="html",this.renderInstance=B1}readValueFromInstance(t,e){if(cr.has(e))return this.projection?.isProjecting?vf(e):IE(t,e);{const i=U_(t),a=(ap(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return O1(t,e)}build(t,e,i){wp(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return _p(t,e,i)}}const z1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H_(r,t,e,i){B1(r,t,void 0,i);for(const a in t.attrs)r.setAttribute(z1.has(a)?a:Mp(a),t.attrs[a])}class G_ extends j1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(cr.has(e)){const i=o1(e);return i&&i.default||0}return e=z1.has(e)?e:Mp(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return _1(t,e,i)}build(t,e,i){w1(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){H_(t,e,i,a)}mount(t){this.isSVGTag=E1(t.tagName),super.mount(t)}}const q_=(r,t)=>Ep(r)?new G_(t):new V_(t,{allowProjection:r!==F.Fragment});function Ya(r,t,e){const i=r.getProps();return Cp(i,t,e!==void 0?e:i.custom,r)}const Df=r=>Array.isArray(r);function X_(r,t,e){r.hasValue(t)?r.getValue(t).set(e):r.addValue(t,Hn(e))}function Y_(r){return Df(r)?r[r.length-1]||0:r}function $_(r,t){const e=Ya(r,t);let{transitionEnd:i={},transition:a={},...l}=e||{};l={...l,...i};for(const c in l){const u=Y_(l[c]);X_(r,c,u)}}function K_(r){return!!(we(r)&&r.add)}function Rf(r,t){const e=r.getValue("willChange");if(K_(e))return e.add(t);if(!e&&Di.WillChange){const i=new Di.WillChange("auto");r.addValue("willChange",i),i.add(t)}}function F1(r){return r.props[M1]}const W_=r=>r!==null;function Q_(r,{repeat:t,repeatType:e="loop"},i){const a=r.filter(W_),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}const Z_={type:"spring",stiffness:500,damping:25,restSpeed:10},J_=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),t2={type:"keyframes",duration:.8},e2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n2=(r,{keyframes:t})=>t.length>2?t2:cr.has(r)?r.startsWith("scale")?J_(t[1]):Z_:e2;function i2({when:r,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:u,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const Dp=(r,t,e,i={},a,l)=>c=>{const u=mp(i,r)||{},d=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-ri(d);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:r,motionValue:t,element:l?void 0:a};i2(u)||Object.assign(p,n2(r,p)),p.duration&&(p.duration=ri(p.duration)),p.repeatDelay&&(p.repeatDelay=ri(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Tf(p),p.delay===0&&(g=!0)),(Di.instantAnimations||Di.skipAnimations)&&(g=!0,Tf(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!l&&t.get()!==void 0){const b=Q_(p.keyframes,u);if(b!==void 0){It.update(()=>{p.onUpdate(b),p.onComplete()});return}}return u.isSync?new nu(p):new lC(p)};function s2({protectedKeys:r,needsAnimating:t},e){const i=r.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function I1(r,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:l=r.getDefaultTransition(),transitionEnd:c,...u}=t;i&&(l=i);const d=[],f=a&&r.animationState&&r.animationState.getState()[a];for(const p in u){const g=r.getValue(p,r.latestValues[p]??null),b=u[p];if(b===void 0||f&&s2(f,p))continue;const x={delay:e,...mp(l||{},p)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===w&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=F1(r);if(T){const M=window.MotionHandoffAnimation(T,p,It);M!==null&&(x.startTime=M,S=!0)}}Rf(r,p),g.start(Dp(p,g,b,r.shouldReduceMotion&&s1.has(p)?{type:!1}:x,r,S));const E=g.animation;E&&d.push(E)}return c&&Promise.all(d).then(()=>{It.update(()=>{c&&$_(r,c)})}),d}function U1(r,t,e,i=0,a=1){const l=Array.from(r).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),c=r.size,u=(c-1)*i;return typeof e=="function"?e(l,c):a===1?l*i:u-l*i}function Nf(r,t,e={}){const i=Ya(r,t,e.type==="exit"?r.presenceContext?.custom:void 0);let{transition:a=r.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const l=i?()=>Promise.all(I1(r,i,e)):()=>Promise.resolve(),c=r.variantChildren&&r.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=a;return a2(r,t,d,f,p,g,e)}:()=>Promise.resolve(),{when:u}=a;if(u){const[d,f]=u==="beforeChildren"?[l,c]:[c,l];return d().then(()=>f())}else return Promise.all([l(),c(e.delay)])}function a2(r,t,e=0,i=0,a=0,l=1,c){const u=[];for(const d of r.variantChildren)d.notify("AnimationStart",t),u.push(Nf(d,t,{...c,delay:e+(typeof i=="function"?0:i)+U1(r.variantChildren,d,i,a,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(u)}function r2(r,t,e={}){r.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>Nf(r,l,e));i=Promise.all(a)}else if(typeof t=="string")i=Nf(r,t,e);else{const a=typeof t=="function"?Ya(r,t,e.custom):t;i=Promise.all(I1(r,a,e))}return i.then(()=>{r.notify("AnimationComplete",t)})}function V1(r,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==r.length)return!1;for(let i=0;i<e;i++)if(t[i]!==r[i])return!1;return!0}const o2=Sp.length;function H1(r){if(!r)return;if(!r.isControllingVariants){const e=r.parent?H1(r.parent)||{}:{};return r.props.initial!==void 0&&(e.initial=r.props.initial),e}const t={};for(let e=0;e<o2;e++){const i=Sp[e],a=r.props[i];(No(a)||a===!1)&&(t[i]=a)}return t}const l2=[...Ap].reverse(),c2=Ap.length;function u2(r){return t=>Promise.all(t.map(({animation:e,options:i})=>r2(r,e,i)))}function h2(r){let t=u2(r),e=qb(),i=!0;const a=d=>(f,p)=>{const g=Ya(r,p,d==="exit"?r.presenceContext?.custom:void 0);if(g){const{transition:b,transitionEnd:x,...w}=g;f={...f,...w,...x}}return f};function l(d){t=d(r)}function c(d){const{props:f}=r,p=H1(r.parent)||{},g=[],b=new Set;let x={},w=1/0;for(let E=0;E<c2;E++){const T=l2[E],M=e[T],_=f[T]!==void 0?f[T]:p[T],N=No(_),D=T===d?M.isActive:null;D===!1&&(w=E);let O=_===p[T]&&_!==f[T]&&N;if(O&&i&&r.manuallyAnimateOnMount&&(O=!1),M.protectedKeys={...x},!M.isActive&&D===null||!_&&!M.prevProp||su(_)||typeof _=="boolean")continue;const L=d2(M.prevProp,_);let z=L||T===d&&M.isActive&&!O&&N||E>w&&N,X=!1;const W=Array.isArray(_)?_:[_];let J=W.reduce(a(T),{});D===!1&&(J={});const{prevResolvedValues:ot={}}=M,dt={...ot,...J},st=I=>{z=!0,b.has(I)&&(X=!0,b.delete(I)),M.needsAnimating[I]=!0;const Q=r.getValue(I);Q&&(Q.liveStyle=!1)};for(const I in dt){const Q=J[I],rt=ot[I];if(x.hasOwnProperty(I))continue;let gt=!1;Df(Q)&&Df(rt)?gt=!V1(Q,rt):gt=Q!==rt,gt?Q!=null?st(I):b.add(I):Q!==void 0&&b.has(I)?st(I):M.protectedKeys[I]=!0}M.prevProp=_,M.prevResolvedValues=J,M.isActive&&(x={...x,...J}),i&&r.blockInitialAnimation&&(z=!1);const ft=O&&L;z&&(!ft||X)&&g.push(...W.map(I=>{const Q={type:T};if(typeof I=="string"&&i&&!ft&&r.manuallyAnimateOnMount&&r.parent){const{parent:rt}=r,gt=Ya(rt,I);if(rt.enteringChildren&&gt){const{delayChildren:k}=gt.transition||{};Q.delay=U1(rt.enteringChildren,r,k)}}return{animation:I,options:Q}}))}if(b.size){const E={};if(typeof f.initial!="boolean"){const T=Ya(r,Array.isArray(f.initial)?f.initial[0]:f.initial);T&&T.transition&&(E.transition=T.transition)}b.forEach(T=>{const M=r.getBaseTarget(T),_=r.getValue(T);_&&(_.liveStyle=!0),E[T]=M??null}),g.push({animation:E})}let S=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!r.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(g):Promise.resolve()}function u(d,f){if(e[d].isActive===f)return Promise.resolve();r.variantChildren?.forEach(g=>g.animationState?.setActive(d,f)),e[d].isActive=f;const p=c(d);for(const g in e)e[g].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>e,reset:()=>{e=qb()}}}function d2(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!V1(t,r):!1}function Ns(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qb(){return{animate:Ns(!0),whileInView:Ns(),whileHover:Ns(),whileTap:Ns(),whileDrag:Ns(),whileFocus:Ns(),exit:Ns()}}class hs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class f2 extends hs{constructor(t){super(t),t.animationState||(t.animationState=h2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();su(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let p2=0;class m2 extends hs{constructor(){super(...arguments),this.id=p2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const g2={animation:{Feature:f2},exit:{Feature:m2}};function ko(r,t,e,i={passive:!0}){return r.addEventListener(t,e,i),()=>r.removeEventListener(t,e)}function Xo(r){return{point:{x:r.pageX,y:r.pageY}}}const y2=r=>t=>vp(t)&&r(t,Xo(t));function So(r,t,e,i){return ko(r,t,y2(e),i)}const G1=1e-4,b2=1-G1,v2=1+G1,q1=.01,x2=0-q1,A2=0+q1;function Ge(r){return r.max-r.min}function S2(r,t,e){return Math.abs(r-t)<=e}function Xb(r,t,e,i=.5){r.origin=i,r.originPoint=re(t.min,t.max,r.origin),r.scale=Ge(e)/Ge(t),r.translate=re(e.min,e.max,r.origin)-r.originPoint,(r.scale>=b2&&r.scale<=v2||isNaN(r.scale))&&(r.scale=1),(r.translate>=x2&&r.translate<=A2||isNaN(r.translate))&&(r.translate=0)}function wo(r,t,e,i){Xb(r.x,t.x,e.x,i?i.originX:void 0),Xb(r.y,t.y,e.y,i?i.originY:void 0)}function Yb(r,t,e){r.min=e.min+t.min,r.max=r.min+Ge(t)}function w2(r,t,e){Yb(r.x,t.x,e.x),Yb(r.y,t.y,e.y)}function $b(r,t,e){r.min=t.min-e.min,r.max=r.min+Ge(t)}function To(r,t,e){$b(r.x,t.x,e.x),$b(r.y,t.y,e.y)}function On(r){return[r("x"),r("y")]}const X1=({current:r})=>r?r.ownerDocument.defaultView:null,Kb=(r,t)=>Math.abs(r-t);function T2(r,t){const e=Kb(r.x,t.x),i=Kb(r.y,t.y);return Math.sqrt(e**2+i**2)}class Y1{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Yd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=T2(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!w)return;const{point:S}=b,{timestamp:E}=De;this.history.push({...S,timestamp:E});const{onStart:T,onMove:M}=this.handlers;x||(T&&T(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Xd(x,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Yd(b.type==="pointercancel"?this.lastMoveEventInfo:Xd(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(b,T),S&&S(b,T)},!vp(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const u=Xo(t),d=Xd(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=De;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=e;g&&g(t,Yd(d,this.history)),this.removeListeners=Uo(So(this.contextWindow,"pointermove",this.handlePointerMove),So(this.contextWindow,"pointerup",this.handlePointerUp),So(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gn(this.updatePoint)}}function Xd(r,t){return t?{point:t(r.point)}:r}function Wb(r,t){return{x:r.x-t.x,y:r.y-t.y}}function Yd({point:r},t){return{point:r,delta:Wb(r,$1(t)),offset:Wb(r,E2(t)),velocity:C2(t,.1)}}function E2(r){return r[0]}function $1(r){return r[r.length-1]}function C2(r,t){if(r.length<2)return{x:0,y:0};let e=r.length-1,i=null;const a=$1(r);for(;e>=0&&(i=r[e],!(a.timestamp-i.timestamp>ri(t)));)e--;if(!i)return{x:0,y:0};const l=Pn(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function _2(r,{min:t,max:e},i){return t!==void 0&&r<t?r=i?re(t,r,i.min):Math.max(r,t):e!==void 0&&r>e&&(r=i?re(e,r,i.max):Math.min(r,e)),r}function Qb(r,t,e){return{min:t!==void 0?r.min+t:void 0,max:e!==void 0?r.max+e-(r.max-r.min):void 0}}function M2(r,{top:t,left:e,bottom:i,right:a}){return{x:Qb(r.x,e,a),y:Qb(r.y,t,i)}}function Zb(r,t){let e=t.min-r.min,i=t.max-r.max;return t.max-t.min<r.max-r.min&&([e,i]=[i,e]),{min:e,max:i}}function D2(r,t){return{x:Zb(r.x,t.x),y:Zb(r.y,t.y)}}function R2(r,t){let e=.5;const i=Ge(r),a=Ge(t);return a>i?e=tr(t.min,t.max-i,r.min):i>a&&(e=tr(r.min,r.max-a,t.min)),li(0,1,e)}function N2(r,t){const e={};return t.min!==void 0&&(e.min=t.min-r.min),t.max!==void 0&&(e.max=t.max-r.min),e}const Lf=.35;function L2(r=Lf){return r===!1?r=0:r===!0&&(r=Lf),{x:Jb(r,"left","right"),y:Jb(r,"top","bottom")}}function Jb(r,t,e){return{min:tv(r,t),max:tv(r,e)}}function tv(r,t){return typeof r=="number"?r:r[t]||0}const k2=new WeakMap;class O2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Xo(g).point)},c=(g,b)=>{const{drag:x,dragPropagation:w,onDragStart:S}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wC(x),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(T=>{let M=this.getAxisMotionValue(T).get()||0;if(oi.test(M)){const{projection:_}=this.visualElement;if(_&&_.layout){const N=_.layout.layoutBox[T];N&&(M=Ge(N)*(parseFloat(M)/100))}}this.originPoint[T]=M}),S&&It.postRender(()=>S(g,b)),Rf(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:S,onDrag:E}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:T}=b;if(w&&this.currentDirection===null){this.currentDirection=P2(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",b.point,T),this.updateAxis("y",b.point,T),this.visualElement.render(),E&&E(g,b)},d=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>On(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Y1(t,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:X1(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&It.postRender(()=>u(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!Sc(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=_2(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Ia(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=M2(i.layoutBox,t):this.constraints=!1,this.elastic=L2(e),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&On(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=N2(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ia(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=j_(i,a.root,this.visualElement.getTransformPagePoint());let c=D2(a.layout.layoutBox,l);if(e){const u=e(k_(c));this.hasMutatedConstraints=!!u,u&&(c=N1(u))}return c}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=On(p=>{if(!Sc(p,e,this.currentDirection))return;let g=d&&d[p]||{};c&&(g={min:0,max:0});const b=a?200:1e6,x=a?40:1e7,w={type:"inertia",velocity:i?t[p]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,w)});return Promise.all(f).then(u)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return Rf(this.visualElement,t),i.start(Dp(t,i,0,e,this.visualElement,!1))}stopAnimation(){On(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){On(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){On(e=>{const{drag:i}=this.getProps();if(!Sc(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[e];l.set(t[e]-re(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Ia(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};On(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const d=u.get();a[c]=R2({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),On(c=>{if(!Sc(c,t,null))return;const u=this.getAxisMotionValue(c),{min:d,max:f}=this.constraints[c];u.set(re(d,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;k2.set(this.visualElement,this);const t=this.visualElement.current,e=So(t,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ia(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),It.read(i);const c=ko(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(On(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{c(),e(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Lf,dragMomentum:u=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Sc(r,t,e){return(t===!0||t===r)&&(e===null||e===r)}function P2(r,t=10){let e=null;return Math.abs(r.y)>t?e="y":Math.abs(r.x)>t&&(e="x"),e}class j2 extends hs{constructor(t){super(t),this.removeGroupControls=an,this.removeListeners=an,this.controls=new O2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||an}unmount(){this.removeGroupControls(),this.removeListeners()}}const ev=r=>(t,e)=>{r&&It.postRender(()=>r(t,e))};class B2 extends hs{constructor(){super(...arguments),this.removePointerDownListener=an}onPointerDown(t){this.session=new Y1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:ev(t),onStart:ev(e),onMove:i,onEnd:(l,c)=>{delete this.session,a&&It.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=So(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nv(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const oo={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(bt.test(r))r=parseFloat(r);else return r;const e=nv(r,t.target.x),i=nv(r,t.target.y);return`${e}% ${i}%`}},z2={correct:(r,{treeScale:t,projectionDelta:e})=>{const i=r,a=cs.parse(r);if(a.length>5)return i;const l=cs.createTransformer(r),c=typeof a[0]!="number"?1:0,u=e.x.scale*t.x,d=e.y.scale*t.y;a[0+c]/=u,a[1+c]/=d;const f=re(u,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),l(a)}};let $d=!1;class F2 extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;o_(I2),l&&(e.group&&e.group.add(l),i&&i.register&&a&&i.register(l),$d&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,$d=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||It.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;$d=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function K1(r){const[t,e]=g1(),i=F.useContext(_o);return v.jsx(F2,{...r,layoutGroup:i,switchLayoutGroup:F.useContext(D1),isPresent:t,safeToRemove:e})}const I2={borderRadius:{...oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oo,borderTopRightRadius:oo,borderBottomLeftRadius:oo,borderBottomRightRadius:oo,boxShadow:z2};function U2(r,t,e){const i=we(r)?r:Hn(r);return i.start(Dp("",i,t,e)),i.animation}const V2=(r,t)=>r.depth-t.depth;class H2{constructor(){this.children=[],this.isDirty=!1}add(t){Zf(this.children,t),this.isDirty=!0}remove(t){Jf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(V2),this.isDirty=!1,this.children.forEach(t)}}function G2(r,t){const e=sn.now(),i=({timestamp:a})=>{const l=a-e;l>=t&&(Gn(i),r(l-t))};return It.setup(i,!0),()=>Gn(i)}const W1=["TopLeft","TopRight","BottomLeft","BottomRight"],q2=W1.length,iv=r=>typeof r=="string"?parseFloat(r):r,sv=r=>typeof r=="number"||bt.test(r);function X2(r,t,e,i,a,l){a?(r.opacity=re(0,e.opacity??1,Y2(i)),r.opacityExit=re(t.opacity??1,0,$2(i))):l&&(r.opacity=re(t.opacity??1,e.opacity??1,i));for(let c=0;c<q2;c++){const u=`border${W1[c]}Radius`;let d=av(t,u),f=av(e,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||sv(d)===sv(f)?(r[u]=Math.max(re(iv(d),iv(f),i),0),(oi.test(f)||oi.test(d))&&(r[u]+="%")):r[u]=f}(t.rotate||e.rotate)&&(r.rotate=re(t.rotate||0,e.rotate||0,i))}function av(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const Y2=Q1(0,.5,kx),$2=Q1(.5,.95,an);function Q1(r,t,e){return i=>i<r?0:i>t?1:e(tr(r,t,i))}function rv(r,t){r.min=t.min,r.max=t.max}function Rn(r,t){rv(r.x,t.x),rv(r.y,t.y)}function ov(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}function lv(r,t,e,i,a){return r-=t,r=Kc(r,1/e,i),a!==void 0&&(r=Kc(r,1/a,i)),r}function K2(r,t=0,e=1,i=.5,a,l=r,c=r){if(oi.test(t)&&(t=parseFloat(t),t=re(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=re(l.min,l.max,i);r===l&&(u-=t),r.min=lv(r.min,t,e,u,a),r.max=lv(r.max,t,e,u,a)}function cv(r,t,[e,i,a],l,c){K2(r,t[e],t[i],t[a],t.scale,l,c)}const W2=["x","scaleX","originX"],Q2=["y","scaleY","originY"];function uv(r,t,e,i){cv(r.x,t,W2,e?e.x:void 0,i?i.x:void 0),cv(r.y,t,Q2,e?e.y:void 0,i?i.y:void 0)}function hv(r){return r.translate===0&&r.scale===1}function Z1(r){return hv(r.x)&&hv(r.y)}function dv(r,t){return r.min===t.min&&r.max===t.max}function Z2(r,t){return dv(r.x,t.x)&&dv(r.y,t.y)}function fv(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function J1(r,t){return fv(r.x,t.x)&&fv(r.y,t.y)}function pv(r){return Ge(r.x)/Ge(r.y)}function mv(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}class J2{constructor(){this.members=[]}add(t){Zf(this.members,t),t.scheduleRender()}remove(t){if(Jf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tM(r,t,e){let i="";const a=r.x.translate/t.x,l=r.y.translate/t.y,c=e?.z||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:b,skewX:x,skewY:w}=e;f&&(i=`perspective(${f}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),b&&(i+=`rotateY(${b}deg) `),x&&(i+=`skewX(${x}deg) `),w&&(i+=`skewY(${w}deg) `)}const u=r.x.scale*t.x,d=r.y.scale*t.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const Kd=["","X","Y","Z"],eM=1e3;let nM=0;function Wd(r,t,e,i){const{latestValues:a}=t;a[r]&&(e[r]=a[r],t.setStaticValue(r,0),i&&(i[r]=0))}function tA(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const e=F1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=r.options;window.MotionCancelOptimisedAnimation(e,"transform",It,!(a||l))}const{parent:i}=r;i&&!i.hasCheckedOptimisedAppear&&tA(i)}function eA({attachResizeListener:r,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},u=t?.()){this.id=nM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aM),this.nodes.forEach(cM),this.nodes.forEach(uM),this.nodes.forEach(rM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new H2)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ep),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const d=this.eventHandlers.get(c);d&&d.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=xp(c)&&!zC(c),this.instance=c;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),r){let p,g=0;const b=()=>this.root.updateBlockedByResize=!1;It.read(()=>{g=window.innerWidth}),r(c,()=>{const x=window.innerWidth;x!==g&&(g=x,this.root.updateBlockedByResize=!0,p&&p(),p=G2(b,250),Vc.hasAnimatedSinceResize&&(Vc.hasAnimatedSinceResize=!1,this.nodes.forEach(bv)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||mM,{onLayoutAnimationStart:S,onLayoutAnimationComplete:E}=f.getProps(),T=!this.targetLayout||!J1(this.targetLayout,x),M=!g&&b;if(this.options.layoutRoot||this.resumeFrom||M||g&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...mp(w,"layout"),onPlay:S,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,M)}else g||bv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lM),this.nodes.forEach(iM),this.nodes.forEach(sM)):this.nodes.forEach(yv),this.clearAllSnapshots();const u=sn.now();De.delta=li(0,1e3/60,u-De.timestamp),De.timestamp=u,De.isProcessing=!0,zd.update.process(De),zd.preRender.process(De),zd.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oM),this.sharedNodes.forEach(dM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ge(this.snapshot.measuredBox.x)&&!Ge(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Z1(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(u||ks(this.latestValues)||p)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return c&&(d=this.removeTransform(d)),gM(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ge();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yM))){const{scroll:f}=this.root;f&&(Ua(u.x,f.offset.x),Ua(u.y,f.offset.y))}return u}removeElementScroll(c){const u=ge();if(Rn(u,c),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Rn(u,c),Ua(u.x,p.offset.x),Ua(u.y,p.offset.y))}return u}applyTransform(c,u=!1){const d=ge();Rn(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Va(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ks(p.latestValues)&&Va(d,p.latestValues)}return ks(this.latestValues)&&Va(d,this.latestValues),d}removeTransform(c){const u=ge();Rn(u,c);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!ks(f.latestValues))continue;Cf(f.latestValues)&&f.updateSnapshot();const p=ge(),g=f.measurePageBox();Rn(p,g),uv(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return ks(this.latestValues)&&uv(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),To(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),k1(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),To(this.relativeTargetOrigin,this.target,b.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Cf(this.parent.latestValues)||L1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===De.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Rn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;P_(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ge());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ov(this.prevProjectionDelta.x,this.projectionDelta.x),ov(this.prevProjectionDelta.y,this.projectionDelta.y)),wo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!mv(this.projectionDelta.x,this.prevProjectionDelta.x)||!mv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ha(),this.projectionDelta=Ha(),this.projectionDeltaWithTransform=Ha()}setAnimationOrigin(c,u=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},g=Ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=ge(),x=d?d.source:void 0,w=this.layout?this.layout.source:void 0,S=x!==w,E=this.getStack(),T=!E||E.members.length<=1,M=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(pM));this.animationProgress=0;let _;this.mixTargetDelta=N=>{const D=N/1e3;vv(g.x,c.x,D),vv(g.y,c.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(To(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fM(this.relativeTarget,this.relativeTargetOrigin,b,D),_&&Z2(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=ge()),Rn(_,this.relativeTarget)),S&&(this.animationValues=p,X2(p,f,this.latestValues,D,M,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Gn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{Vc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hn(0)),this.currentAnimation=U2(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:p}=c;if(!(!u||!d||!f)){if(this!==c&&this.layout&&f&&nA(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||ge();const g=Ge(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+g;const b=Ge(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+b}Rn(u,d),Va(u,p),wo(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new J2),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&Wd("z",c,f,this.animationValues);for(let p=0;p<Kd.length;p++)Wd(`rotate${Kd[p]}`,c,f,this.animationValues),Wd(`skew${Kd[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Uc(u?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Uc(u?.pointerEvents)||""),this.hasProjected&&!ks(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=tM(this.projectionDeltaWithTransform,this.treeScale,p);d&&(g=d(p,g)),c.transform=g;const{x:b,y:x}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Lo){if(p[w]===void 0)continue;const{correct:S,applyTo:E,isCSSVariable:T}=Lo[w],M=g==="none"?p[w]:S(p[w],f);if(E){const _=E.length;for(let N=0;N<_;N++)c[E[N]]=M}else T?this.options.visualElement.renderState.vars[w]=M:c[w]=M}this.options.layoutId&&(c.pointerEvents=f===this?Uc(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(gv),this.root.sharedNodes.clear()}}}function iM(r){r.updateLayout()}function sM(r){const t=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=r.layout,{animationType:a}=r.options,l=t.source!==r.layout.source;a==="size"?On(p=>{const g=l?t.measuredBox[p]:t.layoutBox[p],b=Ge(g);g.min=e[p].min,g.max=g.min+b}):nA(a,t.layoutBox,e)&&On(p=>{const g=l?t.measuredBox[p]:t.layoutBox[p],b=Ge(e[p]);g.max=g.min+b,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[p].max=r.relativeTarget[p].min+b)});const c=Ha();wo(c,e,t.layoutBox);const u=Ha();l?wo(u,r.applyTransform(i,!0),t.measuredBox):wo(u,e,t.layoutBox);const d=!Z1(c);let f=!1;if(!r.resumeFrom){const p=r.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:b}=p;if(g&&b){const x=ge();To(x,t.layoutBox,g.layoutBox);const w=ge();To(w,e,b.layoutBox),J1(x,w)||(f=!0),p.options.layoutRoot&&(r.relativeTarget=w,r.relativeTargetOrigin=x,r.relativeParent=p)}}}r.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(r.isLead()){const{onExitComplete:e}=r.options;e&&e()}r.options.transition=void 0}function aM(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function rM(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function oM(r){r.clearSnapshot()}function gv(r){r.clearMeasurements()}function yv(r){r.isLayoutDirty=!1}function lM(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function bv(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function cM(r){r.resolveTargetDelta()}function uM(r){r.calcProjection()}function hM(r){r.resetSkewAndRotation()}function dM(r){r.removeLeadSnapshot()}function vv(r,t,e){r.translate=re(t.translate,0,e),r.scale=re(t.scale,1,e),r.origin=t.origin,r.originPoint=t.originPoint}function xv(r,t,e,i){r.min=re(t.min,e.min,i),r.max=re(t.max,e.max,i)}function fM(r,t,e,i){xv(r.x,t.x,e.x,i),xv(r.y,t.y,e.y,i)}function pM(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const mM={duration:.45,ease:[.4,0,.1,1]},Av=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Sv=Av("applewebkit/")&&!Av("chrome/")?Math.round:an;function wv(r){r.min=Sv(r.min),r.max=Sv(r.max)}function gM(r){wv(r.x),wv(r.y)}function nA(r,t,e){return r==="position"||r==="preserve-aspect"&&!S2(pv(t),pv(e),.2)}function yM(r){return r!==r.root&&r.scroll?.wasRoot}const bM=eA({attachResizeListener:(r,t)=>ko(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qd={current:void 0},iA=eA({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Qd.current){const r=new bM({});r.mount(window),r.setOptions({layoutScroll:!0}),Qd.current=r}return Qd.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),vM={pan:{Feature:B2},drag:{Feature:j2,ProjectionNode:iA,MeasureLayout:K1}};function Tv(r,t,e){const{props:i}=r;r.animationState&&i.whileHover&&r.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=i[a];l&&It.postRender(()=>l(t,Xo(t)))}class xM extends hs{mount(){const{current:t}=this.node;t&&(this.unmount=TC(t,(e,i)=>(Tv(this.node,i,"Start"),a=>Tv(this.node,a,"End"))))}unmount(){}}class AM extends hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uo(ko(this.node.current,"focus",()=>this.onFocus()),ko(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ev(r,t,e){const{props:i}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&i.whileTap&&r.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=i[a];l&&It.postRender(()=>l(t,Xo(t)))}class SM extends hs{mount(){const{current:t}=this.node;t&&(this.unmount=MC(t,(e,i)=>(Ev(this.node,i,"Start"),(a,{success:l})=>Ev(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kf=new WeakMap,Zd=new WeakMap,wM=r=>{const t=kf.get(r.target);t&&t(r)},TM=r=>{r.forEach(wM)};function EM({root:r,...t}){const e=r||document;Zd.has(e)||Zd.set(e,{});const i=Zd.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(TM,{root:r,...t})),i[a]}function CM(r,t,e){const i=EM(t);return kf.set(r,e),i.observe(r),()=>{kf.delete(r),i.unobserve(r)}}const _M={some:0,all:1};class MM extends hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:_M[a]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),b=f?p:g;b&&b(d)};return CM(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(DM(t,e))&&this.startObserver()}unmount(){}}function DM({viewport:r={}},{viewport:t={}}={}){return e=>r[e]!==t[e]}const RM={inView:{Feature:MM},tap:{Feature:SM},focus:{Feature:AM},hover:{Feature:xM}},NM={layout:{ProjectionNode:iA,MeasureLayout:K1}},LM={...g2,...RM,...vM,...NM},wt=L_(LM,q_),kM=50,Cv=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),OM=()=>({time:0,x:Cv(),y:Cv()}),PM={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function _v(r,t,e,i){const a=e[t],{length:l,position:c}=PM[t],u=a.current,d=e.time;a.current=r[`scroll${c}`],a.scrollLength=r[`scroll${l}`]-r[`client${l}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=tr(0,a.scrollLength,a.current);const f=i-d;a.velocity=f>kM?0:np(a.current-u,f)}function jM(r,t,e){_v(r,"x",t,e),_v(r,"y",t,e),t.time=e}function BM(r,t){const e={x:0,y:0};let i=r;for(;i&&i!==t;)if(yp(i))e.x+=i.offsetLeft,e.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const a=i.getBoundingClientRect();i=i.parentElement;const l=i.getBoundingClientRect();e.x+=a.left-l.left,e.y+=a.top-l.top}else if(i instanceof SVGGraphicsElement){const{x:a,y:l}=i.getBBox();e.x+=a,e.y+=l;let c=null,u=i.parentNode;for(;!c;)u.tagName==="svg"&&(c=u),u=i.parentNode;i=c}else break;return e}const Of={start:0,center:.5,end:1};function Mv(r,t,e=0){let i=0;if(r in Of&&(r=Of[r]),typeof r=="string"){const a=parseFloat(r);r.endsWith("px")?i=a:r.endsWith("%")?r=a/100:r.endsWith("vw")?i=a/100*document.documentElement.clientWidth:r.endsWith("vh")?i=a/100*document.documentElement.clientHeight:r=a}return typeof r=="number"&&(i=t*r),e+i}const zM=[0,0];function FM(r,t,e,i){let a=Array.isArray(r)?r:zM,l=0,c=0;return typeof r=="number"?a=[r,r]:typeof r=="string"&&(r=r.trim(),r.includes(" ")?a=r.split(" "):a=[r,Of[r]?r:"0"]),l=Mv(a[0],e,i),c=Mv(a[1],t),l-c}const IM={All:[[0,0],[1,1]]},UM={x:0,y:0};function VM(r){return"getBBox"in r&&r.tagName!=="svg"?r.getBBox():{width:r.clientWidth,height:r.clientHeight}}function HM(r,t,e){const{offset:i=IM.All}=e,{target:a=r,axis:l="y"}=e,c=l==="y"?"height":"width",u=a!==r?BM(a,r):UM,d=a===r?{width:r.scrollWidth,height:r.scrollHeight}:VM(a),f={width:r.clientWidth,height:r.clientHeight};t[l].offset.length=0;let p=!t[l].interpolate;const g=i.length;for(let b=0;b<g;b++){const x=FM(i[b],f[c],d[c],u[l]);!p&&x!==t[l].interpolatorOffsets[b]&&(p=!0),t[l].offset[b]=x}p&&(t[l].interpolate=hp(t[l].offset,$x(i),{clamp:!1}),t[l].interpolatorOffsets=[...t[l].offset]),t[l].progress=li(0,1,t[l].interpolate(t[l].current))}function GM(r,t=r,e){if(e.x.targetOffset=0,e.y.targetOffset=0,t!==r){let i=t;for(;i&&i!==r;)e.x.targetOffset+=i.offsetLeft,e.y.targetOffset+=i.offsetTop,i=i.offsetParent}e.x.targetLength=t===r?t.scrollWidth:t.clientWidth,e.y.targetLength=t===r?t.scrollHeight:t.clientHeight,e.x.containerLength=r.clientWidth,e.y.containerLength=r.clientHeight}function qM(r,t,e,i={}){return{measure:a=>{GM(r,i.target,e),jM(r,e,a),(i.offset||i.target)&&HM(r,e,i)},notify:()=>t(e)}}const lo=new WeakMap,Dv=new WeakMap,Jd=new WeakMap,Rv=r=>r===document.scrollingElement?window:r;function sA(r,{container:t=document.scrollingElement,...e}={}){if(!t)return an;let i=Jd.get(t);i||(i=new Set,Jd.set(t,i));const a=OM(),l=qM(t,r,a,e);if(i.add(l),!lo.has(t)){const u=()=>{for(const g of i)g.measure(De.timestamp);It.preUpdate(d)},d=()=>{for(const g of i)g.notify()},f=()=>It.read(u);lo.set(t,f);const p=Rv(t);window.addEventListener("resize",f,{passive:!0}),t!==document.documentElement&&Dv.set(t,BC(t,f)),p.addEventListener("scroll",f,{passive:!0}),f()}const c=lo.get(t);return It.read(c,!1,!0),()=>{Gn(c);const u=Jd.get(t);if(!u||(u.delete(l),u.size))return;const d=lo.get(t);lo.delete(t),d&&(Rv(t).removeEventListener("scroll",d),Dv.get(t)?.(),window.removeEventListener("resize",d))}}const Nv=new Map;function XM(r){const t={value:0},e=sA(i=>{t.value=i[r.axis].progress*100},r);return{currentTime:t,cancel:e}}function aA({source:r,container:t,...e}){const{axis:i}=e;r&&(t=r);const a=Nv.get(t)??new Map;Nv.set(t,a);const l=e.target??"self",c=a.get(l)??{},u=i+(e.offset??[]).join(",");return c[u]||(c[u]=!e.target&&Zx()?new ScrollTimeline({source:t,axis:i}):XM({container:t,...e})),c[u]}function YM(r,t){const e=aA(t);return r.attachTimeline({timeline:t.target?void 0:e,observe:i=>(i.pause(),m1(a=>{i.time=i.iterationDuration*a},e))})}function $M(r){return r.length===2}function KM(r,t){return $M(r)?sA(e=>{r(e[t.axis].progress,e)},t):m1(r,aA(t))}function WM(r,{axis:t="y",container:e=document.scrollingElement,...i}={}){if(!e)return an;const a={axis:t,container:e,...i};return typeof r=="function"?KM(r,a):YM(r,a)}const QM=()=>({scrollX:Hn(0),scrollY:Hn(0),scrollXProgress:Hn(0),scrollYProgress:Hn(0)}),wc=r=>r?!r.current:!1;function ZM({container:r,target:t,...e}={}){const i=rr(QM),a=F.useRef(null),l=F.useRef(!1),c=F.useCallback(()=>(a.current=WM((u,{x:d,y:f})=>{i.scrollX.set(d.current),i.scrollXProgress.set(d.progress),i.scrollY.set(f.current),i.scrollYProgress.set(f.progress)},{...e,container:r?.current||void 0,target:t?.current||void 0}),()=>{a.current?.()}),[r,t,JSON.stringify(e.offset)]);return Io(()=>{if(l.current=!1,wc(r)||wc(t)){l.current=!0;return}else return c()},[c]),F.useEffect(()=>{if(l.current)return Mo(!wc(r)),Mo(!wc(t)),c()},[c]),i}function nr(r){const t=rr(()=>Hn(r)),{isStatic:e}=F.useContext(Go);if(e){const[,i]=F.useState(r);F.useEffect(()=>t.on("change",i),[])}return t}function Rp(r,t){const e=nr(t()),i=()=>e.set(t());return i(),Io(()=>{const a=()=>It.preRender(i,!1,!0),l=r.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),Gn(i)}}),e}function Lv(r,...t){const e=r.length;function i(){let a="";for(let l=0;l<e;l++){a+=r[l];const c=t[l];c&&(a+=we(c)?c.get():c)}return a}return Rp(t.filter(we),i)}function JM(r){Ao.current=[],r();const t=Rp(Ao.current,r);return Ao.current=void 0,t}function tD(r,t,e,i){if(typeof r=="function")return JM(r);const a=FC(t,e,i);return Array.isArray(r)?kv(r,a):kv([r],([l])=>a(l))}function kv(r,t){const e=rr(()=>[]);return Rp(r,()=>{e.length=0;const i=r.length;for(let a=0;a<i;a++)e[a]=r[a].get();return t(e)})}function Pf(r,t={}){const{isStatic:e}=F.useContext(Go),i=()=>we(r)?r.get():r;if(e)return tD(i);const a=nr(i());return F.useInsertionEffect(()=>IC(a,r,t),[a,JSON.stringify(t)]),a}const eD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),Ov=r=>{const t=nD(r);return t.charAt(0).toUpperCase()+t.slice(1)},rA=(...r)=>r.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),iD=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var sD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aD=F.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...u},d)=>F.createElement("svg",{ref:d,...sD,width:t,height:t,stroke:r,strokeWidth:i?Number(e)*24/Number(t):e,className:rA("lucide",a),...!l&&!iD(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,p])=>F.createElement(f,p)),...Array.isArray(l)?l:[l]]));const Lt=(r,t)=>{const e=F.forwardRef(({className:i,...a},l)=>F.createElement(aD,{ref:l,iconNode:t,className:rA(`lucide-${eD(Ov(r))}`,`lucide-${r}`,i),...a}));return e.displayName=Ov(r),e};const rD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],oA=Lt("activity",rD);const oD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],lD=Lt("arrow-left",oD);const cD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Np=Lt("arrow-right",cD);const uD=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],hD=Lt("brain",uD);const dD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],lA=Lt("briefcase",dD);const fD=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],pD=Lt("calendar-clock",fD);const mD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gD=Lt("chevron-down",mD);const yD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ga=Lt("circle-check-big",yD);const bD=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Pv=Lt("code",bD);const vD=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],xD=Lt("cpu",vD);const AD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],SD=Lt("disc",AD);const wD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],TD=Lt("external-link",wD);const ED=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CD=Lt("eye",ED);const _D=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],MD=Lt("gamepad-2",_D);const DD=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],RD=Lt("graduation-cap",DD);const ND=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],LD=Lt("hammer",ND);const kD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],OD=Lt("house",kD);const PD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Lp=Lt("layers",PD);const jD=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],BD=Lt("leaf",jD);const zD=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],kp=Lt("lightbulb",zD);const FD=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],jv=Lt("linkedin",FD);const ID=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Bv=Lt("mail",ID);const UD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],VD=Lt("maximize-2",UD);const HD=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],GD=Lt("monitor-play",HD);const qD=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],XD=Lt("network",qD);const YD=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],jf=Lt("pen-tool",YD);const $D=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],zv=Lt("puzzle",$D);const KD=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],WD=Lt("quote",KD);const QD=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],ZD=Lt("recycle",QD);const JD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tR=Lt("search",JD);const eR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cA=Lt("triangle-alert",eR);const nR=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],iR=Lt("truck",nR);const sR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uA=Lt("user",sR);const aR=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],rR=Lt("volume-2",aR);const oR=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],hA=Lt("wrench",oR);const lR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Op=Lt("x",lR),He=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Bf=[.001,0,0,.001,0,0],tf=1.35,gn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ai={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Oo="pdfjs_internal_editor_",xt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},dA={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},je={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Eo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},pe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Pa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Yo={ERRORS:0,WARNINGS:1,INFOS:5},ir={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Tc={moveTo:0,lineTo:1,curveTo:2,closePath:3},fA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ru=Yo.WARNINGS;function cR(r){Number.isInteger(r)&&(ru=r)}function uR(){return ru}function ou(r){ru>=Yo.INFOS&&console.info(`Info: ${r}`)}function At(r){ru>=Yo.WARNINGS&&console.warn(`Warning: ${r}`)}function Wt(r){throw new Error(r)}function Ot(r,t){r||Wt(t)}function hR(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Pp(r,t=null,e=null){if(!r)return null;if(e&&typeof r=="string"&&(e.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),e.tryConvertEncoding))try{r=gR(r)}catch{}const i=t?URL.parse(r,t):URL.parse(r);return hR(i)?i:null}function jp(r,t,e=!1){const i=URL.parse(r);return i?(i.hash=t,i.href):e&&Pp(r,"http://example.com")?r.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Et(r,t,e,i=!1){return Object.defineProperty(r,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Xs=(function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class Fv extends Xs{constructor(t,e){super(t,"PasswordException"),this.code=e}}class ef extends Xs{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Wc extends Xs{constructor(t){super(t,"InvalidPDFException")}}class Po extends Xs{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class dR extends Xs{constructor(t){super(t,"FormatError")}}class Ri extends Xs{constructor(t){super(t,"AbortException")}}function pA(r){(typeof r!="object"||r?.length===void 0)&&Wt("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const i=[];for(let a=0;a<t;a+=e){const l=Math.min(a+e,t),c=r.subarray(a,l);i.push(String.fromCharCode.apply(null,c))}return i.join("")}function $o(r){typeof r!="string"&&Wt("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=r.charCodeAt(i)&255;return e}function fR(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function pR(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function mR(){try{return new Function(""),!0}catch{return!1}}class Re{static get isLittleEndian(){return Et(this,"isLittleEndian",pR())}static get isEvalSupported(){return Et(this,"isEvalSupported",mR())}static get isOffscreenCanvasSupported(){return Et(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Et(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Et(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Et(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const nf=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class nt{static makeHexColor(t,e,i){return`#${nf[t]}${nf[e]}${nf[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const a=t[i],l=t[i+1];t[i]=a*e[0]+l*e[2]+e[4],t[i+1]=a*e[1]+l*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const a=e[0],l=e[1],c=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const g=t[i+p],b=t[i+p+1];t[i+p]=g*a+b*c+d,t[i+p+1]=g*l+b*u+f}}static applyInverseTransform(t,e){const i=t[0],a=t[1],l=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/l,t[1]=(-i*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/l}static axialAlignedBoundingBox(t,e,i){const a=e[0],l=e[1],c=e[2],u=e[3],d=e[4],f=e[5],p=t[0],g=t[1],b=t[2],x=t[3];let w=a*p+d,S=w,E=a*b+d,T=E,M=u*g+f,_=M,N=u*x+f,D=N;if(l!==0||c!==0){const O=l*p,L=l*b,z=c*g,X=c*x;w+=z,T+=z,E+=X,S+=X,M+=O,D+=O,N+=L,_+=L}i[0]=Math.min(i[0],w,E,S,T),i[1]=Math.min(i[1],M,N,_,D),i[2]=Math.max(i[2],w,E,S,T),i[3]=Math.max(i[3],M,N,_,D)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],a=t[1],l=t[2],c=t[3],u=i**2+a**2,d=i*l+a*c,f=l**2+c**2,p=(u+f)/2,g=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+g||1),e[1]=Math.sqrt(p-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[i,l,a,c]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,a,l){l[0]=Math.min(l[0],t,i),l[1]=Math.min(l[1],e,a),l[2]=Math.max(l[2],t,i),l[3]=Math.max(l[3],e,a)}static#t(t,e,i,a,l,c,u,d,f,p){if(f<=0||f>=1)return;const g=1-f,b=f*f,x=b*f,w=g*(g*(g*t+3*f*e)+3*b*i)+x*a,S=g*(g*(g*l+3*f*c)+3*b*u)+x*d;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],S),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],S)}static#e(t,e,i,a,l,c,u,d,f,p,g,b){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,i,a,l,c,u,d,-g/p,b);return}const x=p**2-4*g*f;if(x<0)return;const w=Math.sqrt(x),S=2*f;this.#t(t,e,i,a,l,c,u,d,(-p+w)/S,b),this.#t(t,e,i,a,l,c,u,d,(-p-w)/S,b)}static bezierBoundingBox(t,e,i,a,l,c,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,i,l,u,e,a,c,d,3*(-t+3*(i-l)+u),6*(t-2*i+l),3*(i-t),f),this.#e(t,i,l,u,e,a,c,d,3*(-e+3*(a-c)+d),6*(e-2*a+c),3*(a-e),f)}}function gR(r){return decodeURIComponent(escape(r))}let sf=null,Iv=null;function mA(r){return sf||(sf=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Iv=new Map([["","t"]])),r.replaceAll(sf,(t,e,i)=>e?e.normalize("NFKC"):Iv.get(i))}function Bp(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),pA(r)}const zp="pdfjs_internal_id_";function yR(r,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,a,...l]=e;if(!r(i)&&!Number.isInteger(i)||!t(a))return!1;const c=l.length;let u=!0;switch(a.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const d of l)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function Fe(r,t,e){return Math.min(Math.max(r,t),e)}function gA(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(pA(r))}function bR(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):$o(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...t){return new Promise(e=>{e(r(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((t,e)=>t+e,0)});class jo{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(l){if(!l)return;let c=null;const u=l.name;if(u==="#text")c=l.value;else if(jo.shouldBuildText(u))l?.attributes?.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const d of l.children)a(d)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Fp{static setupStorage(t,e,i,a,l){const c=a.getValue(e,{value:null});switch(i.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(c.value===i.attributes.xfaOn?t.setAttribute("checked",!0):c.value===i.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",u=>{a.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const u of i.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;a.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:l}){const{attributes:c}=e,u=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${a}`);for(const[d,f]of Object.entries(c))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&l.addLinkAttributes(t,c.href,c.newWindow),i&&c.dataId&&this.setupStorage(t,c.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,l=t.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:l,linkService:i});const u=l!=="richText",d=t.div;if(d.append(c),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=g}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(a.children.length===0){if(a.value){const g=document.createTextNode(a.value);c.append(g),u&&jo.shouldBuildText(a.name)&&f.push(g)}return{textDivs:f}}const p=[[a,-1,c]];for(;p.length>0;){const[g,b,x]=p.at(-1);if(b+1===g.children.length){p.pop();continue}const w=g.children[++p.at(-1)[1]];if(w===null)continue;const{name:S}=w;if(S==="#text"){const T=document.createTextNode(w.value);f.push(T),x.append(T);continue}const E=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,S):document.createElement(S);if(x.append(E),w.attributes&&this.setAttributes({html:E,element:w,storage:e,intent:l,linkService:i}),w.children?.length>0)p.push([w,-1,E]);else if(w.value){const T=document.createTextNode(w.value);u&&jo.shouldBuildText(S)&&f.push(T),E.append(T)}}for(const g of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const _i="http://www.w3.org/2000/svg";class Hs{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function ur(r,t="text"){if(go(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class Ko{constructor({viewBox:t,userUnit:e,scale:i,rotation:a,offsetX:l=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=a,this.offsetX=l,this.offsetY=c,i*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,g,b,x;switch(a%=360,a<0&&(a+=360),a){case 180:p=-1,g=0,b=0,x=1;break;case 90:p=0,g=1,b=1,x=0;break;case 270:p=0,g=-1,b=-1,x=0;break;case 0:p=1,g=0,b=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,x=-x);let w,S,E,T;p===0?(w=Math.abs(f-t[1])*i+l,S=Math.abs(d-t[0])*i+c,E=(t[3]-t[1])*i,T=(t[2]-t[0])*i):(w=Math.abs(d-t[0])*i+l,S=Math.abs(f-t[1])*i+c,E=(t[2]-t[0])*i,T=(t[3]-t[1])*i),this.transform=[p*i,g*i,b*i,x*i,w-p*i*d-b*i*f,S-g*i*d-x*i*f],this.width=E,this.height=T}get rawDims(){const t=this.viewBox;return Et(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:l=!1}={}){return new Ko({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:l})}convertToViewportPoint(t,e){const i=[t,e];return nt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];nt.applyTransform(e,this.transform);const i=[t[2],t[3]];return nt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return nt.applyInverseTransform(i,this.transform),i}}class lu extends Xs{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Wo(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function cu(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function yA(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function bA(r,t="document.pdf"){if(typeof r!="string")return t;if(Wo(r))return At('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(r);if(!i)return t;const a=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},l=/\.pdf$/i,c=i.pathname.split("/").at(-1);if(l.test(c))return a(c);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const f of u)if(l.test(f))return a(f);const d=Array.from(i.searchParams.keys()).reverse();for(const f of d)if(l.test(f))return a(f)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return a(d[0])}return t}class Uv{started=Object.create(null);times=[];time(t){t in this.started&&At(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||At(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:l}of this.times)t.push(`${i.padEnd(e)} ${l-a}ms
`);return t.join("")}}function go(r,t){const e=t?URL.parse(r,t):URL.parse(r);return e?.protocol==="http:"||e?.protocol==="https:"}function vn(r){r.preventDefault()}function ae(r){r.preventDefault(),r.stopPropagation()}function vR(r){console.log("Deprecated API usage: "+r)}class Qc{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(c+=p,u+=g):f==="+"&&(c-=p,u-=g),new Date(Date.UTC(i,a,l,c,u,d))}}function vA(r,{scale:t=1,rotation:e=0}){const{width:i,height:a}=r.attributes.style,l=[0,0,parseInt(i),parseInt(a)];return new Ko({viewBox:l,userUnit:1,scale:t,rotation:e})}function hr(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(At(`Not a valid color format: "${r}"`),[0,0,0])}function xR(r){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of r.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;r.set(e,hr(i))}t.remove()}function se(r){const{a:t,b:e,c:i,d:a,e:l,f:c}=r.getTransform();return[t,e,i,a,l,c]}function Jn(r){const{a:t,b:e,c:i,d:a,e:l,f:c}=r.getTransform().invertSelf();return[t,e,i,a,l,c]}function us(r,t,e=!1,i=!0){if(t instanceof Ko){const{pageWidth:a,pageHeight:l}=t.rawDims,{style:c}=r,u=Re.isCSSRoundSupported,d=`var(--total-scale-factor) * ${a}px`,f=`var(--total-scale-factor) * ${l}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,g=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(c.width=p,c.height=g):(c.width=g,c.height=p)}i&&r.setAttribute("data-main-rotation",t.rotation)}class qn{constructor(){const{pixelRatio:t}=qn;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,a,l=-1){let c=1/0,u=1/0,d=1/0;i=qn.capPixels(i,l),i>0&&(c=Math.sqrt(i/(t*e))),a!==-1&&(u=a/t,d=a/e);const f=Math.min(c,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const Zc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class AR{static get isDarkMode(){return Et(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class xA{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),Et(this,"commentForegroundColor",hr(i))}}function AA(r,t,e,i){i=Math.min(Math.max(i??1,0),1);const a=255*(1-i);return r=Math.round(r*i+a),t=Math.round(t*i+a),e=Math.round(e*i+a),[r,t,e]}function Vv(r,t){const e=r[0]/255,i=r[1]/255,a=r[2]/255,l=Math.max(e,i,a),c=Math.min(e,i,a),u=(l+c)/2;if(l===c)t[0]=t[1]=0;else{const d=l-c;switch(t[1]=u<.5?d/(l+c):d/(2-l-c),l){case e:t[0]=((i-a)/d+(i<a?6:0))*60;break;case i:t[0]=((a-e)/d+2)*60;break;case a:t[0]=((e-i)/d+4)*60;break}}t[2]=u}function zf(r,t){const e=r[0],i=r[1],a=r[2],l=(1-Math.abs(2*a-1))*i,c=l*(1-Math.abs(e/60%2-1)),u=a-l/2;switch(Math.floor(e/60)){case 0:t[0]=l+u,t[1]=c+u,t[2]=u;break;case 1:t[0]=c+u,t[1]=l+u,t[2]=u;break;case 2:t[0]=u,t[1]=l+u,t[2]=c+u;break;case 3:t[0]=u,t[1]=c+u,t[2]=l+u;break;case 4:t[0]=c+u,t[1]=u,t[2]=l+u;break;case 5:case 6:t[0]=l+u,t[1]=u,t[2]=c+u;break}}function Hv(r){return r<=.03928?r/12.92:((r+.055)/1.055)**2.4}function Gv(r,t,e){zf(r,e),e.map(Hv);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];zf(t,e),e.map(Hv);const a=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>a?(i+.05)/(a+.05):(a+.05)/(i+.05)}const qv=new Map;function SA(r,t){const e=r[0]+r[1]*256+r[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=qv.get(e);if(i)return i;const a=new Float32Array(9),l=a.subarray(0,3),c=a.subarray(3,6);Vv(r,c);const u=a.subarray(6,9);Vv(t,u);const d=u[2]<.5,f=d?12:4.5;if(c[2]=d?Math.sqrt(c[2]):1-Math.sqrt(1-c[2]),Gv(c,u,l)<f){let p,g;d?(p=c[2],g=1):(p=0,g=c[2]);const b=.005;for(;g-p>b;){const x=c[2]=(p+g)/2;d===Gv(c,u,l)<f?p=x:g=x}c[2]=d?g:p}return zf(c,l),i=nt.makeHexColor(Math.round(l[0]*255),Math.round(l[1]*255),Math.round(l[2]*255)),qv.set(e,i),i}function Ip({html:r,dir:t,className:e},i){const a=document.createDocumentFragment();if(typeof r=="string"){const l=document.createElement("p");l.dir=t||"auto";const c=r.split(/(?:\r\n?|\n)/);for(let u=0,d=c.length;u<d;++u){const f=c[u];l.append(document.createTextNode(f)),u<d-1&&l.append(document.createElement("br"))}a.append(l)}else Fp.render({xfaHtml:r,div:a,intent:"richText"});a.firstChild.classList.add("richText",e),i.append(a)}class Co{#t=null;#e=null;#i;#n=null;#r=null;#s=null;#a=null;#o=null;static#c=null;constructor(t){this.#i=t,Co.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",vn,{signal:e}),t.addEventListener("pointerdown",Co.#l,{signal:e}));const i=this.#n=document.createElement("div");i.className="buttons",t.append(i);const a=this.#i.toolbarPosition;if(a){const{style:l}=t,c=this.#i._uiManager.direction==="ltr"?1-a[0]:a[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,ae(t)}#h(t){this.#i._focusEventsAllowed=!0,ae(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",vn,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#r?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",Co.#c[t]),this.#f(i)&&i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),this.#n.append(i)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#r=t}addComment(t,e=null){if(this.#s)return;const i=t.renderForToolbar();if(!i)return;this.#f(i);const a=this.#a=this.#g;e?(this.#n.insertBefore(i,e),this.#n.insertBefore(a,e)):this.#n.append(i,a),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){switch(t){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#a?.remove(),this.#a=null;break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,i){const a=this.#n.querySelector(i);a&&t==="comment"&&this.addComment(e,a)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class SR{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",vn,{signal:e});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#r(t,e){let i=0,a=0;for(const l of t){const c=l.y+l.height;if(c<i)continue;const u=l.x+(e?l.width:0);if(c>i){a=u,i=c;continue}e?u>a&&(a=u):u<a&&(a=u)}return[e?1-a:a,i]}show(t,e,i){const[a,l]=this.#r(e,i),{style:c}=this.#e||=this.#n();t.append(this.#e),c.insetInlineEnd=`${100*a}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,i,a){const l=document.createElement("button");l.classList.add("basic",t),l.tabIndex=0,l.setAttribute("data-l10n-id",e);const c=document.createElement("span");l.append(c),c.className="visuallyHidden",c.setAttribute("data-l10n-id",i);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(l.addEventListener("contextmenu",vn,{signal:u}),l.addEventListener("click",a,{signal:u})),this.#t.append(l)}}function wA(r,t,e){for(const i of e)t.addEventListener(i,r[i].bind(r))}class wR{#t=0;get id(){return`${Oo}${this.#t++}`}}class Up{#t=Bp();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const l=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Et(this,"_isSVGFittingCanvas",l)}async#n(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let a;if(typeof e=="string"?(i.url=e,a=await ur(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const l=Up._isSVGFittingCanvas,c=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},c.onload=async()=>{const g=i.svgUrl=c.result;u.src=await l?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=c.onerror=p});c.readAsDataURL(a),await d}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){At(a),i=null}return this.#i.set(t,i),i&&this.#i.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:a,type:l}=t;return this.#n(`${e}_${i}_${a}_${l}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const i=await e;return this.#n(t,i)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i?.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,i),this.#i.set(i.id,i),i}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=a.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class TR{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:i,mustExec:a,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(a&&t(),this.#e)return;const d={cmd:t,undo:e,post:i,type:l};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(c&&this.#t[this.#n].type===l){u&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Qo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Re.platform;for(const[i,a,l={}]of t)for(const c of i){const u=c.startsWith("mac+");e&&u?(this.callbacks.set(c.slice(4),{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!u&&(this.callbacks.set(c,{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:a,options:{bubbles:l=!1,args:c=[],checker:u=null}}=i;u&&!u(t,e)||(a.bind(t,...c,e)(),l||ae(e))}}class Vp{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return xR(t),Et(this,"_colors",t)}convert(t){const e=hr(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((l,c)=>l===e[c]))return Vp._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?nt.makeHexColor(...e):t}}class Ni{#t=new AbortController;#e=null;#i=null;#n=new Map;#r=new Map;#s=null;#a=null;#o=null;#c=new TR;#l=null;#d=null;#h=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#E=null;#w=null;#x=null;#_=null;#S=!1;#T=null;#R=new wR;#M=!1;#D=!1;#B=!1;#L=null;#O=null;#z=null;#P=null;#G=null;#C=xt.NONE;#A=new Set;#k=null;#F=null;#U=null;#Y=null;#X=null;#$={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#j=null;#q=null;#Z=null;#J=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Ni.prototype,e=c=>c.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),i=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},a=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Et(this,"_keyboardManager",new Qo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#q.contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}constructor(t,e,i,a,l,c,u,d,f,p,g,b,x,w,S,E){const T=this._signal=this.#t.signal;this.#q=t,this.#Z=e,this.#J=i,this.#s=a,this.#l=l,this.#F=c,this.#X=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:T}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:T}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:T}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:T}),u._on("setpreference",this.onSetPreference.bind(this),{signal:T}),u._on("switchannotationeditorparams",M=>this.updateParams(M.type,M.value),{signal:T}),window.addEventListener("pointerdown",()=>{this.#D=!0},{capture:!0,signal:T}),window.addEventListener("pointerup",()=>{this.#D=!1},{capture:!0,signal:T}),this.#lt(),this.#dt(),this.#et(),this.#a=d.annotationStorage,this.#E=d.filterFactory,this.#U=f,this.#_=p||null,this.#y=g,this.#v=b,this.#b=x,this.#G=w||null,this.viewParameters={realScale:Hs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=E!==!1,l?.setSidebarUiManager(this)}destroy(){this.#I?.resolve(),this.#I=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#r.values())t.destroy();this.#r.clear(),this.#n.clear(),this.#m.clear(),this.#P?.clear(),this.#e=null,this.#A.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#F?.destroy(),this.#T?.hide(),this.#T=null,this.#z?.destroy(),this.#z=null,this.#i=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#j&&(clearTimeout(this.#j),this.#j=null),this._editorUndoBar?.destroy(),this.#X=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return Et(this,"hcmFilter",this.#U?this.#E.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Et(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return Et(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Et(this,"highlightColors",null);const e=new Map,i=!!this.#U;for(const[a,l]of t){const c=a.endsWith("_HCM");if(i&&c){e.set(a.replace("_HCM",""),l);continue}!i&&!c&&e.set(a,l)}return Et(this,"highlightColors",e)}get highlightColorNames(){return Et(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#z=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,i,a){this.#l?.showDialog(this,t,e,i,a)}selectComment(t,e){this.#r.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,i=void 0){this.#l?.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#r.has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),a=l=>{l.pageNumber===t&&(this._eventBus._off("editorsrendered",a),e())};this._eventBus.on("editorsrendered",a),await i}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#b=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#q.focus()}findParent(t,e){for(const i of this.#r.values()){const{x:a,y:l,width:c,height:u}=i.div.getBoundingClientRect();if(t>=a&&t<=a+c&&e>=l&&e<=l+u)return i}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Hs.PDF_TO_CSS_UNITS;for(const e of this.#m)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#r.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:a,anchorOffset:l,focusNode:c,focusOffset:u}=i,d=i.toString(),p=this.#Q(i).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;i.empty();const b=this.#tt(p),x=this.#C===xt.NONE,w=()=>{const S=b?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:a,anchorOffset:l,focusNode:c,focusOffset:u,text:d});x&&this.showAllEditors("highlight",!0,!0),e&&S?.editComment()};if(x){this.switchToMode(xt.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Q(t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(this.#T||=new SR(this),this.#T.show(i,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#a)return null;const e=`${Oo}${t}`,i=this.#a.getRawValue(e);return i&&this.#a.remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&this.#a&&!this.#a.has(t.id)&&this.#a.setValue(t.id,t)}a11yAlert(t,e=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#k&&(this.#T?.hide(),this.#k=null,this.#N({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#k)return;const a=this.#Q(t).closest(".textLayer");if(!a){this.#k&&(this.#T?.hide(),this.#k=null,this.#N({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#k=e,this.#N({hasSelectedText:!0}),!(this.#C!==xt.HIGHLIGHT&&this.#C!==xt.NONE)&&(this.#C===xt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const l=this.#C===xt.HIGHLIGHT?this.#tt(a):null;if(l?.toggleDrawing(),this.#D){const c=new AbortController,u=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else l?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(t=""){this.#C===xt.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#rt()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#A)if(e.div.contains(t)){this.#O=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#O)return;const[t,e]=this.#O;this.#O=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#L)return;this.#L=new AbortController;const t=this.combinedSignal(this.#L);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#L?.abort(),this.#L=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#A){const a=i.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of this.#u)if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(l){At(`paste: "${l.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const l=[];for(const d of i){const f=await a.deserialize(d);if(!f)return;l.push(f)}const c=()=>{for(const d of l)this.#st(d);this.#at(l)},u=()=>{for(const d of l)d.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(l){At(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==xt.NONE&&!this.isEditorHandlingKeyboard&&Ni._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#N(t){Object.entries(t).some(([i,a])=>this.#$[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#$,t)}),this.#C===xt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#H([[Nt.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#N({isEditing:this.#C!==xt.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#H(e.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#r.get(this.#f)}getLayer(t){return this.#r.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#r.set(t.pageIndex,t),this.#M?t.enable():t.disable()}removeLayer(t){this.#r.delete(t.pageIndex)}async updateMode(t,e=null,i=!1,a=!1,l=!1){if(this.#C!==t&&!(this.#I&&(await this.#I.promise,!this.#I))){if(this.#I=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===xt.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===xt.NONE){this.setEditingState(!1),this.#pt();for(const c of this.#n.values())c.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#I.resolve();return}for(const c of this.#n.values())c.addStandaloneCommentButton();t===xt.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const c of this.#r.values())c.updateMode(t);if(t===xt.POPUP){this.#i||=await this.#X.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const c=new Set,u=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:p,deleted:g}=d;f&&c.add(f),p&&!g&&u.push(d.getData())}for(const d of this.#i){const{id:f,popupRef:p,contentsObj:g}=d;p&&g?.str&&!c.has(f)&&!this.#g.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!e){i&&this.addNewEditorFromKeyboard(),this.#I.resolve();return}for(const c of this.#n.values())c.uid===e?(this.setSelected(c),l?c.editComment():a?c.enterInEditMode():c.focus()):c.unselect();this.#I.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Nt.CREATE:this.currentLayer.addNewEditor(e);return;case Nt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of this.#A)i.updateParams(t,e);else for(const i of this.#u)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const l of this.#n.values())l.editorType===t&&l.show(e);(this.#Y?.get(Nt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#H([[Nt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#B!==t){this.#B=t;for(const e of this.#r.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#M){this.#M=!0;const t=[];for(const e of this.#r.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#M){this.#M=!1;for(const t of this.#r.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#a?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#r.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#H(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#A);return t}updateUI(t){this.#mt===t&&this.#H(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#H(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#A)e!==t&&e.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#N({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#c.add(t),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}cleanUndoStack(t){this.#c.cleanType(t)}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#A],i=()=>{this._editorUndoBar?.show(a,e.length===1?e[0].editorType:e.length);for(const l of e)l.remove()},a=()=>{for(const l of e)this.#st(l)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#at(t){for(const e of this.#A)e.unselect();this.#A.clear();for(const e of t)e.isEmpty()||(this.#A.add(e),e.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#at(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==xt.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=t,this.#V[1]+=e;const[a,l]=this.#V,c=[...this.#A],u=1e3;this.#j&&clearTimeout(this.#j),this.#j=setTimeout(()=>{this.#j=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const d of c)this.#n.has(d.id)&&(d.translateInPage(a,l),d.translationDone())},undo:()=>{for(const d of c)this.#n.has(d.id)&&(d.translateInPage(-a,-l),d.translationDone())},mustExec:!1})},u);for(const d of c)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#A)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:a,y:l,pageIndex:c},u]of t)u.newX=a,u.newY=l,u.newPageIndex=c,e||=a!==u.savedX||l!==u.savedY||c!==u.savedPageIndex;if(!e)return!1;const i=(a,l,c,u)=>{if(this.#n.has(a.id)){const d=this.#r.get(u);d?a._setParentAndPosition(d,l,c):(a.pageIndex=u,a.x=l,a.y=c)}};return this.addCommands({cmd:()=>{for(const[a,{newX:l,newY:c,newPageIndex:u}]of t)i(a,l,c,u)},undo:()=>{for(const[a,{savedX:l,savedY:c,savedPageIndex:u}]of t)i(a,l,c,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const i of this.#p.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==xt.NONE}get imageManager(){return Et(this,"imageManager",new Up)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:a,width:l,height:c}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,g,b)=>({x:(p-a)/c,y:1-(f+g-i)/l,width:b/c,height:g/l});break;case"180":u=(f,p,g,b)=>({x:1-(f+g-i)/l,y:1-(p+b-a)/c,width:g/l,height:b/c});break;case"270":u=(f,p,g,b)=>({x:1-(p+b-a)/c,y:(f-i)/l,width:b/c,height:g/l});break;default:u=(f,p,g,b)=>({x:(f-i)/l,y:(p-a)/c,width:g/l,height:b/c});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const g=e.getRangeAt(f);if(!g.collapsed)for(const{x:b,y:x,width:w,height:S}of g.getClientRects())w===0||S===0||d.push(u(b,x,w,S))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const i=this.#a.getRawValue(e);i&&(this.#C===xt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const a=this.#P?.get(t);a&&(a.setCanvas(e,i),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class ii{#t=null;#e=!1;#i=null;#n=null;#r=null;#s=null;#a=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,ii.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){ii._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",ii.#f.missing),e.setAttribute("data-l10n-id",ii.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;t.addEventListener("contextmenu",vn,{signal:i}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:i});const a=l=>{l.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(this.#a=!0,a(l))},{signal:i}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await ii._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:l=!1}){i&&(this.#l=i,this.#d=a),!(this.#t===t&&this.#e===e)&&(l||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#r=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",ii.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",ii.#f[`${this.#g}-label`]),!this.#t){this.#r?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#r?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#r;if(!e){this.#r=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const a=100,l=this.#c._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#r.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:l}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r?.classList.remove("show")},{signal:l})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Ec{#t=null;#e=null;#i=!1;#n=null;#r=null;#s=null;#a=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const a=this.#n.commentButtonColor;a&&(i.backgroundColor=a)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:i}=this.#t.getBoundingClientRect(),{x:a,y:l,width:c,height:u}=this.#n.parent.boundingClientRect;return[(t-a)/c,(e+i-l)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",vn,{signal:i}),e&&(t.addEventListener("focusin",l=>{this.#n._focusEventsAllowed=!1,ae(l)},{capture:!0,signal:i}),t.addEventListener("focusout",l=>{this.#n._focusEventsAllowed=!0,ae(l)},{capture:!0,signal:i})),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:i});const a=l=>{l.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(this.#i=!0,a(l))},{signal:i}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),t}edit(t){const e=this.commentPopupPositionInLayer;let i,a;if(e)[i,a]=e;else{[i,a]=this.#n.commentButtonPosition;const{width:p,height:g,x:b,y:x}=this.#n;i=b+i*p,a=x+a*g}const l=this.#n.parent.boundingClientRect,{x:c,y:u,width:d,height:f}=l;this.#n._uiManager.editComment(this.#n,c+i*d,u+a*f,{...t,parentDimensions:l})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#a===""}isEmpty(){return this.#a===null}hasBeenEdited(){return this.isDeleted()||this.#a!==this.#r}serialize(){return this.data}get data(){return{text:this.#a,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#a&&(this.#s=null),t===null){this.#a="",this.#c=!0;return}this.#a=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#r=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#a="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Zo{#t;#e=!1;#i=null;#n;#r;#s;#a;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:l=null,onPinchEnd:c=null,signal:u}){this.#t=t,this.#i=i,this.#n=e,this.#r=a,this.#s=l,this.#a=c,this.#d=new AbortController,this.#c=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/qn.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const a=this.#o=new AbortController,l=AbortSignal.any([this.#c,a.signal]),c=this.#t,u={capture:!0,signal:l,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ae(f),d(f))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!this.#h){this.#h=new AbortController;const a=AbortSignal.any([this.#c,this.#h.signal]),l=this.#t,c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",this.#g.bind(this),c);const u=this.#p.bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",ae,c),l.addEventListener("pointermove",ae,c),l.addEventListener("pointercancel",ae,c),l.addEventListener("pointerup",ae,c),this.#r?.()}if(ae(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;ae(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:a,screenY:l}=e,{screenX:c,screenY:u}=i,d=this.#l,{touch0X:f,touch0Y:p,touch1X:g,touch1Y:b}=d,x=g-f,w=b-p,S=c-a,E=u-l,T=Math.hypot(S,E)||1,M=Math.hypot(x,w)||1;if(!this.#e&&Math.abs(M-T)<=Zo.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=a,d.touch0Y=l,d.touch1X=c,d.touch1Y=u,!this.#e){this.#e=!0;return}const _=[(a+c)/2,(l+u)/2];this.#s?.(_,M,T)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#a?.()),this.#l&&(ae(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class ht{#t=null;#e=null;#i=null;#n=null;#r=null;#s=!1;#a=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#v=!1;#b=null;#E=0;#w=0;#x=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#T=ht._zIndex++;static _borderLineWidth=-1;static _colorManager=new Vp;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ht.prototype._resizeWithKeyboard,e=Ni.TRANSLATE_SMALL,i=Ni.TRANSLATE_BIG;return Et(this,"_resizerKeyboardManager",new Qo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],ht.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[l,c];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Et(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new ER({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ht._l10n??=t,ht._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ht._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ht._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Wt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(t){this.#S=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#j(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[l,c]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/l,this.y=(e+a)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,a]=this.parentDimensions;this.setAt(t*i,e*a,this.width*i,this.height*a),this._onTranslated()}#R([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#R(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[a,l]}=this;if(this.x+=t/a,this.y+=e/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[d,f]=this.getBaseTranslation();c+=d,u+=f;const{style:p}=i;p.left=`${(100*c).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=ht,a=i/t,l=i/e;switch(this.rotation){case 90:return[-a,l];case 180:return[a,l];case 270:return[a,-l];default:return[-a,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,a]}=this;let{x:l,y:c,width:u,height:d}=this;if(u*=i,d*=a,l*=i,c*=a,this._mustFixPosition)switch(t){case 0:l=Fe(l,0,i-u),c=Fe(c,0,a-d);break;case 90:l=Fe(l,0,i-d),c=Fe(c,u,a);break;case 180:l=Fe(l,u,i),c=Fe(c,d,a);break;case 270:l=Fe(l,d,i),c=Fe(c,0,a-u);break}this.x=l/=i,this.y=c/=a;const[f,p]=this.getBaseTranslation();l+=f,c+=p,e.left=`${(100*l).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#M(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return ht.#M(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return ht.#M(t,e,360-this.parentRotation)}#D(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",this.#L.bind(this,i),{signal:e}),a.addEventListener("contextmenu",vn,{signal:e}),a.tabIndex=-1}this.div.prepend(this.#c)}#L(t,e){e.preventDefault();const{isMac:i}=Re.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#i?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",ae,{passive:!1,signal:c}),window.addEventListener("contextmenu",vn,{signal:c}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{l.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#z()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#O(t,e,i,a){this.width=i,this.height=a,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#z(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=this.#d;this.#d=null;const l=this.x,c=this.y,u=this.width,d=this.height;l===t&&c===e&&u===i&&d===a||this.addCommands({cmd:this.#O.bind(this,l,c,u,d),undo:this.#O.bind(this,t,e,i,a),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#P(t,e){const[i,a]=this.parentDimensions,l=this.x,c=this.y,u=this.width,d=this.height,f=ht.MIN_SIZE/i,p=ht.MIN_SIZE/a,g=this.#D(this.rotation),b=(j,I)=>[g[0]*j+g[2]*I,g[1]*j+g[3]*I],x=this.#D(360-this.rotation),w=(j,I)=>[x[0]*j+x[2]*I,x[1]*j+x[3]*I];let S,E,T=!1,M=!1;switch(t){case"topLeft":T=!0,S=(j,I)=>[0,0],E=(j,I)=>[j,I];break;case"topMiddle":S=(j,I)=>[j/2,0],E=(j,I)=>[j/2,I];break;case"topRight":T=!0,S=(j,I)=>[j,0],E=(j,I)=>[0,I];break;case"middleRight":M=!0,S=(j,I)=>[j,I/2],E=(j,I)=>[0,I/2];break;case"bottomRight":T=!0,S=(j,I)=>[j,I],E=(j,I)=>[0,0];break;case"bottomMiddle":S=(j,I)=>[j/2,I],E=(j,I)=>[j/2,0];break;case"bottomLeft":T=!0,S=(j,I)=>[0,I],E=(j,I)=>[j,0];break;case"middleLeft":M=!0,S=(j,I)=>[0,I/2],E=(j,I)=>[j,I/2];break}const _=S(u,d),N=E(u,d);let D=b(...N);const O=ht._round(l+D[0]),L=ht._round(c+D[1]);let z=1,X=1,W,J;if(e.fromKeyboard)({deltaX:W,deltaY:J}=e);else{const{screenX:j,screenY:I}=e,[Q,rt]=this.#l;[W,J]=this.screenToPageTranslation(j-Q,I-rt),this.#l[0]=j,this.#l[1]=I}if([W,J]=w(W/i,J/a),T){const j=Math.hypot(u,d);z=X=Math.max(Math.min(Math.hypot(N[0]-_[0]-W,N[1]-_[1]-J)/j,1/u,1/d),f/u,p/d)}else M?z=Fe(Math.abs(N[0]-_[0]-W),f,1)/u:X=Fe(Math.abs(N[1]-_[1]-J),p,1)/d;const ot=ht._round(u*z),dt=ht._round(d*X);D=b(...E(ot,dt));const st=O-D[0],ft=L-D[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=ot,this.height=dt,this.x=st,this.y=ft,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Co(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(ii.initialize(ht._l10n),this.#i=new ii(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Ec(this)}addStandaloneCommentButton(){if(this.#r){this._uiManager.isEditingMode()&&this.#r.classList.remove("hidden");return}this.hasComment&&(this.#r=this.#n.renderForStandalone(),this.div.append(this.#r))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#r=null}hideStandaloneCommentButton(){this.#r?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:a}}=this.#n;return{text:e,richText:t,date:i,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Ec(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(this.#n||=new Ec(this),this.#n.setInitialText(t,i),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Ec(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,a]=t.rect,[l]=this.pageDimensions,[c]=this.pageTranslation,u=c+l+1,d=a-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,a]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,l]=this.getInitialTranslation();return this.translate(a,l),wA(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new Zo({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#A.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,i){let l=.7*(i/e)+1-.7;if(l===1)return;const c=this.#D(this.rotation),u=(O,L)=>[c[0]*O+c[2]*L,c[1]*O+c[3]*L],[d,f]=this.parentDimensions,p=this.x,g=this.y,b=this.width,x=this.height,w=ht.MIN_SIZE/d,S=ht.MIN_SIZE/f;l=Math.max(Math.min(l,1/b,1/x),w/b,S/x);const E=ht._round(b*l),T=ht._round(x*l);if(E===b&&T===x)return;this.#u||=[p,g,b,x];const M=u(b/2,x/2),_=ht._round(p+M[0]),N=ht._round(g+M[1]),D=u(E/2,T/2);this.x=_-D[0],this.y=N-D[1],this.width=E,this.height=T,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#A(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#z()}pointerdown(t){const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#F(t);return}this.#k(t)}#k(t){const{isMac:e}=Re.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#F(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,l=this._uiManager.combinedSignal(a),c={capture:!0,passive:!1,signal:l},u=f=>{a.abort(),this.#a=null,this.#p=!1,this._uiManager.endDragSession()||this.#k(f),i&&this._onStopDragging()};e&&(this.#E=t.clientX,this.#w=t.clientY,this.#a=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:g,pointerId:b}=f;if(b!==this.#a){ae(f);return}const[x,w]=this.screenToPageTranslation(p-this.#E,g-this.#w);this.#E=p,this.#w=g,this._uiManager.dragSelectedEditors(x,w)},c),window.addEventListener("touchmove",ae,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#_||f.isPrimary)&&u(f),ae(f)},c));const d=f=>{if(!this.#a||this.#a===f.pointerId){u(f);return}ae(f)};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const a=this.parentScale,[l,c]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/a,p=e/a,g=this.x*l,b=this.y*c,x=this.width*l,w=this.height*c;switch(i){case 0:return[g+f+u,c-b-p-w+d,g+f+x+u,c-b-p+d];case 90:return[g+p+u,c-b+f+d,g+p+w+u,c-b+f+x+d];case 180:return[g-f-x+u,c-b+p+d,g-f+u,c-b+p+w+d];case 270:return[g-p-w+u,c-b-f-x+d,g-p+u,c-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,l,c]=t,u=l-i,d=c-a;switch(this.rotation){case 0:return[i,e-c,u,d];case 90:return[i,e-a,d,u];case 180:return[l,e-a,u,d];case 270:return[l,e-c,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ht._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:a,deleted:l,richText:c},uid:u,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:c,contentsObj:{str:t},creationDate:f,modificationDate:i||p,popupRef:!l,color:e,opacity:a}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return e<c&&a>0&&t<l&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});a.rotation=t.rotation,a.#t=t.accessibilityData,a._isCopy=t.isCopy||!1;const[l,c]=a.pageDimensions,[u,d,f,p]=a.getRectInCurrentCoords(t.rect,c);return a.x=u/l,a.y=d/c,a.width=f/l,a.height=p/c,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#j(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#_?.destroy(),this.#_=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,a,l,c]=this.getPDFRect();return[ht._round(i+(l-i)*t),ht._round(a+(c-a)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const c=this.#Y.bind(this),u=this.#X.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#$.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",ht._l10nResizer[p])}}const i=this.#e[0];let a=0;for(const c of e){if(c===i)break;a++}const l=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(l!==a){if(l<a)for(let u=0;u<a-l;u++)this.#c.append(this.#c.firstChild);else if(l>a)for(let u=0;u<l-a;u++)this.#c.firstChild.before(this.#c.lastChild);let c=0;for(const u of e){const f=this.#e[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",ht._l10nResizer[f])}}this.#V(0),this.#v=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#Y(t){ht._resizerKeyboardManager.exec(this,t)}#X(t){this.#v&&t.relatedTarget?.parentNode!==this.#c&&this.#j()}#$(t){this.#g=this.#v?t:""}#V(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#v&&this.#P(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#j(){this.#v=!1,this.#V(-1),this.#z()}_stopResizingWithKeyboard(){this.#j(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(t){this.#m=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:i}=t;let a=this.#x.get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(i),this.#x.size===0&&(this.#x=null)},ht._telemetryTimeout),this.#x.set(i,a);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class ER extends ht{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Xv=3285377520,Nn=4294901760,ti=65535;class TA{constructor(t){this.h1=t?t&4294967295:Xv,this.h2=t?t&4294967295:Xv}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let S=0,E=t.length;S<E;S++){const T=t.charCodeAt(S);T<=255?e[i++]=T:(e[i++]=T>>>8,e[i++]=T&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,l=i-a*4,c=new Uint32Array(e.buffer,0,a);let u=0,d=0,f=this.h1,p=this.h2;const g=3432918353,b=461845907,x=g&ti,w=b&ti;for(let S=0;S<a;S++)S&1?(u=c[S],u=u*g&Nn|u*x&ti,u=u<<15|u>>>17,u=u*b&Nn|u*w&ti,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=c[S],d=d*g&Nn|d*x&ti,d=d<<15|d>>>17,d=d*b&Nn|d*w&ti,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,l){case 3:u^=e[a*4+2]<<16;case 2:u^=e[a*4+1]<<8;case 1:u^=e[a*4],u=u*g&Nn|u*x&ti,u=u<<15|u>>>17,u=u*b&Nn|u*w&ti,a&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Nn|t*36045&ti,e=e*4283543511&Nn|((e<<16|t>>>16)*2950163797&Nn)>>>16,t^=e>>>1,t=t*444984403&Nn|t*60499&ti,e=e*3301882366&Nn|((e<<16|t>>>16)*3120437893&Nn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Ff=Object.freeze({map:null,hash:"",transfer:void 0});class Hp{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof ht&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof ht)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let a=!1;if(i!==void 0)for(const[l,c]of Object.entries(e))i[l]!==c&&(a=!0,i[l]=c);else a=!0,this.#n.set(t,e);a&&this.#r(),e instanceof ht&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#r(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new EA(this)}get serializable(){if(this.#n.size===0)return Ff;const t=new Map,e=new TA,i=[],a=Object.create(null);let l=!1;for(const[c,u]of this.#n){const d=u instanceof ht?u.serialize(!1,a):u;d&&(t.set(c,d),e.update(`${c}:${JSON.stringify(d)}`),l||=!!d.bitmap)}if(l)for(const c of t.values())c.bitmap&&i.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Ff}get editorStats(){let t=null;const e=new Map;let i=0,a=0;for(const l of this.#n.values()){if(!(l instanceof ht)){l.popup&&(l.popup.deleted?a+=1:i+=1);continue}l.isCommentDeleted?a+=1:l.hasEditedComment&&(i+=1);const c=l.telemetryFinalData;if(!c)continue;const{type:u}=c;e.has(u)||e.set(u,Object.getPrototypeOf(l).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,p]of Object.entries(c)){if(f==="type")continue;let g=d.get(f);g||(g=new Map,d.set(f,g));const b=g.get(p)??0;g.set(p,b+1)}}if((a>0||i>0)&&(t||=Object.create(null),t.comments={deleted:a,edited:i}),!t)return null;for(const[l,c]of e)t[l]=c.computeTelemetryFinalData(t[l]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const i=this.#i?.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class EA extends Hp{#t;constructor(t){super();const{map:e,hash:i,transfer:a}=t.serializable,l=structuredClone(e,a?{transfer:a}:null);this.#t={map:l,hash:i,transfer:a}}get print(){Wt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Et(this,"modifiedIds",{ids:new Set,hash:""})}}class CR{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(Ot(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:l,style:c}=t,u=new FontFace(a,l,c);this.addNativeFontFace(u);try{await u.load(),this.#t.add(a),i?.(t)}catch{At(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Wt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw At(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Et(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Et(this,"isSyncFontLoadingSupported",He||Re.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ot(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const l=i.shift();setTimeout(l.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Et(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(N,D){return N.charCodeAt(D)<<24|N.charCodeAt(D+1)<<16|N.charCodeAt(D+2)<<8|N.charCodeAt(D+3)&255}function a(N,D,O,L){const z=N.substring(0,D),X=N.substring(D+O);return z+L+X}let l,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(N,D){if(++f>30){At("Load test font never loaded."),D();return}if(d.font="30px "+N,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(p.bind(null,N,D))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=a(b,976,g.length,g);const w=16,S=1482184792;let E=i(b,w);for(l=0,c=g.length-3;l<c;l+=4)E=E-S+i(g,l)|0;l<g.length&&(E=E-S+i(g+"XXX",l)|0),b=a(b,w,4,fR(E));const T=`url(data:font/opentype;base64,${btoa(b)});`,M=`@font-face {font-family:"${g}";src:${T}}`;this.insertRule(M);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const N of[t.loadedName,g]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=N,_.append(D)}this._document.body.append(_),p(g,()=>{_.remove(),e.complete()})}}class _R{#t;constructor(t,e=null,i,a){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,i&&Object.assign(this,i),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${gA(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let a;try{a=t.get(i)}catch(c){At(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(a||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=l}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function MR(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(He)return r;const t=URL.parse(r,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function DR(r){if(He&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return $o(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Cc(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const If=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,RR=r=>typeof r=="object"&&typeof r?.name=="string",CA=yR.bind(null,If,RR);class NR{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[a]of this.#t)a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if(i?.signal instanceof AbortSignal){const{signal:l}=i;if(l.aborted){At("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);a=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}this.#t.set(e,a)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const _c={DATA:1,ERROR:2},Ae={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Yv(){}function en(r){if(r instanceof Ri||r instanceof Wc||r instanceof Fv||r instanceof Po||r instanceof ef)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Wt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Ri(r.message);case"InvalidPDFException":return new Wc(r.message);case"PasswordException":return new Fv(r.message,r.code);case"ResponseException":return new Po(r.message,r.status,r.missing);case"UnknownErrorException":return new ef(r.message,r.details)}return new ef(r.message,r.toString())}class yo{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===_c.DATA)a.resolve(t.data);else if(t.callback===_c.ERROR)a.reject(en(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,l=this.comObj;Promise.try(e,t.data).then(function(c){l.postMessage({sourceName:i,targetName:a,callback:_c.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:i,targetName:a,callback:_c.ERROR,callbackId:t.callbackId,reason:en(c)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[a]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,i,a){const l=this.streamId++,c=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[l]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:u,action:t,streamId:l,data:e,desiredSize:f.desiredSize},a),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[l].pullCall=p,d.postMessage({sourceName:c,targetName:u,stream:Ae.PULL,streamId:l,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Ot(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[l].cancelCall=p,this.streamControllers[l].isClosed=!0,d.postMessage({sourceName:c,targetName:u,stream:Ae.CANCEL,streamId:l,reason:en(f)}),p.promise}},i)}#i(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,l=this.comObj,c=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,g){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:i,targetName:a,stream:Ae.ENQUEUE,streamId:e,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:i,targetName:a,stream:Ae.CLOSE,streamId:e}),delete c.streamSinks[e])},error(f){Ot(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:i,targetName:a,stream:Ae.ERROR,streamId:e,reason:en(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){l.postMessage({sourceName:i,targetName:a,stream:Ae.START_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:a,stream:Ae.START_COMPLETE,streamId:e,reason:en(f)})})}#n(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,l=this.comObj,c=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Ae.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(en(t.reason));break;case Ae.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(en(t.reason));break;case Ae.PULL:if(!u){l.postMessage({sourceName:i,targetName:a,stream:Ae.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||Yv).then(function(){l.postMessage({sourceName:i,targetName:a,stream:Ae.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:a,stream:Ae.PULL_COMPLETE,streamId:e,reason:en(f)})});break;case Ae.ENQUEUE:if(Ot(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Ae.CLOSE:if(Ot(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#r(c,e);break;case Ae.ERROR:Ot(c,"error should have stream controller"),c.controller.error(en(t.reason)),this.#r(c,e);break;case Ae.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(en(t.reason)),this.#r(c,e);break;case Ae.CANCEL:if(!u)break;const d=en(t.reason);Promise.try(u.onCancel||Yv,d).then(function(){l.postMessage({sourceName:i,targetName:a,stream:Ae.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:a,stream:Ae.CANCEL_COMPLETE,streamId:e,reason:en(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#r(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class _A{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Wt("Abstract method `_createCanvas` called.")}}class LR extends _A{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class MA{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class $v extends MA{async _fetch(t){const e=await ur(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):$o(e)}}class DA{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,l){return"none"}destroy(t=!1){}}class kR extends DA{#t;#e;#i;#n;#r;#s;#a=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#r=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#r.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#r.createElementNS(_i,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#r.createElementNS(_i,"defs"),t.append(i),i.append(this.#i),this.#r.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=d[g]/255;const p=f.join(",");return[p,p,p]}const[e,i,a]=t,l=new Array(256),c=new Array(256),u=new Array(256);for(let d=0;d<256;d++)l[d]=e[d]/255,c[d]=i[d]/255,u[d]=a[d]/255;return[l.join(","),c.join(","),u.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#r.URL;e!==this.#r.baseURI&&(Wo(e)?At('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=jp(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,a,l]=this.#d(t),c=t.length===1?i:`${i}${a}${l}`;if(e=this.#o.get(c),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#a++}`,d=this.#h(u);this.#o.set(t,d),this.#o.set(c,d);const f=this.#p(u);return this.#m(i,a,l,f),d}addHCMFilter(t,e){const i=`${t}-${e}`,a="base";let l=this.#c.get(a);if(l?.key===i||(l?(l.filter?.remove(),l.key=i,l.url="none",l.filter=null):(l={key:i,url:"none",filter:null},this.#c.set(a,l)),!t||!e))return l.url;const c=this.#v(t);t=nt.makeHexColor(...c);const u=this.#v(e);if(e=nt.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return l.url;const d=new Array(256);for(let x=0;x<=255;x++){const w=x/255;d[x]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,g=l.filter=this.#p(p);this.#m(f,f,f,g),this.#g(g);const b=(x,w)=>{const S=c[x]/255,E=u[x]/255,T=new Array(w+1);for(let M=0;M<=w;M++)T[M]=S+M/w*(E-S);return T.join(",")};return this.#m(b(0,5),b(1,5),b(2,5),g),l.url=this.#h(p),l.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#d([t]),a=`alpha_${i}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const l=`g_${this.#n}_alpha_map_${this.#a++}`,c=this.#h(l);this.#o.set(t,c),this.#o.set(a,c);const u=this.#p(l);return this.#y(i,u),c}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,a;if(t?([i]=this.#d([t]),a=`luminosity_${i}`):a="luminosity",e=this.#o.get(a),e)return this.#o.set(t,e),e;const l=`g_${this.#n}_luminosity_map_${this.#a++}`,c=this.#h(l);this.#o.set(t,c),this.#o.set(a,c);const u=this.#p(l);return this.#f(u),t&&this.#y(i,u),c}addHighlightHCMFilter(t,e,i,a,l){const c=`${e}-${i}-${a}-${l}`;let u=this.#c.get(t);if(u?.key===c||(u?(u.filter?.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},this.#c.set(t,u)),!e||!i))return u.url;const[d,f]=[e,i].map(this.#v.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,x]=[a,l].map(this.#v.bind(this));g<p&&([p,g,b,x]=[g,p,x,b]),this.#l.style.color="";const w=(T,M,_)=>{const N=new Array(256),D=(g-p)/_,O=T/255,L=(M-T)/(255*_);let z=0;for(let X=0;X<=_;X++){const W=Math.round(p+X*D),J=O+X*L;for(let ot=z;ot<=W;ot++)N[ot]=J;z=W+1}for(let X=z;X<256;X++)N[X]=N[z-1];return N.join(",")},S=`g_${this.#n}_hcm_${t}_filter`,E=u.filter=this.#p(S);return this.#g(E),this.#m(w(b[0],x[0],5),w(b[1],x[1],5),w(b[2],x[2],5),E),u.url=this.#h(S),u.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#a=0)}#f(t){const e=this.#r.createElementNS(_i,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#r.createElementNS(_i,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#r.createElementNS(_i,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,i){const a=this.#r.createElementNS(_i,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)}#m(t,e,i,a){const l=this.#r.createElementNS(_i,"feComponentTransfer");a.append(l),this.#u(l,"feFuncR",t),this.#u(l,"feFuncG",e),this.#u(l,"feFuncB",i)}#y(t,e){const i=this.#r.createElementNS(_i,"feComponentTransfer");e.append(i),this.#u(i,"feFuncA",t)}#v(t){return this.#l.style.color=t,hr(getComputedStyle(this.#l).getPropertyValue("color"))}}class RA{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class Kv extends RA{async _fetch(t){const e=await ur(t,"arraybuffer");return new Uint8Array(e)}}class NA{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class Wv extends NA{async _fetch(t){const e=await ur(t,"arraybuffer");return new Uint8Array(e)}}He&&At("Please use the `legacy` build in Node.js environments.");async function Gp(r){const e=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(e)}class OR extends DA{}class PR extends _A{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class jR extends MA{async _fetch(t){return Gp(t)}}class BR extends RA{async _fetch(t){return Gp(t)}}class zR extends NA{async _fetch(t){return Gp(t)}}const ka="__forcedDependency",{floor:Qv,ceil:Zv}=Math;function Mc(r,t,e,i,a,l){r[t*4+0]=Math.min(r[t*4+0],e),r[t*4+1]=Math.min(r[t*4+1],i),r[t*4+2]=Math.max(r[t*4+2],a),r[t*4+3]=Math.max(r[t*4+3],l)}const Uf=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class FR{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===Uf}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Dc=(r,t)=>{if(!r)return;let e=r.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},r.set(t,e)),e};class IR{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[ka]:[]};#i=new Map;#n=[];#r=[];#s=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#p;#u;#m;constructor(t,e,i=!1){this.#f=t.width,this.#g=t.height,this.#y(e),i&&(this.#m=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const i=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),e&&e.length>0?(this.#u.set(e),this.#u.fill(Uf,e.length)):this.#u.fill(Uf)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[ka]:{__proto__:this.#e[ka]}},this.#a={__proto__:this.#a},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#a=Object.getPrototypeOf(this.#a);const i=this.#n.pop();return i!==void 0&&(Dc(this.#m,t)?.dependencies.add(i),this.#u[t]=this.#u[i]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(Dc(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#r.push(t),this}endMarkedContent(t){const e=this.#r.pop();return e!==void 0&&(Dc(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(nt.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,i){this.#t[t]=this.#i.get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(ka,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(ka,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,i,a,l,c){const u=nt.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];nt.axialAlignedBoundingBox([i,l,a,c],u,d);const f=nt.intersect(this.#a,d);return f?(this.#a[0]=f[0],this.#a[1]=f[1],this.#a[2]=f[2],this.#a[3]=f[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(t,e,i,a,l,c){const u=this.#a;if(u[0]===1/0)return this;const d=nt.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(u[0]===-1/0)return nt.axialAlignedBoundingBox([i,l,a,c],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return nt.axialAlignedBoundingBox([i,l,a,c],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,i,a=1,l=0,c=0,u){const d=i.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#h.get(i),f!==!1&&(p=[0,0,0,0],nt.axialAlignedBoundingBox(d,i.fontMatrix,p),(a!==1||l!==0||c!==0)&&nt.scaleMinMax([a,0,0,-a,l,c],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const g=u();return d&&p&&f===void 0&&(f=p[0]<=l-g.actualBoundingBoxLeft&&p[2]>=l+g.actualBoundingBoxRight&&p[1]<=c-g.actualBoundingBoxAscent&&p[3]>=c+g.actualBoundingBoxDescent,this.#h.set(i,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,l-g.actualBoundingBoxLeft,l+g.actualBoundingBoxRight,c-g.actualBoundingBoxAscent,c+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#a[0]),this.#o[1]=Math.max(0,this.#a[1]),this.#o[2]=Math.min(this.#f,this.#a[2]),this.#o[3]=Math.min(this.#g,this.#a[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const i=this.#l,a=this.#t,l=this.#e;for(const c of e)c in this.#t?i.add(a[c]):c in l&&l[c].forEach(i.add,i);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[ka]),this.#m){const i=Dc(this.#m,t),{dependencies:a}=i;this.#l.forEach(a.add,a),this.#n.forEach(a.add,a),this.#r.forEach(a.add,a),a.delete(t),i.isRenderingOperation=!0}if(this.#c===t){const i=Qv(this.#o[0]*256/this.#f),a=Qv(this.#o[1]*256/this.#g),l=Zv(this.#o[2]*256/this.#f),c=Zv(this.#o[3]*256/this.#g);Mc(this.#p,t,i,a,l,c);for(const u of this.#l)u!==t&&Mc(this.#p,u,i,a,l,c);for(const u of this.#n)u!==t&&Mc(this.#p,u,i,a,l,c);for(const u of this.#r)u!==t&&Mc(this.#p,u,i,a,l,c);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const i=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const a of i)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#a[0]=Math.max(this.#a[0],this.#o[0]),this.#a[1]=Math.max(this.#a[1],this.#o[1]),this.#a[2]=Math.min(this.#a[2],this.#o[2]),this.#a[3]=Math.min(this.#a[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new FR(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class Jc{#t;#e;#i;#n=0;#r=0;constructor(t,e,i){if(t instanceof Jc&&t.#i===!!i)return t;this.#t=t,this.#e=e,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#r++,this.#t.save(this.#e),this}restore(t){return this.#r>0&&(this.#t.restore(this.#e),this.#r--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,i,a,l,c){return this.#i||this.#t.recordClipBox(this.#e,e,i,a,l,c),this}recordBBox(t,e,i,a,l,c){return this.#i||this.#t.recordBBox(this.#e,e,i,a,l,c),this}recordCharacterBBox(t,e,i,a,l,c,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,i,a,l,c,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ln={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Be={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Vf(r,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),r.clip(a)}class qp{isModifyingCurrentTransform(){return!1}getPattern(){Wt("Abstract method `getPattern` called.")}}class UR extends qp{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,a){let l;if(a===Be.STROKE||a===Be.FILL){const c=e.current.getClippedPathBoundingBox(a,se(t))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-c[0],-c[1]),i=nt.transform(i,[1,0,0,1,c[0],c[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),Vf(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),l=t.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(i);l.setTransform(g)}else Vf(t,this._bbox),l=this._createGradient(t);return l}}function af(r,t,e,i,a,l,c,u){const d=t.coords,f=t.colors,p=r.data,g=r.width*4;let b;d[e+1]>d[i+1]&&(b=e,e=i,i=b,b=l,l=c,c=b),d[i+1]>d[a+1]&&(b=i,i=a,a=b,b=c,c=u,u=b),d[e+1]>d[i+1]&&(b=e,e=i,i=b,b=l,l=c,c=b);const x=(d[e]+t.offsetX)*t.scaleX,w=(d[e+1]+t.offsetY)*t.scaleY,S=(d[i]+t.offsetX)*t.scaleX,E=(d[i+1]+t.offsetY)*t.scaleY,T=(d[a]+t.offsetX)*t.scaleX,M=(d[a+1]+t.offsetY)*t.scaleY;if(w>=M)return;const _=f[l],N=f[l+1],D=f[l+2],O=f[c],L=f[c+1],z=f[c+2],X=f[u],W=f[u+1],J=f[u+2],ot=Math.round(w),dt=Math.round(M);let st,ft,j,I,Q,rt,gt,k;for(let q=ot;q<=dt;q++){if(q<E){const ct=q<w?0:(w-q)/(w-E);st=x-(x-S)*ct,ft=_-(_-O)*ct,j=N-(N-L)*ct,I=D-(D-z)*ct}else{let ct;q>M?ct=1:E===M?ct=0:ct=(E-q)/(E-M),st=S-(S-T)*ct,ft=O-(O-X)*ct,j=L-(L-W)*ct,I=z-(z-J)*ct}let Z;q<w?Z=0:q>M?Z=1:Z=(w-q)/(w-M),Q=x-(x-T)*Z,rt=_-(_-X)*Z,gt=N-(N-W)*Z,k=D-(D-J)*Z;const tt=Math.round(Math.min(st,Q)),lt=Math.round(Math.max(st,Q));let pt=g*q+tt*4;for(let ct=tt;ct<=lt;ct++)Z=(st-ct)/(st-Q),Z<0?Z=0:Z>1&&(Z=1),p[pt++]=ft-(ft-rt)*Z|0,p[pt++]=j-(j-gt)*Z|0,p[pt++]=I-(I-k)*Z|0,p[pt++]=255}}function VR(r,t,e){const i=t.coords,a=t.colors;let l,c;switch(t.type){case"lattice":const u=t.verticesPerRow,d=Math.floor(i.length/u)-1,f=u-1;for(l=0;l<d;l++){let p=l*u;for(let g=0;g<f;g++,p++)af(r,e,i[p],i[p+1],i[p+u],a[p],a[p+1],a[p+u]),af(r,e,i[p+u+1],i[p+1],i[p+u],a[p+u+1],a[p+1],a[p+u])}break;case"triangles":for(l=0,c=i.length;l<c;l+=3)af(r,e,i[l],i[l+1],i[l+2],a[l],a[l+1],a[l+2]);break;default:throw new Error("illegal figure")}}class HR extends qp{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),x=f/g,w=p/b,S={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/x,scaleY:1/w},E=g+4,T=b+4,M=i.getCanvas("mesh",E,T),_=M.context,N=_.createImageData(g,b);if(e){const O=N.data;for(let L=0,z=O.length;L<z;L+=4)O[L]=e[0],O[L+1]=e[1],O[L+2]=e[2],O[L+3]=255}for(const O of this._figures)VR(N,O,S);return _.putImageData(N,2,2),{canvas:M.canvas,offsetX:u-2*x,offsetY:d-2*w,scaleX:x,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,a){Vf(t,this._bbox);const l=new Float32Array(2);if(a===Be.SHADING)nt.singularValueDecompose2dScale(se(t),l);else if(this.matrix){nt.singularValueDecompose2dScale(this.matrix,l);const[u,d]=l;nt.singularValueDecompose2dScale(e.baseTransform,l),l[0]*=u,l[1]*=d}else nt.singularValueDecompose2dScale(e.baseTransform,l);const c=this._createMeshCanvas(l,a===Be.SHADING?null:this._background,e.cachedCanvases);return a!==Be.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class GR extends qp{getPattern(){return"hotpink"}}function qR(r){switch(r[0]){case"RadialAxial":return new UR(r);case"Mesh":return new HR(r);case"Dummy":return new GR}throw new Error(`Unknown IR type: ${r[0]}`)}const Jv={COLORED:1,UNCOLORED:2};class Xp{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(t,e){const{bbox:i,operatorList:a,paintType:l,tilingType:c,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),ou("TilingType: "+c);const g=i[0],b=i[1],x=i[2],w=i[3],S=x-g,E=w-b,T=new Float32Array(2);nt.singularValueDecompose2dScale(this.matrix,T);const[M,_]=T;nt.singularValueDecompose2dScale(this.baseTransform,T);const N=M*T[0],D=_*T[1];let O=S,L=E,z=!1,X=!1;const W=Math.ceil(f*N),J=Math.ceil(p*D),ot=Math.ceil(S*N),dt=Math.ceil(E*D);W>=ot?O=f:z=!0,J>=dt?L=p:X=!0;const st=this.getSizeAndScale(O,this.ctx.canvas.width,N),ft=this.getSizeAndScale(L,this.ctx.canvas.height,D),j=t.cachedCanvases.getCanvas("pattern",st.size,ft.size),I=j.context,Q=d.createCanvasGraphics(I,e);if(Q.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Q,l,u),I.translate(-st.scale*g,-ft.scale*b),Q.transform(0,st.scale,0,0,ft.scale,0,0),I.save(),Q.dependencyTracker?.save(),this.clipBbox(Q,g,b,x,w),Q.baseTransform=se(Q.ctx),Q.executeOperatorList(a),Q.endDrawing(),Q.dependencyTracker?.restore(),I.restore(),z||X){const rt=j.canvas;z&&(O=f),X&&(L=p);const gt=this.getSizeAndScale(O,this.ctx.canvas.width,N),k=this.getSizeAndScale(L,this.ctx.canvas.height,D),q=gt.size,Z=k.size,tt=t.cachedCanvases.getCanvas("pattern-workaround",q,Z),lt=tt.context,pt=z?Math.floor(S/f):0,ct=X?Math.floor(E/p):0;for(let Qt=0;Qt<=pt;Qt++)for(let Ct=0;Ct<=ct;Ct++)lt.drawImage(rt,q*Qt,Z*Ct,q,Z,0,0,q,Z);return{canvas:tt.canvas,scaleX:gt.scale,scaleY:k.scale,offsetX:g,offsetY:b}}return{canvas:j.canvas,scaleX:st.scale,scaleY:ft.scale,offsetX:g,offsetY:b}}getSizeAndScale(t,e,i){const a=Math.max(Xp.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*i);return l>=a?l=a:i=l/t,{scale:i,size:l}}clipBbox(t,e,i,a,l){const c=a-e,u=l-i;t.ctx.rect(e,i,c,u),nt.axialAlignedBoundingBox([e,i,a,l],se(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,l=t.current;switch(e){case Jv.COLORED:const{fillStyle:c,strokeStyle:u}=this.ctx;a.fillStyle=l.fillColor=c,a.strokeStyle=l.strokeColor=u;break;case Jv.UNCOLORED:a.fillStyle=a.strokeStyle=i,l.fillColor=l.strokeColor=i;break;default:throw new dR(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,a,l){let c=i;a!==Be.SHADING&&(c=nt.transform(c,e.baseTransform),this.matrix&&(c=nt.transform(c,this.matrix)));const u=this.createPatternCanvas(e,l);let d=new DOMMatrix(c);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function XR({src:r,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const u=Re.isLittleEndian?4278190080:255,[d,f]=c?[l,u]:[u,l],p=i>>3,g=i&7,b=r.length;e=new Uint32Array(e.buffer);let x=0;for(let w=0;w<a;w++){for(const E=t+p;t<E;t++){const T=t<b?r[t]:255;e[x++]=T&128?f:d,e[x++]=T&64?f:d,e[x++]=T&32?f:d,e[x++]=T&16?f:d,e[x++]=T&8?f:d,e[x++]=T&4?f:d,e[x++]=T&2?f:d,e[x++]=T&1?f:d}if(g===0)continue;const S=t<b?r[t++]:255;for(let E=0;E<g;E++)e[x++]=S&1<<7-E?f:d}return{srcPos:t,destPos:x}}const tx=16,ex=100,YR=15,nx=10,nn=16,rf=new DOMMatrix,bn=new Float32Array(2),qa=new Float32Array([1/0,1/0,-1/0,-1/0]);function $R(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},r.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},r.transform=function(e,i,a,l,c,u){t.transform(e,i,a,l,c,u),this.__originalTransform(e,i,a,l,c,u)},r.setTransform=function(e,i,a,l,c,u){t.setTransform(e,i,a,l,c,u),this.__originalSetTransform(e,i,a,l,c,u)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(e){t.rotate(e),this.__originalRotate(e)},r.clip=function(e){t.clip(e),this.__originalClip(e)},r.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},r.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},r.bezierCurveTo=function(e,i,a,l,c,u){t.bezierCurveTo(e,i,a,l,c,u),this.__originalBezierCurveTo(e,i,a,l,c,u)},r.rect=function(e,i,a,l){t.rect(e,i,a,l),this.__originalRect(e,i,a,l)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class KR{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Rc(r,t,e,i,a,l,c,u,d,f){const[p,g,b,x,w,S]=se(r);if(g===0&&b===0){const M=c*p+w,_=Math.round(M),N=u*x+S,D=Math.round(N),O=(c+d)*p+w,L=Math.abs(Math.round(O)-_)||1,z=(u+f)*x+S,X=Math.abs(Math.round(z)-D)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(x),_,D),r.drawImage(t,e,i,a,l,0,0,L,X),r.setTransform(p,g,b,x,w,S),[L,X]}if(p===0&&x===0){const M=u*b+w,_=Math.round(M),N=c*g+S,D=Math.round(N),O=(u+f)*b+w,L=Math.abs(Math.round(O)-_)||1,z=(c+d)*g+S,X=Math.abs(Math.round(z)-D)||1;return r.setTransform(0,Math.sign(g),Math.sign(b),0,_,D),r.drawImage(t,e,i,a,l,0,0,X,L),r.setTransform(p,g,b,x,w,S),[X,L]}r.drawImage(t,e,i,a,l,c,u,d,f);const E=Math.hypot(p,g),T=Math.hypot(b,x);return[E*d,T*f]}class ix{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Bf;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=je.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,i){i?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=qa.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Be.FILL,e=null){const i=this.minMax.slice();if(t===Be.STROKE){e||Wt("Stroke bounding box must include transform."),nt.singularValueDecompose2dScale(e,bn);const a=bn[0]*this.lineWidth/2,l=bn[1]*this.lineWidth/2;i[0]-=a,i[1]-=l,i[2]+=a,i[3]+=l}return i}updateClipFromPath(){const t=nt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(qa,0)}getClippedPathBoundingBox(t=Be.FILL,e=null){return nt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function sx(r,t){if(t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%nn,l=(e-a)/nn,c=a===0?l:l+1,u=r.createImageData(i,nn);let d=0,f;const p=t.data,g=u.data;let b,x,w,S;if(t.kind===Eo.GRAYSCALE_1BPP){const E=p.byteLength,T=new Uint32Array(g.buffer,0,g.byteLength>>2),M=T.length,_=i+7>>3,N=4294967295,D=Re.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(w=b<l?nn:a,f=0,x=0;x<w;x++){const O=E-d;let L=0;const z=O>_?i:O*8-7,X=z&-8;let W=0,J=0;for(;L<X;L+=8)J=p[d++],T[f++]=J&128?N:D,T[f++]=J&64?N:D,T[f++]=J&32?N:D,T[f++]=J&16?N:D,T[f++]=J&8?N:D,T[f++]=J&4?N:D,T[f++]=J&2?N:D,T[f++]=J&1?N:D;for(;L<z;L++)W===0&&(J=p[d++],W=128),T[f++]=J&W?N:D,W>>=1}for(;f<M;)T[f++]=0;r.putImageData(u,0,b*nn)}}else if(t.kind===Eo.RGBA_32BPP){for(x=0,S=i*nn*4,b=0;b<l;b++)g.set(p.subarray(d,d+S)),d+=S,r.putImageData(u,0,x),x+=nn;b<c&&(S=i*a*4,g.set(p.subarray(d,d+S)),r.putImageData(u,0,x))}else if(t.kind===Eo.RGB_24BPP)for(w=nn,S=i*w,b=0;b<c;b++){for(b>=l&&(w=a,S=i*w),f=0,x=S;x--;)g[f++]=p[d++],g[f++]=p[d++],g[f++]=p[d++],g[f++]=255;r.putImageData(u,0,b*nn)}else throw new Error(`bad image kind: ${t.kind}`)}function ax(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%nn,l=(e-a)/nn,c=a===0?l:l+1,u=r.createImageData(i,nn);let d=0;const f=t.data,p=u.data;for(let g=0;g<c;g++){const b=g<l?nn:a;({srcPos:d}=XR({src:f,srcPos:d,dest:p,width:i,height:b,nonBlackColor:0})),r.putImageData(u,0,g*nn)}}function co(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)r[i]!==void 0&&(t[i]=r[i]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function Nc(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}function rx(r,t){if(t)return!0;nt.singularValueDecompose2dScale(r,bn);const e=Math.fround(qn.pixelRatio*Hs.PDF_TO_CSS_UNITS);return bn[0]<=e&&bn[1]<=e}const WR=["butt","round","square"],QR=["miter","round","bevel"],ZR={},ox={};class $a{constructor(t,e,i,a,l,{optionalContentConfig:c,markedContentStack:u=null},d,f,p){this.ctx=t,this.current=new ix(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new KR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,i=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=u,i){const d=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...se(this.compositeCtx))}this.ctx.save(),Nc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=se(this.ctx)}executeOperatorList(t,e,i,a,l){const c=t.argsArray,u=t.fnArray;let d=e||0;const f=c.length;if(f===d)return d;const p=f-d>nx&&typeof i=="function",g=p?Date.now()+YR:0;let b=0;const x=this.commonObjs,w=this.objs;let S,E;for(;;){if(a!==void 0&&d===a.nextBreakPoint)return a.breakIt(d,i),d;if(!l||l(d))if(S=u[d],E=c[d]??null,S!==ir.dependency)E===null?this[S](d):this[S](d,...E);else for(const T of E){this.dependencyTracker?.recordNamedData(T,d);const M=T.startsWith("g_")?x:w;if(!M.has(T))return M.get(T,i),d}if(d++,d===f)return d;if(p&&++b>nx){if(Date.now()>g)return i(),d;b=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=i,d=a,f="prescale1",p,g;for(;l>2&&u>1||c>2&&d>1;){let b=u,x=d;l>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/b),c>2&&d>1&&(x=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/x),p=this.cachedCanvases.getCanvas(f,b,x),g=p.context,g.clearRect(0,0,b,x),g.drawImage(t,0,0,u,d,0,0,b,x),t=p.canvas,u=b,d=x,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const i=this.ctx,{width:a,height:l}=e,c=this.current.fillColor,u=this.current.patternFill,d=se(i);let f,p,g,b;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),c]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const J=f.get(p);if(J&&!u){const ot=Math.round(Math.min(d[0],d[2])+d[4]),dt=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Ln.transformAndFill),{canvas:J,offsetX:ot,offsetY:dt}}g=J}g||(b=this.cachedCanvases.getCanvas("maskCanvas",a,l),ax(b.context,e));let x=nt.transform(d,[1/a,0,0,-1/l,0,0]);x=nt.transform(x,[1,0,0,1,0,-l]);const w=qa.slice();nt.axialAlignedBoundingBox([0,0,a,l],x,w);const[S,E,T,M]=w,_=Math.round(T-S)||1,N=Math.round(M-E)||1,D=this.cachedCanvases.getCanvas("fillCanvas",_,N),O=D.context,L=S,z=E;O.translate(-L,-z),O.transform(...x),g||(g=this._scaleImage(b.canvas,Jn(O)),g=g.img,f&&u&&f.set(p,g)),O.imageSmoothingEnabled=rx(se(O),e.interpolate),Rc(O,g,0,0,g.width,g.height,0,0,a,l),O.globalCompositeOperation="source-in";const X=nt.transform(Jn(O),[1,0,0,1,-L,-z]);return O.fillStyle=u?c.getPattern(i,this,X,Be.FILL,t):c,O.fillRect(0,0,a,l),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,D.canvas)),this.dependencyTracker?.recordDependencies(t,Ln.transformAndFill),{canvas:D.canvas,offsetX:Math.round(L),offsetY:Math.round(z)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=WR[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=QR[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){this.dependencyTracker?.recordSimpleData("dash",t);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(e),a.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[i,a]of e)switch(i){case"LW":this.setLineWidth(t,a);break;case"LC":this.setLineCap(t,a);break;case"LJ":this.setLineJoin(t,a);break;case"ML":this.setMiterLimit(t,a);break;case"D":this.setDash(t,a[0],a[1]);break;case"RI":this.setRenderingIntent(t,a);break;case"FL":this.setFlatness(t,a);break;case"Font":this.setFont(t,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,l=this.cachedCanvases.getCanvas(a,e,i);this.suspendedCtx=this.ctx;const c=this.ctx=l.context;c.setTransform(this.suspendedCtx.getTransform()),co(this.suspendedCtx,c),$R(c,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),co(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const l=a[0],c=a[1],u=a[2]-l,d=a[3]-c;u===0||d===0||(this.genericComposeSMask(e.context,i,u,d,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,l,c,u,d,f,p,g){let b=t.canvas,x=d-p,w=f-g;if(c)if(x<0||w<0||x+i>b.width||w+a>b.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,a),T=E.context;T.drawImage(b,-x,-w),T.globalCompositeOperation="destination-atop",T.fillStyle=c,T.fillRect(0,0,i,a),T.globalCompositeOperation="source-over",b=E.canvas,x=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(x,w,i,a),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(x,w,i,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const S=new Path2D;S.rect(d,f,i,a),e.clip(S),e.globalCompositeOperation="destination-in",e.drawImage(b,x,w,i,a,d,f,i,a),e.restore()}save(t){this.inSMaskMode&&co(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&co(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,a,l,c,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,i,a,l,c,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,a){let[l]=i;if(!a){l||=i[0]=new Path2D,this[e](t,l);return}if(this.dependencyTracker!==null){const c=e===ir.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,a[0]-c,a[2]+c,a[1]-c,a[3]+c).recordDependencies(t,["transform"])}if(!(l instanceof Path2D)){const c=i[0]=new Path2D;for(let u=0,d=l.length;u<d;)switch(l[u++]){case Tc.moveTo:c.moveTo(l[u++],l[u++]);break;case Tc.lineTo:c.lineTo(l[u++],l[u++]);break;case Tc.curveTo:c.bezierCurveTo(l[u++],l[u++],l[u++],l[u++],l[u++],l[u++]);break;case Tc.closePath:c.closePath();break;default:At(`Unrecognized drawing path operator: ${l[u-1]}`);break}l=c}nt.axialAlignedBoundingBox(a,se(this.ctx),this.current.minMax),this[e](t,l),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){const a=this.ctx,l=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof l=="object"&&l?.getPattern){const c=l.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=l.getPattern(a,this,Jn(a),Be.STROKE,t),c){const u=new Path2D;u.addPath(e,a.getTransform().invertSelf().multiplySelf(c)),e=u}this.rescaleAndStroke(e,!1),a.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Ln.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Be.STROKE,se(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){const a=this.ctx,l=this.current.fillColor,c=this.current.patternFill;let u=!1;if(c){const f=l.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(t),a.save(),a.fillStyle=l.getPattern(a,this,Jn(a),Be.FILL,t),f){const p=new Path2D;p.addPath(e,a.getTransform().invertSelf().multiplySelf(f)),e=p}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(a.fill(e,"evenodd"),this.pendingEOFill=!1):a.fill(e)),this.dependencyTracker?.recordDependencies(t,Ln.fill),u&&(a.restore(),this.dependencyTracker?.restore(t)),i&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Ln.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=ZR}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=ox}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;e!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",t),a.recordCloseMarker(t)}if(e!==void 0){const a=new Path2D,l=i.getTransform().invertSelf();for(const{transform:c,x:u,y:d,fontSize:f,path:p}of e)p&&a.addPath(p,new DOMMatrix(c).preMultiplySelf(l).translate(u,d).scale(f,-f));i.clip(a)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const a=this.commonObjs.get(e),l=this.current;if(!a)throw new Error(`Can't find font for ${e}`);if(l.fontMatrix=a.fontMatrix||Bf,(l.fontMatrix[0]===0||l.fontMatrix[3]===0)&&At("Invalid font matrix for font "+e),i<0?(i=-i,l.fontDirection=-1):l.fontDirection=1,this.current.font=a,this.current.fontSize=i,a.isType3Font)return;const c=a.loadedName||"sans-serif",u=a.systemFontInfo?.css||`"${c}", ${a.fallbackName}`;let d="normal";a.black?d="900":a.bold&&(d="bold");const f=a.italic?"italic":"normal";let p=i;i<tx?p=tx:i>ex&&(p=ex),this.current.fontSizeScale=i/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,i){const a=new Path2D;return a.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),a}paintChar(t,e,i,a,l,c){const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,g=d.fontSize/d.fontSizeScale,b=p&je.FILL_STROKE_MASK,x=!!(p&je.ADD_TO_PATH_FLAG),w=d.patternFill&&!f.missingFile,S=d.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||x||w||S)&&!f.missingFile&&(E=f.getPathGenerator(this.commonObjs,e)),E&&(f.disableFontFace||w||S)){u.save(),u.translate(i,a),u.scale(g,-g),this.dependencyTracker?.recordCharacterBBox(t,u,f);let T;if(b===je.FILL||b===je.FILL_STROKE)if(l){T=u.getTransform(),u.setTransform(...l);const M=this.#i(E,T,l);u.fill(M)}else u.fill(E);if(b===je.STROKE||b===je.FILL_STROKE)if(c){T||=u.getTransform(),u.setTransform(...c);const{a:M,b:_,c:N,d:D}=T,O=nt.inverseTransform(c),L=nt.transform([M,_,N,D,0,0],O);nt.singularValueDecompose2dScale(L,bn),u.lineWidth*=Math.max(bn[0],bn[1])/g,u.stroke(this.#i(E,T,c))}else u.lineWidth/=g,u.stroke(E);u.restore()}else(b===je.FILL||b===je.FILL_STROKE)&&(u.fillText(e,i,a),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,i,a,()=>u.measureText(e))),(b===je.STROKE||b===je.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,g,i,a,()=>u.measureText(e)).recordDependencies(t,Ln.stroke),u.strokeText(e,i,a));x&&((this.pendingTextPaths||=[]).push({transform:se(u),x:i,y:a,fontSize:g,path:E}),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,i,a))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return Et(this,"isFontSubpixelAAEnabled",i)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Ln.showText).resetBBox(t),this.current.textRenderingMode&je.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,a=i.font;if(a.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const l=i.fontSize;if(l===0){this.dependencyTracker?.recordOperation(t);return}const c=this.ctx,u=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,p=i.fontDirection,g=i.textHScale*p,b=e.length,x=a.vertical,w=x?1:-1,S=a.defaultVMetrics,E=l*i.fontMatrix[0],T=i.textRenderingMode===je.FILL&&!a.disableFontFace&&!i.patternFill;c.save(),i.textMatrix&&c.transform(...i.textMatrix),c.translate(i.x,i.y+i.textRise),p>0?c.scale(g,-1):c.scale(g,1);let M,_;if(i.patternFill){c.save();const z=i.fillColor.getPattern(c,this,Jn(c),Be.FILL,t);M=se(c),c.restore(),c.fillStyle=z}if(i.patternStroke){c.save();const z=i.strokeColor.getPattern(c,this,Jn(c),Be.STROKE,t);_=se(c),c.restore(),c.strokeStyle=z}let N=i.lineWidth;const D=i.textMatrixScale;if(D===0||N===0){const z=i.textRenderingMode&je.FILL_STROKE_MASK;(z===je.STROKE||z===je.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=D;if(u!==1&&(c.scale(u,u),N/=u),c.lineWidth=N,a.isInvalidPDFjsFont){const z=[];let X=0;for(const J of e)z.push(J.unicode),X+=J.width;const W=z.join("");if(c.fillText(W,0,0),this.dependencyTracker!==null){const J=c.measureText(W);this.dependencyTracker.recordBBox(t,this.ctx,-J.actualBoundingBoxLeft,J.actualBoundingBoxRight,-J.actualBoundingBoxAscent,J.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=X*E*g,c.restore(),this.compose();return}let O=0,L;for(L=0;L<b;++L){const z=e[L];if(typeof z=="number"){O+=w*z*l/1e3;continue}let X=!1;const W=(z.isSpace?f:0)+d,J=z.fontChar,ot=z.accent;let dt,st,ft=z.width;if(x){const Q=z.vmetric||S,rt=-(z.vmetric?Q[1]:ft*.5)*E,gt=Q[2]*E;ft=Q?-Q[0]:ft,dt=rt/u,st=(O+gt)/u}else dt=O/u,st=0;let j;if(a.remeasure&&ft>0){j=c.measureText(J);const Q=j.width*1e3/l*u;if(ft<Q&&this.isFontSubpixelAAEnabled){const rt=ft/Q;X=!0,c.save(),c.scale(rt,1),dt/=rt}else ft!==Q&&(dt+=(ft-Q)/2e3*l/u)}if(this.contentVisible&&(z.isInFont||a.missingFile)){if(T&&!ot)c.fillText(J,dt,st),this.dependencyTracker?.recordCharacterBBox(t,c,j?{bbox:null}:a,l/u,dt,st,()=>j??c.measureText(J));else if(this.paintChar(t,J,dt,st,M,_),ot){const Q=dt+l*ot.offset.x/u,rt=st-l*ot.offset.y/u;this.paintChar(t,ot.fontChar,Q,rt,M,_)}}const I=x?ft*E-W*p:ft*E+W*p;O+=I,X&&c.restore()}x?i.y-=O:i.x+=O*g,c.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,a=this.current,l=a.font,c=a.fontSize,u=a.fontDirection,d=l.vertical?1:-1,f=a.charSpacing,p=a.wordSpacing,g=a.textHScale*u,b=a.fontMatrix||Bf,x=e.length,w=a.textRenderingMode===je.INVISIBLE;let S,E,T,M;if(w||c===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),a.textMatrix&&i.transform(...a.textMatrix),i.translate(a.x,a.y+a.textRise),i.scale(g,u);const _=this.dependencyTracker;for(this.dependencyTracker=_?new Jc(_,t):null,S=0;S<x;++S){if(E=e[S],typeof E=="number"){M=d*E*c/1e3,this.ctx.translate(M,0),a.x+=M*g;continue}const N=(E.isSpace?p:0)+f,D=l.charProcOperatorList[E.operatorListId];D?this.contentVisible&&(this.save(),i.scale(c,c),i.transform(...b),this.executeOperatorList(D),this.restore()):At(`Type3 character "${E.operatorListId}" is not available.`);const O=[E.width,0];nt.applyTransform(O,b),T=O[0]*c+N,i.translate(T,0),a.x+=T*g}i.restore(),_&&(this.dependencyTracker=_)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,a,l,c,u){const d=new Path2D;d.rect(a,l,c-a,u-l),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,a,c,l,u).recordClipBox(t,this.ctx,a,c,l,u),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const a=this.baseTransform||se(this.ctx),l={createCanvasGraphics:(c,u)=>new $a(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Jc(this.dependencyTracker,u,!0):null)};i=new Xp(e,this.ctx,l,a)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=qR(this.getObject(t,e)),this.cachedPatterns.set(e,a)),i&&(a.matrix=i),a}shadingFill(t,e){if(!this.contentVisible)return;const i=this.ctx;this.save(t);const a=this._getPattern(t,e);i.fillStyle=a.getPattern(i,this,Jn(i),Be.SHADING,t);const l=Jn(i);if(l){const{width:c,height:u}=i.canvas,d=qa.slice();nt.axialAlignedBoundingBox([0,0,c,u],l,d);const[f,p,g,b]=d;this.ctx.fillRect(f,p,g-f,b-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Ln.transform).recordDependencies(t,Ln.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Wt("Should not call beginInlineImage")}beginImageData(){Wt("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=se(this.ctx),i)){nt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[a,l,c,u]=i,d=new Path2D;d.rect(a,l,c-a,u-l),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,a,c,l,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||ou("TODO: Support non-isolated groups."),e.knockout&&At("Knockout groups not supported.");const a=se(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let l=qa.slice();nt.axialAlignedBoundingBox(e.bbox,se(i),l);const c=[0,0,i.canvas.width,i.canvas.height];l=nt.intersect(l,c)||[0,0,0,0];const u=Math.floor(l[0]),d=Math.floor(l[1]),f=Math.max(Math.ceil(l[2])-u,1),p=Math.max(Math.ceil(l[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(g,f,p),x=b.context;x.translate(-u,-d),x.transform(...a);let w=new Path2D;const[S,E,T,M]=e.bbox;if(w.rect(S,E,T-S,M-E),e.matrix){const _=new Path2D;_.addPath(w,new DOMMatrix(e.matrix)),w=_}x.clip(w),e.smask&&this.smaskStack.push({canvas:b.canvas,context:x,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(u,d),i.save()),co(i,x),this.ctx=x,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const l=se(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...l);const c=qa.slice();nt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],l,c),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(t,e,i,a,l,c){if(this.#t(),Nc(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],d=i[3]-i[1];if(c&&this.annotationCanvasMap){a=a.slice(),a[4]-=i[0],a[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=d,nt.singularValueDecompose2dScale(se(this.ctx),bn);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),g=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:b,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(bn[0],0,0,-bn[1],0,d*bn[1]),Nc(this.ctx)}else{Nc(this.ctx),this.endPath(t);const f=new Path2D;f.rect(i[0],i[1],u,d),this.ctx.clip(f)}}this.current=new ix(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...a),this.transform(t,...l)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const a=this.ctx,l=this._createMaskCanvas(t,e),c=l.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(c,l.offsetX,l.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,l.offsetX,l.offsetX+c.width,l.offsetY,l.offsetY+c.height).recordOperation(t),a.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,a=0,l=0,c,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=se(d);d.transform(i,a,l,c,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let g=0,b=u.length;g<b;g+=2){const x=nt.transform(f,[i,a,l,c,u[g],u[g+1]]);d.drawImage(p.canvas,x[4],x[5]),this.dependencyTracker?.recordBBox(t,this.ctx,x[4],x[4]+p.canvas.width,x[5],x[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx,a=this.current.fillColor,l=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Ln.transformAndFill);for(const c of e){const{data:u,width:d,height:f,transform:p}=c,g=this.cachedCanvases.getCanvas("maskCanvas",d,f),b=g.context;b.save();const x=this.getObject(t,u,c);ax(b,x),b.globalCompositeOperation="source-in",b.fillStyle=l?a.getPattern(b,this,Jn(i),Be.FILL,t):a,b.fillRect(0,0,d,f),b.restore(),i.save(),i.transform(...p),i.scale(1,-1),Rc(i,g.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,d,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){At("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,a,l){if(!this.contentVisible)return;const c=this.getObject(t,e);if(!c){At("Dependent image isn't ready yet");return}const u=c.width,d=c.height,f=[];for(let p=0,g=l.length;p<g;p+=2)f.push({transform:[i,0,0,a,l[p],l[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,c,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,l=this.cachedCanvases.getCanvas("inlineImage",i,a),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const i=e.width,a=e.height,l=this.ctx;this.save(t);const{filter:c}=l;c!=="none"&&c!==""&&(l.filter="none"),l.scale(1/i,-1/a);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",i,a).context;sx(p,e),u=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(u,Jn(l));l.imageSmoothingEnabled=rx(se(l),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,l,0,i,-a,0).recordDependencies(t,Ln.imageXObject).recordOperation(t),Rc(l,d.img,0,0,d.paintWidth,d.paintHeight,0,-a,i,a),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){if(!this.contentVisible)return;const a=this.ctx;let l;if(e.bitmap)l=e.bitmap;else{const c=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",c,u).context;sx(f,e),l=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const c of i)a.save(),a.transform(...c.transform),a.scale(1,-1),Rc(a,l,c.x,c.y,c.w,c.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Ln.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const l=this.ctx;this.pendingClip?(a||(this.pendingClip===ox?l.clip(e,"evenodd"):l.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=se(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:l}=this.ctx.getTransform();let c,u;if(i===0&&a===0){const d=Math.abs(e),f=Math.abs(l);if(d===f)if(t===0)c=u=1/d;else{const p=d*t;c=u=p<1?1/p:1}else if(t===0)c=1/d,u=1/f;else{const p=d*t,g=f*t;c=p<1?1/p:1,u=g<1?1/g:1}}else{const d=Math.abs(e*l-i*a),f=Math.hypot(e,i),p=Math.hypot(a,l);if(t===0)c=p/d,u=f/d;else{const g=t*d;c=p>g?p/g:1,u=f>g?f/g:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:a}}=this,[l,c]=this.getScaleForStroking();if(l===c){i.lineWidth=(a||1)*l,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(l,c),rf.a=1/l,rf.d=1/c;const d=new Path2D;if(d.addPath(t,rf),u.length>0){const f=Math.max(l,c);i.setLineDash(u.map(p=>p/f)),i.lineDashOffset/=f}i.lineWidth=a||1,i.stroke(d),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const r in ir)$a.prototype[r]!==void 0&&($a.prototype[ir[r]]=$a.prototype[r]);class Ka{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,i={};let a=0;for(const f of Ka.strings){const p=e.encode(t[f]);i[f]=p,a+=4+p.length}const l=new ArrayBuffer(a),c=new Uint8Array(l),u=new DataView(l);let d=0;for(const f of Ka.strings){const p=i[f],g=p.length;u.setUint32(d,g),c.set(p,d+4),d+=4+g}return Ot(d===l.byteLength,"CssFontInfo.write: Buffer overflow"),l}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Ot(t<Ka.strings.length,"Invalid string index");let e=0;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Wa{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,i={};let a=0;for(const b of Wa.strings){const x=e.encode(t[b]);i[b]=x,a+=4+x.length}a+=4;let l,c,u=1+a;t.style&&(l=e.encode(t.style.style),c=e.encode(t.style.weight),u+=4+l.length+4+c.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let g=0;p.setUint8(g++,t.guessFallback?1:0),p.setUint32(g,0),g+=4,a=0;for(const b of Wa.strings){const x=i[b],w=x.length;a+=4+w,p.setUint32(g,w),f.set(x,g+4),g+=4+w}return p.setUint32(g-a-4,a),t.style&&(p.setUint32(g,l.length),f.set(l,g+4),g+=4+l.length,p.setUint32(g,c.length),f.set(c,g+4),g+=4+c.length),Ot(g<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(g)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Ot(t<Wa.strings.length,"Invalid string index");let e=5;for(let a=0;a<t;a++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),i=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const a=this.#e.getUint32(t),l=this.#i.decode(new Uint8Array(this.#t,t+4,a));return{style:i,weight:l}}}class Yt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#r=this.#n+1+6;#s;#a;#o;constructor({data:t,extra:e}){this.#s=t,this.#a=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){Ot(t<Yt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,a=this.#o.getUint8(e)>>i&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return Ot(t<Yt.numbers.length,"Invalid number index"),this.#o.getFloat64(Yt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Yt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let a=0;a<4;a++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=Yt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let a=0;a<6;a++)i.push(this.#o.getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=Yt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let a=0;a<3;a++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}#d(t){Ot(t<Yt.strings.length,"Invalid string index");let e=Yt.#r+4;for(let l=0;l<t;l++)e+=this.#o.getUint32(e)+4;const i=this.#o.getUint32(e),a=new Uint8Array(i);return a.set(new Uint8Array(this.#s,e+4,i)),this.#a.decode(a)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=Yt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);t+=4+a;const l=this.#o.getUint32(t);if(l!==0)return new Uint8Array(this.#s,t+4,l)}clearData(){let t=Yt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);t+=4+a;const l=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,l).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Yt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);if(a===0)return null;const l=new Uint8Array(a);return l.set(new Uint8Array(this.#s,t+4,a)),new Ka(l.buffer)}get systemFontInfo(){let t=Yt.#r;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#s,t+4,i)),new Wa(a.buffer)}static write(t){const e=t.systemFontInfo?Wa.write(t.systemFontInfo):null,i=t.cssFontInfo?Ka.write(t.cssFontInfo):null,a=new TextEncoder,l={};let c=0;for(const S of Yt.strings)l[S]=a.encode(t[S]),c+=4+l[S].length;const u=Yt.#r+4+c+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let g=0;const b=Yt.bools.length;let x=0,w=0;for(let S=0;S<b;S++){const E=t[Yt.bools[S]];x|=(E===void 0?0:E?2:1)<<w,w+=2,(w===8||S===b-1)&&(p.setUint8(g++,x),x=0,w=0)}Ot(g===Yt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const S of Yt.numbers)p.setFloat64(g,t[S]),g+=8;if(Ot(g===Yt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(g++,4);for(const S of t.bbox)p.setInt16(g,S,!0),g+=2}else p.setUint8(g++,0),g+=8;if(Ot(g===Yt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(g++,6);for(const S of t.fontMatrix)p.setFloat64(g,S,!0),g+=8}else p.setUint8(g++,0),g+=48;if(Ot(g===Yt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(g++,1);for(const S of t.defaultVMetrics)p.setInt16(g,S,!0),g+=2}else p.setUint8(g++,0),g+=6;Ot(g===Yt.#r,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(Yt.#r,0),g+=4;for(const S of Yt.strings){const E=l[S],T=E.length;p.setUint32(g,T),f.set(E,g+4),g+=4+T}if(p.setUint32(Yt.#r,g-Yt.#r-4),!e)p.setUint32(g,0),g+=4;else{const S=e.byteLength;p.setUint32(g,S),Ot(g+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),g+4),g+=4+S}if(!i)p.setUint32(g,0),g+=4;else{const S=i.byteLength;p.setUint32(g,S),Ot(g+4+S<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),g+4),g+=4+S}return t.data===void 0?(p.setUint32(g,0),g+=4):(p.setUint32(g,t.data.length),f.set(t.data,g+4),g+=4+t.data.length),Ot(g<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(g)}}class ls{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class JR{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const ja=Symbol("INTERNAL");class tN{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:i,usage:a,rbGroups:l}){this.#t=!!(t&gn.DISPLAY),this.#e=!!(t&gn.PRINT),this.name=e,this.intent=i,this.usage=a,this.rbGroups=l}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==ja&&Wt("Internal method `_setVisible` called."),this.#i=i,this.#n=e}}class eN{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=gn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const i of t.groups)this.#e.set(i.id,new tN(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(ja,!1);for(const i of t.on)this.#e.get(i)._setVisible(ja,!0);for(const i of t.off)this.#e.get(i)._setVisible(ja,!1);this.#i=this.getHash()}}#r(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const l=t[a];let c;if(Array.isArray(l))c=this.#r(l);else if(this.#e.has(l))c=this.#e.get(l).visible;else return At(`Optional content group not found: ${l}`),!0;switch(i){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return ou("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(At(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#r(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return At(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return At(`Unknown optional content policy ${t.policy}.`),!0}return At(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const a=this.#e.get(t);if(!a){At(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const l of a.rbGroups)for(const c of l)c!==t&&this.#e.get(c)?._setVisible(ja,!1,!0);a._setVisible(ja,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const l=this.#e.get(a);if(l)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!l.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new TA;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class nN{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Ot(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:l,progressiveDone:c,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,l?.length>0){const d=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(i),!0)});Ot(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ot(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new iN(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new sN(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class iN{constructor(t,e,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=cu(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class sN{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function aN(r){let t=!0,e=i("filename\\*","i").exec(r);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),l(p)}if(e=c(r),e){const p=f(e);return l(p)}if(e=i("filename","i").exec(r),e){e=e[1];let p=u(e);return p=f(p),l(p)}function i(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function a(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const b=new TextDecoder(p,{fatal:!0}),x=$o(g);g=b.decode(x),t=!1}catch{}}return g}function l(p){return t&&/[\x80-\xff]/.test(p)&&(p=a("utf-8",p),t&&(p=a("iso-8859-1",p))),p}function c(p){const g=[];let b;const x=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=x.exec(p))!==null;){let[,S,E,T]=b;if(S=parseInt(S,10),S in g){if(S===0)break;continue}g[S]=[E,T]}const w=[];for(let S=0;S<g.length&&S in g;++S){let[E,T]=g[S];T=u(T),E&&(T=unescape(T),S===0&&(T=d(T))),w.push(T)}return w.join("")}function u(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let b=0;b<g.length;++b){const x=g[b].indexOf('"');x!==-1&&(g[b]=g[b].slice(0,x),g.length=b+1),g[b]=g[b].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function d(p){const g=p.indexOf("'");if(g===-1)return p;const b=p.slice(0,g),w=p.slice(g+1).replace(/^[^']*'/,"");return a(b,w)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,b,x,w){if(x==="q"||x==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,E){return String.fromCharCode(parseInt(E,16))}),a(b,w);try{w=atob(w)}catch{}return a(b,w)})}return""}function LA(r,t){const e=new Headers;if(!r||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function uu(r){return URL.parse(r)?.origin??null}function kA({responseHeaders:r,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(r.get("Content-Length"),10);return!Number.isInteger(l)||(a.suggestedLength=l,l<=2*e)||i||!t||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function OA(r){const t=r.get("Content-Disposition");if(t){let e=aN(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(cu(e))return e}return null}function Jo(r,t){return new Po(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r,r===404||r===0&&t.startsWith("file:"))}function PA(r){return r===200||r===206}function jA(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function BA(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(At(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class rN{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=LA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ot(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new oN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new lN(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class oN{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),a=e.url;fetch(a,jA(i,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=uu(l.url),!PA(l.status))throw Jo(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:u,suggestedLength:d}=kA({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=OA(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ri("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:BA(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class lN{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${i-1}`);const c=a.url;fetch(c,jA(l,this._withCredentials,this._abortController)).then(u=>{const d=uu(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!PA(u.status))throw Jo(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:BA(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const of=200,lf=206;function cN(r){const t=r.response;return typeof t!="string"?t:$o(t).buffer}class uN{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=LA(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=lf):a.expectedStatus=of,e.responseType="arraybuffer",Ot(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){const i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){i.onError(a.status);return}const l=a.status||of;if(!(l===of&&i.expectedStatus===lf)&&l!==i.expectedStatus){i.onError(a.status);return}const u=cN(a);if(l===lf){const d=a.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?i.onDone({begin:parseInt(f[1],10),chunk:u}):(At('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class hN{constructor(t){this._source=t,this._manager=new uN(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ot(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dN(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new fN(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class dN{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=uu(e.responseURL);const i=e.getAllResponseHeaders(),a=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=kA({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=OA(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Jo(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class fN{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=uu(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Jo(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const pN=/^[a-z][a-z0-9\-+.]+:/i;function mN(r){if(pN.test(r))return new URL(r);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(r))}class gN{constructor(t){this.source=t,this.url=mN(t.url),Ot(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ot(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new yN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new bN(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class yN{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Jo(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ri("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class bN{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const uo=Symbol("INITIAL_DATA");class zA{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:uo}}get(t,e=null){if(e){const a=this.#e(t);return a.promise.then(()=>e(a.data)),null}const i=this.#t[t];if(!i||i.data===uo)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==uo}delete(t){const e=this.#t[t];return!e||e.data===uo?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==uo&&(yield[t,e])}}}const vN=1e5,lx=30;let Bo=class kn{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#r=null;#s=null;#a=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#E=new WeakMap;static#w=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=i.scale*qn.pixelRatio,this.#d=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:l,pageX:c,pageY:u}=i.rawDims;this.#y=[1,0,0,-1,-c,u+l],this.#o=a,this.#a=l,kn.#D(),us(e,i),this.#t.promise.finally(()=>{kn.#x.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Re.platform;return Et(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#r??=e.lang,Object.assign(this.#f,e.styles),this.#_(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),kn.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*qn.pixelRatio,a=t.rotation;if(a!==this.#d&&(e?.(),this.#d=a,us(this.#l,{rotation:a})),i!==this.#h){e?.(),this.#h=i;const l={div:null,properties:null,ctx:kn.#R(this.#r)};for(const c of this.#u)l.properties=this.#m.get(c),l.div=c,this.#T(l)}}cancel(){const t=new Ri("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#_(t){if(this.#i)return;this.#s.ctx??=kn.#R(this.#r);const e=this.#u,i=this.#g;for(const a of t){if(e.length>vN){At("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const l=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),a.id&&this.#e.setAttribute("id",`${a.id}`),l.append(this.#e)}else a.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(a.str),this.#S(a)}}#S(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const a=nt.transform(this.#y,t.transform);let l=Math.atan2(a[1],a[0]);const c=this.#f[t.fontName];c.vertical&&(l+=Math.PI/2);let u=this.#n&&c.fontSubstitution||c.fontFamily;u=kn.fontFamilyMap.get(u)||u;const d=Math.hypot(a[2],a[3]),f=d*kn.#B(u,c,this.#r);let p,g;l===0?(p=a[4],g=a[5]-f):(p=a[4]+f*Math.sin(l),g=a[5]-f*Math.cos(l));const b="calc(var(--total-scale-factor) *",x=e.style;this.#e===this.#l?(x.left=`${(100*p/this.#o).toFixed(2)}%`,x.top=`${(100*g/this.#a).toFixed(2)}%`):(x.left=`${b}${p.toFixed(2)}px)`,x.top=`${b}${g.toFixed(2)}px)`),x.fontSize=`${b}${(kn.#w*d).toFixed(2)}px)`,x.fontFamily=u,i.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(i.angle=l*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const S=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);S!==E&&Math.max(S,E)/Math.min(S,E)>1.5&&(w=!0)}if(w&&(i.canvasWidth=c.vertical?t.height:t.width),this.#m.set(e,i),this.#s.div=e,this.#s.properties=i,this.#T(this.#s),i.hasText&&this.#e.append(e),i.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#e.append(S)}}#T(t){const{div:e,properties:i,ctx:a}=t,{style:l}=e;let c="";if(kn.#w>1&&(c=`scale(${1/kn.#w})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=l,{canvasWidth:d,fontSize:f}=i;kn.#M(a,f*this.#h,u);const{width:p}=a.measureText(e.textContent);p>0&&(c=`scaleX(${d*this.#h/p}) ${c}`)}i.angle!==0&&(c=`rotate(${i.angle}deg) ${c}`),c.length>0&&(l.transform=c)}static cleanup(){if(!(this.#x.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#R(t=null){let e=this.#b.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#E.set(e,{size:0,family:""})}return e}static#M(t,e,i){const a=this.#E.get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)}static#D(){if(this.#w!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#B(t,e,i){const a=this.#v.get(t);if(a)return a;const l=this.#R(i);l.canvas.width=l.canvas.height=lx,this.#M(l,lx,t);const c=l.measureText(""),u=c.fontBoundingBoxAscent,d=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let f=.8;return u?f=u/(u+d):(Re.platform.isFirefox&&At("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#v.set(t,f),f}};const xN=100;function Yp(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new $p,{docId:e}=t,i=r.url?MR(r.url):null,a=r.data?DR(r.data):null,l=r.httpHeaders||null,c=r.withCredentials===!0,u=r.password??null,d=r.range instanceof Kp?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let p=r.worker instanceof sr?r.worker:null;const g=r.verbosity,b=typeof r.docBaseUrl=="string"&&!Wo(r.docBaseUrl)?r.docBaseUrl:null,x=Cc(r.cMapUrl),w=r.cMapPacked!==!1,S=r.CMapReaderFactory||(He?jR:$v),E=Cc(r.iccUrl),T=Cc(r.standardFontDataUrl),M=r.StandardFontDataFactory||(He?BR:Kv),_=Cc(r.wasmUrl),N=r.WasmFactory||(He?zR:Wv),D=r.stopAtErrors!==!0,O=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,L=r.isEvalSupported!==!1,z=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!He,X=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!He&&(Re.platform.isFirefox||!globalThis.chrome),W=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,J=typeof r.disableFontFace=="boolean"?r.disableFontFace:He,ot=r.fontExtraProperties===!0,dt=r.enableXfa===!0,st=r.ownerDocument||globalThis.document,ft=r.disableRange===!0,j=r.disableStream===!0,I=r.disableAutoFetch===!0,Q=r.pdfBug===!0,rt=r.CanvasFactory||(He?PR:LR),gt=r.FilterFactory||(He?OR:kR),k=r.enableHWA===!0,q=r.useWasm!==!1,Z=d?d.length:r.length??NaN,tt=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!He&&!J,lt=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(S===$v&&M===Kv&&N===Wv&&x&&T&&_&&go(x,document.baseURI)&&go(T,document.baseURI)&&go(_,document.baseURI)),pt=null;cR(g);const ct={canvasFactory:new rt({ownerDocument:st,enableHWA:k}),filterFactory:new gt({docId:e,ownerDocument:st}),cMapReaderFactory:lt?null:new S({baseUrl:x,isCompressed:w}),standardFontDataFactory:lt?null:new M({baseUrl:T}),wasmFactory:lt?null:new N({baseUrl:_})};p||(p=sr.create({verbosity:g,port:ls.workerPort}),t._worker=p);const Qt={docId:e,apiVersion:"5.4.296",data:a,password:u,disableAutoFetch:I,rangeChunkSize:f,length:Z,docBaseUrl:b,enableXfa:dt,evaluatorOptions:{maxImageSize:O,disableFontFace:J,ignoreErrors:D,isEvalSupported:L,isOffscreenCanvasSupported:z,isImageDecoderSupported:X,canvasMaxAreaInBytes:W,fontExtraProperties:ot,useSystemFonts:tt,useWasm:q,useWorkerFetch:lt,cMapUrl:x,iccUrl:E,standardFontDataUrl:T,wasmUrl:_}},Ct={ownerDocument:st,pdfBug:Q,styleElement:pt,loadingParams:{disableAutoFetch:I,enableXfa:dt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ut=p.messageHandler.sendWithPromise("GetDocRequest",Qt,a?[a.buffer]:null);let Xe;if(d)Xe=new nN(d,{disableRange:ft,disableStream:j});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");const rn=go(i)?rN:He?gN:hN;Xe=new rn({url:i,length:Z,httpHeaders:l,withCredentials:c,rangeChunkSize:f,disableRange:ft,disableStream:j})}return Ut.then(rn=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Pt=new yo(e,rn,p.port),jt=new wN(Pt,t,Xe,Ct,ct,k);t._transport=jt,Pt.send("Ready",null)})}).catch(t._capability.reject),t}class $p{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${$p.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Kp=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#r=[];constructor(t,e,i=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a}addRangeListener(t){this.#r.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#r)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#n)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Wt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class AN{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Et(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class SN{#t=!1;constructor(t,e,i,a=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new Uv:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new zA,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:l=!1}={}){return new Ko({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Et(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:a="display",annotationMode:l=ai.ENABLE,transform:c=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:b=!1,recordOperations:x=!1,operationsFilter:w=null}){this._stats?.time("Overall");const S=this._transport.getRenderingIntent(a,l,g,b),{renderingIntent:E,cacheKey:T}=S;this.#t=!1,d||=this._transport.getOptionalContentConfig(E);let M=this._intentStates.get(T);M||(M=Object.create(null),this._intentStates.set(T,M)),M.streamReaderCancelTimeout&&(clearTimeout(M.streamReaderCancelTimeout),M.streamReaderCancelTimeout=null);const _=!!(E&gn.PRINT);M.displayReadyCapability||(M.displayReadyCapability=Promise.withResolvers(),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(S));const N=!!(this._pdfBug&&globalThis.StepperManager?.enabled),D=!this.recordedBBoxes&&(x||N),O=X=>{if(M.renderTasks.delete(L),D){const W=L.gfx?.dependencyTracker.take();W&&(L.stepper&&L.stepper.setOperatorBBoxes(W,L.gfx.dependencyTracker.takeDebugMetadata()),x&&(this.recordedBBoxes=W))}_&&(this.#t=!0),this.#e(),X?(L.capability.reject(X),this._abortOperatorList({intentState:M,reason:X instanceof Error?X:new Error(X)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new Xa({callback:O,params:{canvas:e,canvasContext:t,dependencyTracker:D?new IR(e,M.operatorList.length,N):null,viewport:i,transform:c,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:M.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:w});(M.renderTasks||=new Set).add(L);const z=L.task;return Promise.all([M.displayReadyCapability.promise,d]).then(([X,W])=>{if(this.destroyed){O();return}if(this._stats?.time("Rendering"),!(W.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:X,optionalContentConfig:W}),L.operatorListChanged()}).catch(O),z}getOperatorList({intent:t="display",annotationMode:e=ai.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){function l(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(t,e,i,a,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=l,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>jo.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function l(){c.read().then(function({value:d,done:f}){if(f){i(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),l()},a)}const c=e.getReader(),u={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new Uv),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:l,transfer:c}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:a},c).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:g,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof lu){let a=xN;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new Ri(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,l]of this._intentStates)if(l===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var os,Vn,Mi,zs,tu,Fs,Is,qe,Hc,FA,IA,bo,Ja,Gc;const ne=class ne{constructor({name:t=null,port:e=null,verbosity:i=uR()}={}){Qn(this,qe);Qn(this,os,Promise.withResolvers());Qn(this,Vn,null);Qn(this,Mi,null);Qn(this,zs,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(ee(ne,Is).has(e))throw new Error("Cannot use more than one PDFWorker per port.");ee(ne,Is).set(e,this),Zn(this,qe,FA).call(this,e)}else Zn(this,qe,IA).call(this)}get promise(){return ee(this,os).promise}get port(){return ee(this,Mi)}get messageHandler(){return ee(this,Vn)}destroy(){this.destroyed=!0,ee(this,zs)?.terminate(),tn(this,zs,null),ee(ne,Is).delete(ee(this,Mi)),tn(this,Mi,null),ee(this,Vn)?.destroy(),tn(this,Vn,null)}static create(t){const e=ee(this,Is).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ne(t)}static get workerSrc(){if(ls.workerSrc)return ls.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Et(this,"_setupFakeWorkerGlobal",(async()=>ee(this,Ja,Gc)?ee(this,Ja,Gc):(await import(this.workerSrc)).WorkerMessageHandler)())}};os=new WeakMap,Vn=new WeakMap,Mi=new WeakMap,zs=new WeakMap,tu=new WeakMap,Fs=new WeakMap,Is=new WeakMap,qe=new WeakSet,Hc=function(){ee(this,os).resolve(),ee(this,Vn).send("configure",{verbosity:this.verbosity})},FA=function(t){tn(this,Mi,t),tn(this,Vn,new yo("main","worker",t)),ee(this,Vn).on("ready",()=>{}),Zn(this,qe,Hc).call(this)},IA=function(){if(ee(ne,Fs)||ee(ne,Ja,Gc)){Zn(this,qe,bo).call(this);return}let{workerSrc:t}=ne;try{ne._isSameOrigin(window.location,t)||(t=ne._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new yo("main","worker",e),a=()=>{l.abort(),i.destroy(),e.terminate(),this.destroyed?ee(this,os).reject(new Error("Worker was destroyed")):Zn(this,qe,bo).call(this)},l=new AbortController;e.addEventListener("error",()=>{ee(this,zs)||a()},{signal:l.signal}),i.on("test",u=>{if(l.abort(),this.destroyed||!u){a();return}tn(this,Vn,i),tn(this,Mi,e),tn(this,zs,e),Zn(this,qe,Hc).call(this)}),i.on("ready",u=>{if(l.abort(),this.destroyed){a();return}try{c()}catch{Zn(this,qe,bo).call(this)}});const c=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};c();return}catch{ou("The worker has been disabled.")}Zn(this,qe,bo).call(this)},bo=function(){ee(ne,Fs)||(At("Setting up fake worker."),tn(ne,Fs,!0)),ne._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){ee(this,os).reject(new Error("Worker was destroyed"));return}const e=new NR;tn(this,Mi,e);const i=`fake${Jy(ne,tu)._++}`,a=new yo(i+"_worker",i,e);t.setup(a,e),tn(this,Vn,new yo(i,i+"_worker",e)),Zn(this,qe,Hc).call(this)}).catch(t=>{ee(this,os).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Ja=new WeakSet,Gc=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Qn(ne,Ja),Qn(ne,tu,0),Qn(ne,Fs,!1),Qn(ne,Is,new WeakMap),He&&(tn(ne,Fs,!0),ls.workerSrc||="./pdf.worker.mjs"),ne._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const a=new URL(e,i);return i.origin===a.origin},ne._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ne.fromPort=t=>{if(vR("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ne.create(t)};let sr=ne;class wN{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#r=null;constructor(t,e,i,a,l,c){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new zA,this.fontLoader=new CR({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=c,this.setupMessageHandler()}#s(t,e=null){const i=this.#t.get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,a),a}get annotationStorage(){return Et(this,"annotationStorage",new Hp)}getRenderingIntent(t,e=ai.ENABLE,i=null,a=!1,l=!1){let c=gn.DISPLAY,u=Ff;switch(t){case"any":c=gn.ANY;break;case"display":break;case"print":c=gn.PRINT;break;default:At(`getRenderingIntent - invalid intent: ${t}`)}const d=c&gn.PRINT&&i instanceof EA?i:this.annotationStorage;switch(e){case ai.DISABLE:c+=gn.ANNOTATIONS_DISABLE;break;case ai.ENABLE:break;case ai.ENABLE_FORMS:c+=gn.ANNOTATIONS_FORMS;break;case ai.ENABLE_STORAGE:c+=gn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:At(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(c+=gn.IS_EDITING),l&&(c+=gn.OPLIST);const{ids:f,hash:p}=d.modifiedIds,g=[c,u.hash,p];return{renderingIntent:c,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Bo.cleanup(),this._networkStream?.cancelAllRequests(new Ri("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{Ot(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},a.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){a.close();return}Ot(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{this._fullReader.cancel(l),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:l,contentLength:c}=this._fullReader;return(!a||!l)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:a,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(i,a)=>{Ot(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(i.begin,i.end);if(!l){a.close();return}a.onPull=()=>{l.read().then(function({value:c,done:u}){if(u){a.close();return}Ot(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{a.error(c)})},a.onCancel=c=>{l.cancel(c),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new AN(i,this))}),t.on("DocException",i=>{e._capability.reject(en(i))}),t.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!e.onPassword)throw en(i);const a=l=>{l instanceof Error?this.#r.reject(l):this.#r.resolve({password:l})};e.onPassword(a,i.code)}catch(a){this.#r.reject(a)}return this.#r.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,l])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in l){const p=l.error;At(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const c=new Yt(l),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new _R(c,u,l.extra,l.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=l;Ot(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,g]of p.objs)if(g?.ref===f)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,l);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,l,c])=>{if(this.destroyed)return;const u=this.#e.get(a);if(!u.objs.has(i)){if(u._intentStates.size===0){c?.bitmap?.close();return}switch(l){case"Image":case"Pattern":u.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&At("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#i.get(e);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#n.set(l.refStr,t);const c=new SN(e,l,this,this._params.pdfBug);return this.#e.set(e,c),c});return this.#i.set(e,a),a}getPageIndex(t){return If(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new eN(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>({info:a[0],metadata:a[1]?new JR(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Bo.cleanup()}}cachedPageNumber(t){if(!If(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class TN{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Xa{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:l,operatorList:c,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:b=null,enableHWA:x=!1,operationsFilter:w=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=g,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new TN(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=x,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Xa.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Xa.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:a,background:l,dependencyTracker:c}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new $a(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,c),this.gfx.beginDrawing({transform:a,viewport:i,transparency:t,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Xa.#e.delete(this._canvas),t||=new lu(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Xa.#e.delete(this._canvas),this.callback())))}}const UA="5.4.296",VA="f56dc8601";class yn{#t=null;#e=null;#i;#n=null;#r=!1;#s=!1;#a=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return Et(this,"_keyboardManager",new Qo([[["Escape","mac+Escape"],yn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yn.prototype._moveToPrevious],[["Home","mac+Home"],yn.prototype._moveToBeginning],[["End","mac+End"],yn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#a=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",yn.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#a&&(t.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,t.append(i),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",vn,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(t.id=`${this.#a.id}_colorpicker_dropdown`);for(const[i,a]of this.#l.highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",a),l.title=i,l.setAttribute("data-l10n-id",yn.#d[i]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=a,l.ariaSelected=a===this.#i,l.addEventListener("click",this.#f.bind(this,a),{signal:e}),t.append(l)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Nt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#m){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#m){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#m){this.#p(t);return}this.#n.lastChild?.focus()}#g(t){yn._keyboardManager.exec(this,t)}#p(t){if(this.#m){this.hideDropdown();return}if(this.#r=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#m){this.#a?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class zo{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,zo.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:i}=this.#e,a=this.#t=document.createElement("input");return a.type="color",a.value=i||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",zo.#n[t]),a.addEventListener("input",()=>{this.#i.updateParams(e,a.value)},{signal:this.#i._signal}),a}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function cx(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function ho(r){return Math.max(0,Math.min(255,255*r))}class ux{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=ho(t),[t,t,t]}static G_HTML([t]){const e=cx(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(ho)}static RGB_HTML(t){return`#${t.map(cx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[ho(1-Math.min(1,t+a)),ho(1-Math.min(1,i+a)),ho(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,l=1-e,c=1-i,u=Math.min(a,l,c);return["CMYK",a,l,c,u]}}class EN{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Wt("Abstract method `_createSVG` called.")}}class Fo extends EN{_createSVG(t){return document.createElementNS(_i,t)}}const CN=9,Gs=new WeakSet,_N=new Date().getTimezoneOffset()*60*1e3;class hx{static create(t){switch(t.data.annotationType){case pe.LINK:return new Wp(t);case pe.TEXT:return new DN(t);case pe.WIDGET:switch(t.data.fieldType){case"Tx":return new RN(t);case"Btn":return t.data.radioButton?new HA(t):t.data.checkBox?new LN(t):new kN(t);case"Ch":return new ON(t);case"Sig":return new NN(t)}return new Ys(t);case pe.POPUP:return new Hf(t);case pe.FREETEXT:return new GA(t);case pe.LINE:return new jN(t);case pe.SQUARE:return new BN(t);case pe.CIRCLE:return new zN(t);case pe.POLYLINE:return new qA(t);case pe.CARET:return new IN(t);case pe.INK:return new Qp(t);case pe.POLYGON:return new FN(t);case pe.HIGHLIGHT:return new XA(t);case pe.UNDERLINE:return new UN(t);case pe.SQUIGGLY:return new VN(t);case pe.STRIKEOUT:return new HN(t);case pe.STAMP:return new YA(t);case pe.FILEATTACHMENT:return new GN(t);default:return new oe(t)}}}class oe{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return oe._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:a}=this.data;let l=-1/0,c=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>c?(c=e[u+1],l=e[u+2]):e[u+1]===c&&(l=Math.max(l,e[u+2]));return[l,c]}if(i?.length>=1){for(const u of i)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>c?(c=u[d+1],l=u[d]):u[d+1]===c&&(l=Math.max(l,u[d]));if(l!==1/0)return[l,c]}return a?[a[2],a[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:l,pageY:c}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-l)/i,t[1]=100*(t[1]-c)/a,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Oo}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${Oo}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:i}=t;e&&this.#n(e);let a=this.#i?.popup||this.popup;!a&&i?.text&&(this._createPopup(i),a=this.#i.popup),a&&(a.updateEdited(t),i?.deleted&&(a.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:d}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-u)/l}%`,e.top=`${100*(c-t[3]+d)/c}%`,a===0?(e.width=`${100*(t[2]-t[0])/l}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(a)}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),!(this instanceof Ys)&&!(this instanceof Wp)&&(l.tabIndex=0);const{style:c}=l;if(c.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof Hf){const{rotation:S}=e;return!e.hasOwnCanvas&&S!==0&&this.setRotation(S,l),l}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const S=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(S>0||E>0){const M=`calc(${S}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;c.borderRadius=M}else if(this instanceof HA){const M=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;c.borderRadius=M}switch(e.borderStyle.style){case Pa.SOLID:c.borderStyle="solid";break;case Pa.DASHED:c.borderStyle="dashed";break;case Pa.BEVELED:At("Unimplemented border style: beveled");break;case Pa.INSET:At("Unimplemented border style: inset");break;case Pa.UNDERLINE:c.borderBottomStyle="solid";break}const T=e.borderColor||null;T?(this.#e=!0,c.borderColor=nt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):c.borderWidth=0}const f=nt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:p,pageHeight:g,pageX:b,pageY:x}=a.rawDims;c.left=`${100*(f[0]-b)/p}%`,c.top=`${100*(f[1]-x)/g}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(c.width=`${100*u/p}%`,c.height=`${100*d/g}%`):this.setRotation(w,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:l,height:c}=this;t%180!==0&&([l,c]=[c,l]),e.style.width=`${100*l/i}%`,e.style.height=`${100*c/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const l=a.detail[e],c=l[0],u=l.slice(1);a.target.style[i]=ux[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:ux[`${c}_rgb`](u)})};return Et(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail))(t[a]||i[a])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,l]of Object.entries(e)){const c=i[a];if(c){const u={detail:{[a]:l},target:t};c(u),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,l]=this.data.rect.map(S=>Math.fround(S));if(t.length===8){const[S,E,T,M]=t.subarray(2,6);if(a===S&&l===E&&e===T&&i===M)return}const{style:c}=this.container;let u;if(this.#e){const{borderColor:S,borderWidth:E}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=a-e,f=l-i,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const b=p.createElement("defs");g.append(b);const x=p.createElement("clipPath"),w=`clippath_${this.data.id}`;x.setAttribute("id",w),x.setAttribute("clipPathUnits","objectBoundingBox"),b.append(x);for(let S=2,E=t.length;S<E;S+=8){const T=t[S],M=t[S+1],_=t[S+2],N=t[S+3],D=p.createElement("rect"),O=(_-e)/d,L=(l-M)/f,z=(T-_)/d,X=(M-N)/f;D.setAttribute("x",O),D.setAttribute("y",L),D.setAttribute("width",z),D.setAttribute("height",X),x.append(D),u?.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${L}" width="${z}" height="${X}"/>`)}this.#e&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let i,a;t?(i={str:t.text},a=t.date):(i=e.contentsObj,a=e.modificationDate);const l=this.#i=new Hf({data:{color:e.color,titleObj:e.titleObj,modificationDate:a,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(l.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Wt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:l,id:c,exportValues:u}of a){if(l===-1||c===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!Gs.has(f)){At(`_getElementsByName - element not allowed: ${c}`);continue}i.push({id:c,exportValue:d,domElement:f})}return i}for(const a of document.getElementsByName(t)){const{exportValue:l}=a,c=a.getAttribute("data-element-id");c!==e&&Gs.has(a)&&i.push({id:c,exportValue:l,domElement:a})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class MN extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class Wp extends oe{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),a=!0):t.attachment?(this.#e(i,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(this.#i(i,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,i=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),i&&(t.title=i)}_bindNamedAction(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),i&&(t.title=i),this.#t()}#e(t,e,i="",a=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,a),!1),this.#t()}#i(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),i&&(t.title=i),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const l=i.get(a);l&&(t[l]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){At('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:a,refs:l,include:c}=e,u=[];if(a.length!==0||l.length!==0){const p=new Set(l);for(const g of a){const b=this._fieldObjects[g]||[];for(const{id:x}of b)p.add(x)}for(const g of Object.values(this._fieldObjects))for(const b of g)p.has(b.id)===c&&u.push(b)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:g}=p;switch(f.push(g),p.type){case"text":{const x=p.defaultValue||"";d.setValue(g,{value:x});break}case"checkbox":case"radiobutton":{const x=p.defaultValue===p.exportValues;d.setValue(g,{value:x});break}case"combobox":case"listbox":{const x=p.defaultValue||"";d.setValue(g,{value:x});break}default:continue}const b=document.querySelector(`[data-element-id="${g}"]`);if(b){if(!Gs.has(b)){At(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class DN extends oe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ys extends oe{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Re.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,l){i.includes("mouse")?t.addEventListener(i,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(i,c=>{if(i==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}l&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c)}})})}_setEventListeners(t,e,i,a){for(const[l,c]of i)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,l,c,a),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":nt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||CN,l=t.style;let c;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(tf*a))||1,g=f/p;c=Math.min(a,d(g/tf))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(a,d(f/tf))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=nt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class RN extends Ys{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=i),l.setValue(c.id,{[a]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let l=a.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=a.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??l,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??l),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Gs.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:g}=this.data,b=!!p&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(i,"value",w.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",w=>{const S=this.data.defaultFieldValue??"";i.value=d.userValue=S,d.formattedValue=null});let x=w=>{const{formattedValue:S}=d;S!=null&&(w.target.value=S),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",S=>{if(d.focused)return;const{target:E}=S;if(b&&(E.type=p,g&&(E.step=g)),d.userValue){const T=d.userValue;if(b)if(p==="time"){const M=new Date(T),_=[M.getHours(),M.getMinutes(),M.getSeconds()];E.value=_.map(N=>N.toString().padStart(2,"0")).join(":")}else E.value=new Date(T-_N).toISOString().split(p==="date"?"T":".",1)[0];else E.value=T}d.lastCommittedValue=E.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const E={value(T){d.userValue=T.detail.value??"",b||t.setValue(e,{value:d.userValue.toString()}),T.target.value=d.userValue},formattedValue(T){const{formattedValue:M}=T.detail;d.formattedValue=M,M!=null&&T.target!==document.activeElement&&(T.target.value=M);const _={formattedValue:M};b&&(_.value=M),t.setValue(e,_)},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{const{charLimit:M}=T.detail,{target:_}=T;if(M===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",M);let N=d.userValue;!N||N.length<=M||(N=N.slice(0,M),_.value=d.userValue=N,t.setValue(e,{value:N}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(E,S)}),i.addEventListener("keydown",S=>{d.commitKey=1;let E=-1;if(S.key==="Escape"?E=0:S.key==="Enter"&&!this.data.multiLine?E=2:S.key==="Tab"&&(d.commitKey=3),E===-1)return;const{value:T}=S.target;d.lastCommittedValue!==T&&(d.lastCommittedValue=T,d.userValue=T,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:E,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const w=x;x=null,i.addEventListener("blur",S=>{if(!d.focused||!S.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:E}=S;let{value:T}=E;if(b){if(T&&p==="time"){const M=T.split(":").map(_=>parseInt(_,10));T=new Date(2e3,0,1,M[0],M[1],M[2]||0).valueOf(),E.step=""}else T.includes("T")||(T=`${T}T00:00`),T=new Date(T).valueOf();E.type="text"}d.userValue=T,d.lastCommittedValue!==T&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:d.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}),w(S)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",S=>{d.lastCommittedValue=null;const{data:E,target:T}=S,{value:M,selectionStart:_,selectionEnd:N}=T;let D=_,O=N;switch(S.inputType){case"deleteWordBackward":{const L=M.substring(0,_).match(/\w*[^\w]*$/);L&&(D-=L[0].length);break}case"deleteWordForward":{const L=M.substring(_).match(/^[^\w]*\w*/);L&&(O+=L[0].length);break}case"deleteContentBackward":_===N&&(D-=1);break;case"deleteContentForward":_===N&&(O+=1);break}S.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:E||"",willCommit:!1,selStart:D,selEnd:O}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(x&&i.addEventListener("blur",x),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class NN extends Ys{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class LN extends Ys{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Gs.add(l),l.setAttribute("data-element-id",i),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=0,l.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const f of this._getElementsByName(u,i)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(i,{value:d})}),l.addEventListener("resetform",c=>{const u=e.defaultFieldValue||"Off";c.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class HA extends Ys{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const c of this._getElementsByName(e.fieldName,i))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(Gs.add(l),l.setAttribute("data-element-id",i),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.tabIndex=0,l.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const f of this._getElementsByName(u,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:d})}),l.addEventListener("resetform",c=>{const u=e.defaultFieldValue;c.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=c===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const b=p&&g.id===i;g.domElement&&(g.domElement.checked=b),t.setValue(g.id,{value:b})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class kN extends Wp{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class ON extends Ys{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");Gs.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const b of a.options)b.selected=b.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,i.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),l=!1),a.append(g)}let c=null;if(l){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),a.prepend(p),c=()=>{p.remove(),a.removeEventListener("input",c),c=null},a.addEventListener("input",c)}const u=p=>{const g=p?"value":"textContent",{options:b,multiple:x}=a;return x?Array.prototype.filter.call(b,w=>w.selected).map(w=>w[g]):b.selectedIndex===-1?null:b[b.selectedIndex][g]};let d=u(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",p=>{const g={value(b){c?.();const x=b.detail.value,w=new Set(Array.isArray(x)?x:[x]);for(const S of a.options)S.selected=w.has(S.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(b){a.multiple=!0},remove(b){const x=a.options,w=b.detail.remove;x[w].selected=!1,a.remove(w),x.length>0&&Array.prototype.findIndex.call(x,E=>E.selected)===-1&&(x[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},clear(b){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(b){const{index:x,displayValue:w,exportValue:S}=b.detail.insert,E=a.children[x],T=document.createElement("option");T.textContent=w,T.value=S,E?E.before(T):a.append(T),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},items(b){const{items:x}=b.detail;for(;a.length!==0;)a.remove(0);for(const w of x){const{displayValue:S,exportValue:E}=w,T=document.createElement("option");T.textContent=S,T.value=E,a.append(T)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(b)}),d=u(!1)},indices(b){const x=new Set(b.detail.indices);for(const w of b.target.options)w.selected=x.has(w.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(g,p)}),a.addEventListener("input",p=>{const g=u(!0),b=u(!1);t.setValue(e,{value:g}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):a.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Hf extends oe{constructor(t){const{data:e,elements:i,parent:a}=t,l=!!a._commentManager;if(super(t,{isRenderable:!l&&oe._hasPopupData(e)}),this.elements=i,l&&oe._hasPopupData(e)){const c=this.popup=this.#t();for(const u of i)u.popup=c}else this.popup=null}#t(){return new PN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),i=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${zp}${a}`).join(",")),this.container}}class PN{#t=null;#e=this.#G.bind(this);#i=this.#F.bind(this);#n=this.#k.bind(this);#r=this.#A.bind(this);#s=null;#a=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#v=null;#b=null;#E=null;#w=null;#x=null;#_=!1;#S=null;#T=null;constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:l,contentsObj:c,richText:u,parent:d,rect:f,parentRect:p,open:g,commentManager:b=null}){this.#a=t,this.#w=a,this.#o=c,this.#E=u,this.#d=d,this.#s=e,this.#b=f,this.#h=p,this.#l=i,this.#t=b,this.#S=i[0],this.#c=Qc.toDateObject(l),this.trigger=i.flatMap(x=>x.getElementsToTriggerPopup()),b?this.renderCommentButton():(this.#R(),this.#a.hidden=!0,g&&this.#A())}#R(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#r,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#M(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#M(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#S.extraPopupElement,i=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},a=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},l=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#m=this.#S.container;for(const c of this.trigger)c.ariaHasPopup="dialog",c.ariaControls="commentPopup",c.addEventListener("keydown",this.#e,{signal:t}),c.addEventListener("click",i,{signal:t}),c.addEventListener("pointerenter",a,{signal:t}),c.addEventListener("pointerleave",l,{signal:t}),c.classList.add("popupTriggerArea")}else{const c=this.#m=document.createElement("button");c.className="annotationCommentButton";const u=this.#S.container;c.style.zIndex=u.style.zIndex+1,c.tabIndex=0,c.ariaHasPopup="dialog",c.ariaControls="commentPopup",c.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#D(),c.addEventListener("keydown",this.#e,{signal:t}),c.addEventListener("click",i,{signal:t}),c.addEventListener("pointerenter",a,{signal:t}),c.addEventListener("pointerleave",l,{signal:t}),u.after(c)}}#D(){if(this.#S.extraPopupElement&&!this.#S.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:i}=this.#m;i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`}#B(){this.#S.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#S.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:a,modificationDate:l}=this.#S.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:a,modificationDate:l}}get elementBeforePopup(){return this.#m}get comment(){return this.#T||=this.#S.commentText,this.#T}set comment(t){t!==this.comment&&(this.#S.commentText=this.#T=t)}get parentBoundingClientRect(){return this.#S.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#m&&(this.#m.classList.toggle("selected",t),this.#m.ariaExpanded=e)}setSelectedCommentButton(t){this.#m.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:t,y:e,height:i}=this.#m.getBoundingClientRect(),{x:a,y:l,width:c,height:u}=this.#S.layer.getBoundingClientRect();return[(t-a)/c,(e+i-l)/u]}set commentPopupPosition(t){this.#v=t}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=this.#v||this.commentButtonPosition.map(f=>f/100),a=this.parentBoundingClientRect,{x:l,y:c,width:u,height:d}=a;this.#t.showDialog(null,this,l+e*u,c+i*d,{...t,parentDimensions:a})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const i=t.style.outlineColor=nt.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#w?.str){const i=document.createElement("span");i.className="title",e.append(i),{dir:i.dir,str:i.textContent}=this.#w}if(t.append(e),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),e.append(i)}Ip({html:this.#L||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#a.append(t)}get#L(){const t=this.#E,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#E.html||null}get#O(){return this.#L?.attributes?.style?.fontSize||0}get#z(){return this.#L?.attributes?.style?.color||null}#P(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:this.#z,fontSize:this.#O?`calc(${this.#O}px * var(--total-scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:a});return i}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#A()}updateEdited({rect:t,popup:e,deleted:i}){if(this.#t){i?(this.remove(),this.#T=null):e&&(e.deleted?this.remove():(this.#B(),this.#T=e.text)),t&&(this.#y=null,this.#M(),this.#D());return}if(i||e?.deleted){this.remove();return}this.#R(),this.#x||={contentsObj:this.#o,richText:this.#E},t&&(this.#u=null),e&&e.text&&(this.#E=this.#P(e.text),this.#c=Qc.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#x&&({contentsObj:this.#o,richText:this.#E}=this.#x,this.#x=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#_=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:l}}}=this.#d;let c=!!this.#h,u=c?this.#h:this.#b;for(const w of this.#l)if(!u||nt.intersect(w.data.rect,u)!==null){u=w.data.rect,c=!0;break}const d=nt.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=c?u[2]-u[0]+5:0,g=d[0]+p,b=d[1];this.#u=[100*(g-a)/e,100*(b-l)/i];const{style:x}=this.#a;x.left=`${this.#u[0]}%`,x.top=`${this.#u[1]}%`}#A(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#k(),this.#a.addEventListener("click",this.#r),this.#a.addEventListener("keydown",this.#e)):(this.#F(),this.#a.removeEventListener("click",this.#r),this.#a.removeEventListener("keydown",this.#e))}#k(){this.#g||this.render(),this.isVisible?this.#f&&this.#a.classList.add("focused"):(this.#C(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#F(){this.#a.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#a.hidden=!0)}maybeShow(){this.#t||(this.#R(),this.#_&&(this.#g||this.#k(),this.#_=!1,this.#a.hidden=!1))}get isVisible(){return this.#t?!1:this.#a.hidden===!1}}class GA extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=xt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class jN extends oe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),l=this.#t=this.svgFactory.createElement("svg:line");return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class BN extends oe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",e-l),c.setAttribute("height",i-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class zN extends oe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,a=this.svgFactory.create(e,i,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",i/2),c.setAttribute("rx",e/2-l/2),c.setAttribute("ry",i/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class qA extends oe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:a},width:l,height:c}=this;if(!e)return this.container;const u=this.svgFactory.create(l,c,!0);let d=[];for(let p=0,g=e.length;p<g;p+=2){const b=e[p]-t[0],x=t[3]-e[p+1];d.push(`${b},${x}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class FN extends qA{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class IN extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Qp extends oe{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?xt.HIGHLIGHT:xt.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:a,popupRef:l}}=this,{transform:c,width:u,height:d}=this.#i(e,t),f=this.svgFactory.create(u,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",a.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let g=0,b=i.length;g<b;g++){const x=this.svgFactory.createElement(this.svgElementName);this.#e.push(x),x.setAttribute("points",i[g].join(",")),p.append(x)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:a}=t,l=this.#t;if(e>=0&&l.setAttribute("stroke-width",e||1),i)for(let c=0,u=this.#e.length;c<u;c++)this.#e[c].setAttribute("points",i[c].join(","));if(a){const{transform:c,width:u,height:d}=this.#i(this.data.rotation,a);l.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class XA extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=xt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class UN extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class VN extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class HN extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class YA extends oe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=xt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class GN extends oe{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:a}=Re.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Zp=class $A{#t=null;#e=null;#i=null;#n=new Map;#r=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:l,viewport:c,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=i,this.#r=u||null,this.#s=f||null,this.#i=p||new Hp,this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#a(t,e,i){const a=t.firstChild||t,l=a.id=`${zp}${e}`,c=await this.#r?.getAriaAttributes(l);if(c)for(const[u,d]of c)a.setAttribute(u,d);i?i.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,a,!1))}async render(t){const{annotations:e}=t,i=this.div;us(i,this.viewport);const a=new Map,l={data:null,layer:i,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Fo,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const u=c.annotationType===pe.POPUP;if(u){const p=a.get(c.id);if(!p)continue;l.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const d=hx.create(l);if(!d.isRenderable)continue;if(!u&&c.popupRef){const p=a.get(c.popupRef);p?p.push(d):a.set(c.popupRef,[d])}const f=d.render();c.hidden&&(f.style.visibility="hidden"),await this.#a(f,c.id,l.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new Fo,parent:this};for(const i of t){i.borderStyle||=$A._defaultBorderStyle,e.data=i;const a=hx.create(e);if(!a.isRenderable)continue;const l=a.render();await this.#a(l,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,us(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:l}=a;l?l.nodeName==="CANVAS"?l.replaceWith(i):l.classList.contains("annotationContent")?l.after(i):l.before(i):a.append(i);const c=this.#n.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,a.id,i),c._hasNoCanvas=!1):c.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:i,rotation:a}=t,l=new MN({data:{id:i,rect:t.getPDFRect(),rotation:a},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),c=l.render();return e.append(c),this.#t?.moveElementInDOM(e,c,c,!1),l.createOrUpdatePopup(),l}static get _defaultBorderStyle(){return Et(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Pa.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Lc=/\r\n?|\n/g;class _e extends ht{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=_e.prototype,e=l=>l.isEmpty(),i=Ni.TRANSLATE_SMALL,a=Ni.TRANSLATE_BIG;return Et(this,"_keyboardManager",new Qo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static _type="freetext";static _editorType=xt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||_e._defaultColor||ht._defaultLineColor,this.#n=t.fontSize||_e._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){ht.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Nt.FREETEXT_SIZE:_e._defaultFontSize=e;break;case Nt.FREETEXT_COLOR:_e._defaultColor=e;break}}updateParams(t,e){switch(t){case Nt.FREETEXT_SIZE:this.#r(e);break;case Nt.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[Nt.FREETEXT_SIZE,_e._defaultFontSize],[Nt.FREETEXT_COLOR,_e._defaultColor||ht._defaultLineColor]]}get propertiesToUpdate(){return[[Nt.FREETEXT_SIZE,this.#n],[Nt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new zo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Nt.FREETEXT_COLOR}#r(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#n)*this.parentScale),this.#n=a,this.#o()},i=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-_e._internalPadding*t,-(_e._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(_e.#c(i)),e=i);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,c=l.style.display,u=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),i=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#a().trimEnd();if(t===e)return;const i=a=>{if(this.#t=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){_e._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[g,b]=this.pageTranslation;let x,w;switch(this.rotation){case 0:x=t+(c[0]-g)/f,w=e+this.height-(c[1]-b)/p;break;case 90:x=t+(c[0]-g)/f,w=e-(c[1]-b)/p,[u,d]=[d,-u];break;case 180:x=t-this.width+(c[0]-g)/f,w=e-(c[1]-b)/p,[u,d]=[-u,-d];break;case 270:x=t+(c[0]-g-this.height*p)/f,w=e+(c[1]-b-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(x*a,w*l,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Lc,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=_e.#h(e.getData("text")||"").replaceAll(Lc,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:u,startOffset:d}=c,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const x=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(Lc,"")),x!==this.editorDiv){let w=f;for(const S of this.editorDiv.childNodes){if(S===x){w=p;continue}w.push(_e.#c(S))}}f.push(u.nodeValue.slice(0,d).replaceAll(Lc,""))}else if(u===this.editorDiv){let x=f,w=0;for(const S of this.editorDiv.childNodes)w++===d&&(x=p),x.push(_e.#c(S))}this.#t=`${f.join(`
`)}${a}${p.join(`
`)}`,this.#l();const g=new Range;let b=Math.sumPrecise(f.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const w=x.nodeValue.length;if(b<=w){g.setStart(x,b),g.setEnd(x,b);break}b-=w}l.removeAllRanges(),l.addRange(g)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=_e._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,i){let a=null;if(t instanceof GA){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:f,id:p,popupRef:g,richText:b,contentsObj:x,creationDate:w,modificationDate:S},textContent:E,textPosition:T,parent:{page:{pageNumber:M}}}=t;if(!E||E.length===0)return null;a=t={annotationType:xt.FREETEXT,color:Array.from(u),fontSize:c,value:E.join(`
`),position:T,pageIndex:M-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:g,comment:x?.str||null,richText:b,creationDate:w,modificationDate:S}}const l=await super.deserialize(t,e,i);return l.#n=t.fontSize,l.color=nt.makeHexColor(...t.color),l.#t=_e.#h(t.value),l._initialData=a,t.comment&&l.setCommentData(t),l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=ht._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(t){const{value:e,fontSize:i,color:a,pageIndex:l}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((c,u)=>c!==a[u])||t.pageIndex!==l}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:i}=e;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,e.replaceChildren();for(const a of this.#t.split(`
`)){const l=document.createElement("div");l.append(a?document.createTextNode(a):document.createElement("br")),e.append(l)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class et{static PRECISION=1e-4;toSVGPath(){Wt("Abstract method `toSVGPath` must be implemented.")}get box(){Wt("Abstract getter `box` must be implemented.")}serialize(t,e){Wt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,a,l,c){c||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)c[u]=e+t[u]*a,c[u+1]=i+t[u+1]*l;return c}static _rescaleAndSwap(t,e,i,a,l,c){c||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)c[u]=e+t[u+1]*a,c[u+1]=i+t[u]*l;return c}static _translate(t,e,i,a){a||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)a[l]=e+t[l],a[l+1]=i+t[l+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,a,l){switch(l){case 90:return[1-e/i,t/a];case 180:return[1-t/i,1-e/a];case 270:return[e/i,1-t/a];default:return[t/i,e/a]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,a,l,c){return[(t+5*i)/6,(e+5*a)/6,(5*i+l)/6,(5*a+c)/6,(i+l)/2,(a+c)/2]}}class Bs{#t;#e=[];#i;#n;#r=[];#s=new Float32Array(18);#a;#o;#c;#l;#d;#h;#f=[];static#g=8;static#p=2;static#u=Bs.#g+Bs.#p;constructor({x:t,y:e},i,a,l,c,u=0){this.#t=i,this.#h=l*a,this.#n=c,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=Bs.#g*a,this.#c=Bs.#u*a,this.#d=a,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[i,a,l,c]=this.#t;return[(this.#a+(t[0]-e[0])/2-i)/l,(this.#o+(t[1]-e[1])/2-a)/c,(this.#a+(e[0]-t[0])/2-i)/l,(this.#o+(e[1]-t[1])/2-a)/c]}add({x:t,y:e}){this.#a=t,this.#o=e;const[i,a,l,c]=this.#t;let[u,d,f,p]=this.#s.subarray(8,12);const g=t-f,b=e-p,x=Math.hypot(g,b);if(x<this.#c)return!1;const w=x-this.#l,S=w/x,E=S*g,T=S*b;let M=u,_=d;u=f,d=p,f+=E,p+=T,this.#f?.push(t,e);const N=-T/w,D=E/w,O=N*this.#h,L=D*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+O,p+L],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-O,p-L],16),isNaN(this.#s[6])?(this.#r.length===0&&(this.#s.set([u+O,d+L],2),this.#r.push(NaN,NaN,NaN,NaN,(u+O-i)/l,(d+L-a)/c),this.#s.set([u-O,d-L],14),this.#e.push(NaN,NaN,NaN,NaN,(u-O-i)/l,(d-L-a)/c)),this.#s.set([M,_,u,d,f,p],6),!this.isEmpty()):(this.#s.set([M,_,u,d,f,p],6),Math.abs(Math.atan2(_-d,M-u)-Math.atan2(T,E))<Math.PI/2?([u,d,f,p]=this.#s.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((u+f)/2-i)/l,((d+p)/2-a)/c),[u,d,M,_]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((M+u)/2-i)/l,((_+d)/2-a)/c),!0):([M,_,u,d,f,p]=this.#s.subarray(0,6),this.#r.push(((M+5*u)/6-i)/l,((_+5*d)/6-a)/c,((5*u+f)/6-i)/l,((5*d+p)/6-a)/c,((u+f)/2-i)/l,((d+p)/2-a)/c),[f,p,u,d,M,_]=this.#s.subarray(12,18),this.#e.push(((M+5*u)/6-i)/l,((_+5*d)/6-a)/c,((5*u+f)/6-i)/l,((5*d+p)/6-a)/c,((u+f)/2-i)/l,((d+p)/2-a)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#r,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);this.#b(i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return this.#v(i),i.join(" ")}#y(){const[t,e,i,a]=this.#t,[l,c,u,d]=this.#m();return`M${(this.#s[2]-t)/i} ${(this.#s[3]-e)/a} L${(this.#s[4]-t)/i} ${(this.#s[5]-e)/a} L${l} ${c} L${u} ${d} L${(this.#s[16]-t)/i} ${(this.#s[17]-e)/a} L${(this.#s[14]-t)/i} ${(this.#s[15]-e)/a} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,i,a,l]=this.#t,c=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[d,f,p,g]=this.#m();t.push(`L${(c[0]-e)/a} ${(c[1]-i)/l} L${d} ${f} L${p} ${g} L${(u[0]-e)/a} ${(u[1]-i)/l}`)}newFreeDrawOutline(t,e,i,a,l,c){return new KA(t,e,i,a,l,c)}getOutlines(){const t=this.#r,e=this.#e,i=this.#s,[a,l,c,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let g=0,b=d.length-2;g<b;g+=2)d[g]=(this.#f[g]-a)/c,d[g+1]=(this.#f[g+1]-l)/u;if(d[d.length-2]=(this.#a-a)/c,d[d.length-1]=(this.#o-l)/u,isNaN(i[6])&&!this.isEmpty())return this.#E(d);const f=new Float32Array(this.#r.length+24+this.#e.length);let p=t.length;for(let g=0;g<p;g+=2){if(isNaN(t[g])){f[g]=f[g+1]=NaN;continue}f[g]=t[g],f[g+1]=t[g+1]}p=this.#x(f,p);for(let g=e.length-6;g>=6;g-=6)for(let b=0;b<6;b+=2){if(isNaN(e[g+b])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[g+b],f[p+1]=e[g+b+1],p+=2}return this.#w(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#E(t){const e=this.#s,[i,a,l,c]=this.#t,[u,d,f,p]=this.#m(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-i)/l,(e[3]-a)/c,NaN,NaN,NaN,NaN,(e[4]-i)/l,(e[5]-a)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-i)/l,(e[17]-a)/c,NaN,NaN,NaN,NaN,(e[14]-i)/l,(e[15]-a)/c],0),this.newFreeDrawOutline(g,t,this.#t,this.#d,this.#i,this.#n)}#w(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#x(t,e){const i=this.#s.subarray(4,6),a=this.#s.subarray(16,18),[l,c,u,d]=this.#t,[f,p,g,b]=this.#m();return t.set([NaN,NaN,NaN,NaN,(i[0]-l)/u,(i[1]-c)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,b,NaN,NaN,NaN,NaN,(a[0]-l)/u,(a[1]-c)/d],e),e+=24}}class KA extends et{#t;#e=new Float32Array(4);#i;#n;#r;#s;#a;constructor(t,e,i,a,l,c){super(),this.#a=t,this.#r=e,this.#t=i,this.#s=a,this.#i=l,this.#n=c,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(c);const[u,d,f,p]=this.#e;for(let g=0,b=t.length;g<b;g+=2)t[g]=(t[g]-u)/f,t[g+1]=(t[g+1]-d)/p;for(let g=0,b=e.length;g<b;g+=2)e[g]=(e[g]-u)/f,e[g+1]=(e[g+1]-d)/p}toSVGPath(){const t=[`M${this.#a[4]} ${this.#a[5]}`];for(let e=6,i=this.#a.length;e<i;e+=6){if(isNaN(this.#a[e])){t.push(`L${this.#a[e+4]} ${this.#a[e+5]}`);continue}t.push(`C${this.#a[e]} ${this.#a[e+1]} ${this.#a[e+2]} ${this.#a[e+3]} ${this.#a[e+4]} ${this.#a[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,a],l){const c=i-t,u=a-e;let d,f;switch(l){case 0:d=et._rescale(this.#a,t,a,c,-u),f=et._rescale(this.#r,t,a,c,-u);break;case 90:d=et._rescaleAndSwap(this.#a,t,e,c,u),f=et._rescaleAndSwap(this.#r,t,e,c,u);break;case 180:d=et._rescale(this.#a,i,e,-c,u),f=et._rescale(this.#r,i,e,-c,u);break;case 270:d=et._rescaleAndSwap(this.#a,i,a,-c,-u),f=et._rescaleAndSwap(this.#r,i,a,-c,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#a;let i=e[4],a=e[5];const l=[i,a,i,a];let c=i,u=a,d=i,f=a;const p=t?Math.max:Math.min,g=new Float32Array(4);for(let x=6,w=e.length;x<w;x+=6){const S=e[x+4],E=e[x+5];isNaN(e[x])?(nt.pointBoundingBox(S,E,l),u>E?(c=S,u=E):u===E&&(c=p(c,S)),f<E?(d=S,f=E):f===E&&(d=p(d,S))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,nt.bezierBoundingBox(i,a,...e.slice(x,x+6),g),nt.rectBoundingBox(g[0],g[1],g[2],g[3],l),u>g[1]?(c=g[0],u=g[1]):u===g[1]&&(c=p(c,g[0])),f<g[3]?(d=g[2],f=g[3]):f===g[3]&&(d=p(d,g[2]))),i=S,a=E}const b=this.#e;b[0]=l[0]-this.#i,b[1]=l[1]-this.#i,b[2]=l[2]-l[0]+2*this.#i,b[3]=l[3]-l[1]+2*this.#i,this.firstPoint=[c,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,i,a,l,c=0){return new Bs(t,e,i,a,l,c)}getNewOutline(t,e){const[i,a,l,c]=this.#e,[u,d,f,p]=this.#t,g=l*f,b=c*p,x=i*f+u,w=a*p+d,S=this.newOutliner({x:this.#r[0]*g+x,y:this.#r[1]*b+w},this.#t,this.#s,t,this.#n,e??this.#i);for(let E=2;E<this.#r.length;E+=2)S.add({x:this.#r[E]*g+x,y:this.#r[E+1]*b+w});return S.getOutlines()}}class Gf{#t;#e;#i;#n=[];#r=[];constructor(t,e=0,i=0,a=!0){const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:S,y:E,width:T,height:M}of t){const _=Math.floor((S-e)/c)*c,N=Math.ceil((S+T+e)/c)*c,D=Math.floor((E-e)/c)*c,O=Math.ceil((E+M+e)/c)*c,L=[_,D,O,!0],z=[N,D,O,!1];this.#n.push(L,z),nt.rectBoundingBox(_,D,N,O,l)}const u=l[2]-l[0]+2*i,d=l[3]-l[1]+2*i,f=l[0]-i,p=l[1]-i;let g=a?-1/0:1/0,b=1/0;const x=this.#n.at(a?-1:-2),w=[x[0],x[2]];for(const S of this.#n){const[E,T,M,_]=S;!_&&a?T<b?(b=T,g=E):T===b&&(g=Math.max(g,E)):_&&!a&&(T<b?(b=T,g=E):T===b&&(g=Math.min(g,E))),S[0]=(E-f)/u,S[1]=(T-p)/d,S[2]=(M-p)/d}this.#t=new Float32Array([f,p,u,d]),this.#e=[g,b],this.#i=w}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],i=new Set;for(const c of t){const[u,d,f]=c;e.push([u,d,c],[u,f,c])}e.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=e.length;c<u;c+=2){const d=e[c][2],f=e[c+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const a=[];let l;for(;i.size>0;){const c=i.values().next().value;let[u,d,f,p,g]=c;i.delete(c);let b=u,x=d;for(l=[u,f],a.push(l);;){let w;if(i.has(p))w=p;else if(i.has(g))w=g;else break;i.delete(w),[u,d,f,p,g]=w,b!==u&&(l.push(b,x,u,x===d?d:f),b=u),x=x===d?f:d}l.push(b,x)}return new qN(a,this.#t,this.#e,this.#i)}#a(t){const e=this.#r;let i=0,a=e.length-1;for(;i<=a;){const l=i+a>>1,c=e[l][0];if(c===t)return l;c<t?i=l+1:a=l-1}return a+1}#o([,t,e]){const i=this.#a(t);this.#r.splice(i,0,[t,e])}#c([,t,e]){const i=this.#a(t);for(let a=i;a<this.#r.length;a++){const[l,c]=this.#r[a];if(l!==t)break;if(l===t&&c===e){this.#r.splice(a,1);return}}for(let a=i-1;a>=0;a--){const[l,c]=this.#r[a];if(l!==t)break;if(l===t&&c===e){this.#r.splice(a,1);return}}}#l(t){const[e,i,a]=t,l=[[e,i,a]],c=this.#a(a);for(let u=0;u<c;u++){const[d,f]=this.#r[u];for(let p=0,g=l.length;p<g;p++){const[,b,x]=l[p];if(!(f<=b||x<=d)){if(b>=d){if(x>f)l[p][1]=f;else{if(g===1)return[];l.splice(p,1),p--,g--}continue}l[p][2]=d,x>f&&l.push([e,f,x])}}}return l}}class qN extends et{#t;#e;constructor(t,e,i,a){super(),this.#e=t,this.#t=e,this.firstPoint=i,this.lastPoint=a}toSVGPath(){const t=[];for(const e of this.#e){let[i,a]=e;t.push(`M${i} ${a}`);for(let l=2;l<e.length;l+=2){const c=e[l],u=e[l+1];c===i?(t.push(`V${u}`),a=u):u===a&&(t.push(`H${c}`),i=c)}t.push("Z")}return t.join(" ")}serialize([t,e,i,a],l){const c=[],u=i-t,d=a-e;for(const f of this.#e){const p=new Array(f.length);for(let g=0;g<f.length;g+=2)p[g]=t+f[g]*u,p[g+1]=a-f[g+1]*d;c.push(p)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class qf extends Bs{newFreeDrawOutline(t,e,i,a,l,c){return new XN(t,e,i,a,l,c)}}class XN extends KA{newOutliner(t,e,i,a,l,c=0){return new qf(t,e,i,a,l,c)}}class me extends ht{#t=null;#e=0;#i;#n=null;#r=null;#s=null;#a=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=xt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=me.prototype;return Et(this,"_keyboardManager",new Qo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||me._defaultColor,this.#m=t.thickness||me._defaultThickness,this.opacity=t.opacity||me._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#b(t),this.#S()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#a=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#S(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new Gf(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Gf(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:a}=this.#s;this.#g=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#l=t;const a=1.5;if(this.#s=t.getNewOutline(this.#m/2+a,.0025),e>=0)this.#d=e,this.#n=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:me.#T(this.#l.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:me.#T(this.#s.box,g),path:{d:this.#s.toSVGPath()}})}const[l,c,u,d]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=u,this.height=d;break;case 90:{const[g,b]=this.parentDimensions;this.x=c,this.y=1-l,this.width=u*b/g,this.height=d*g/b;break}case 180:this.x=1-l,this.y=1-c,this.width=u,this.height=d;break;case 270:{const[g,b]=this.parentDimensions;this.x=1-c,this.y=l,this.width=u*b/g,this.height=d*g/b;break}}const{firstPoint:f}=t;this.#f=[(f[0]-l)/u,(f[1]-c)/d];const{lastPoint:p}=this.#s;this.#g=[(p[0]-l)/u,(p[1]-c)/d]}static initialize(t,e){ht.initialize(t,e),me._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Nt.HIGHLIGHT_COLOR:me._defaultColor=e;break;case Nt.HIGHLIGHT_THICKNESS:me._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Nt.HIGHLIGHT_COLOR:this.#E(e);break;case Nt.HIGHLIGHT_THICKNESS:this.#w(e);break}}static get defaultPropertiesToUpdate(){return[[Nt.HIGHLIGHT_COLOR,me._defaultColor],[Nt.HIGHLIGHT_THICKNESS,me._defaultThickness]]}get propertiesToUpdate(){return[[Nt.HIGHLIGHT_COLOR,this.color||me._defaultColor],[Nt.HIGHLIGHT_THICKNESS,this.#m||me._defaultThickness],[Nt.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#r?.updateColor(this.color),super.onUpdatedColor()}#E(t){const e=(l,c)=>{this.color=l,this.opacity=c,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:e.bind(this,t,me._defaultOpacity),undo:e.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#w(t){const e=this.#m,i=a=>{this.#m=a,this.#x(a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#r=new yn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#D())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#_(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#_():t&&(this.#S(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){this.#h&&(this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#_(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#T([t,e,i,a],l){switch(l){case 90:return[1-e-a,t,a,i];case 180:return[1-t-i,1-e-a,i,a];case 270:return[e,1-t-i,a,i]}return[t,e,i,a]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#h?(t=(t-this.rotation+360)%360,i=me.#T(this.#l.box,t)):i=me.#T([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:me.#T(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),wA(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){me._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#a,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#M(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#D(){return this.#h?this.rotation:0}#B(){if(this.#h)return null;const[t,e]=this.pageDimensions,[i,a]=this.pageTranslation,l=this.#i,c=new Float32Array(l.length*8);let u=0;for(const{x:d,y:f,width:p,height:g}of l){const b=d*t+i,x=(1-f)*e+a;c[u]=c[u+4]=b,c[u+1]=c[u+3]=x,c[u+2]=c[u+6]=b+p*t,c[u+5]=c[u+7]=x-g*e,u+=8}return c}#L(t){return this.#l.serialize(t,this.#D())}static startHighlighting(t,e,{target:i,x:a,y:l}){const{x:c,y:u,width:d,height:f}=i.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),b=x=>{p.abort(),this.#z(t,x)};window.addEventListener("blur",b,{signal:g}),window.addEventListener("pointerup",b,{signal:g}),window.addEventListener("pointerdown",ae,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",vn,{signal:g}),i.addEventListener("pointermove",this.#O.bind(this,t),{signal:g}),this._freeHighlight=new qf({x:a,y:l},[c,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#O(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#z(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let a=null;if(t instanceof XA){const{data:{quadPoints:w,rect:S,rotation:E,id:T,color:M,opacity:_,popupRef:N,richText:D,contentsObj:O,creationDate:L,modificationDate:z},parent:{page:{pageNumber:X}}}=t;a=t={annotationType:xt.HIGHLIGHT,color:Array.from(M),opacity:_,quadPoints:w,boxes:null,pageIndex:X-1,rect:S.slice(0),rotation:E,annotationElementId:T,id:T,deleted:!1,popupRef:N,richText:D,comment:O?.str||null,creationDate:L,modificationDate:z}}else if(t instanceof Qp){const{data:{inkLists:w,rect:S,rotation:E,id:T,color:M,borderStyle:{rawWidth:_},popupRef:N,richText:D,contentsObj:O,creationDate:L,modificationDate:z},parent:{page:{pageNumber:X}}}=t;a=t={annotationType:xt.HIGHLIGHT,color:Array.from(M),thickness:_,inkLists:w,boxes:null,pageIndex:X-1,rect:S.slice(0),rotation:E,annotationElementId:T,id:T,deleted:!1,popupRef:N,richText:D,comment:O?.str||null,creationDate:L,modificationDate:z}}const{color:l,quadPoints:c,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,i);f.color=nt.makeHexColor(...l),f.opacity=d||1,u&&(f.#m=t.thickness),f._initialData=a,t.comment&&f.setCommentData(t);const[p,g]=f.pageDimensions,[b,x]=f.pageTranslation;if(c){const w=f.#i=[];for(let S=0;S<c.length;S+=8)w.push({x:(c[S]-b)/p,y:1-(c[S+1]-x)/g,width:(c[S+2]-c[S])/p,height:(c[S+1]-c[S+5])/g});f.#v(),f.#S(),f.rotate(f.rotation)}else if(u){f.#h=!0;const w=u[0],S={x:w[0]-b,y:g-(w[1]-x)},E=new qf(S,[0,0,p,g],1,f.#m/2,!0,.001);for(let _=0,N=w.length;_<N;_+=2)S.x=w[_]-b,S.y=g-(w[_+1]-x),E.add(S);const{id:T,clipPathId:M}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);f.#b({highlightOutlines:E.getOutlines(),highlightId:T,clipPathId:M}),f.#S(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=ht._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:e,opacity:this.opacity,thickness:this.#m,quadPoints:this.#B(),outlines:this.#L(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#P(i)?null:(i.id=this.annotationElementId,i)}#P(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((i,a)=>i!==e[a])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class WA{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Wt("Not implemented")}}class yt extends ht{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#r=null;static#s=NaN;static#a=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:i}=e.drawLayer.draw(yt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[a,l]of Object.entries(e))i.has(a)?Object.assign(t[a],l):t[a]=l;return t}static getDefaultDrawingOptions(t){Wt("Not implemented")}static get typesMap(){Wt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(yt.#i.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,e[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,e[a]]);return t}_updateProperty(t,e,i){const a=this._drawingOptions,l=a[e],c=u=>{a.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:c.bind(this,i),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,i,a]){const{parentDimensions:[l,c],rotation:u}=this;switch(u){case 90:return[e,1-t,i*(c/l),a*(l/c)];case 180:return[1-t,1-e,i,a];case 270:return[1-e,t,i*(c/l),a*(l/c)];default:return[t,e,i,a]}}#p(){const{x:t,y:e,width:i,height:a,parentDimensions:[l,c],rotation:u}=this;switch(u){case 90:return[1-e,t,i*(l/c),a*(c/l)];case 180:return[1-t,1-e,i,a];case 270:return[e,1-t,i*(l/c),a*(c/l)];default:return[t,e,i,a]}}#u(t){[this.x,this.y,this.width,this.height]=this.#g(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:t,y:e,width:i,height:a,rotation:l,parentRotation:c,parentDimensions:[u,d]}=this;switch((l*4+c)/90){case 1:return[1-e-a,t,a,i];case 2:return[1-t-i,1-e-a,i,a];case 3:return[e,1-t-i,a,i];case 4:return[t,e-i*(u/d),a*(d/u),i*(u/d)];case 5:return[1-e,t,i*(u/d),a*(d/u)];case 6:return[1-t-a*(d/u),1-e,a*(d/u),i*(u/d)];case 7:return[e-i*(u/d),1-t-a*(d/u),i*(u/d),a*(d/u)];case 8:return[t-i,e-a,i,a];case 9:return[1-e,t-i,a,i];case 10:return[1-t,1-e,i,a];case 11:return[e-a,1-t,a,i];case 12:return[t-a*(d/u),e,a*(d/u),i*(u/d)];case 13:return[1-e-i*(u/d),t-a*(d/u),i*(u/d),a*(d/u)];case 14:return[1-t,1-e-i*(u/d),a*(d/u),i*(u/d)];case 15:return[e,1-t,i*(u/d),a*(d/u)];default:return[t,e,i,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,a,l){Wt("Not implemented")}static startDrawing(t,e,i,a){const{target:l,offsetX:c,offsetY:u,pointerId:d,pointerType:f}=a;if(yt.#a&&yt.#a!==f)return;const{viewport:{rotation:p}}=t,{width:g,height:b}=l.getBoundingClientRect(),x=yt.#n=new AbortController,w=t.combinedSignal(x);if(yt.#s||=d,yt.#a??=f,window.addEventListener("pointerup",S=>{yt.#s===S.pointerId?this._endDraw(S):yt.#o?.delete(S.pointerId)},{signal:w}),window.addEventListener("pointercancel",S=>{yt.#s===S.pointerId?this._currentParent.endDrawingSession():yt.#o?.delete(S.pointerId)},{signal:w}),window.addEventListener("pointerdown",S=>{yt.#a===S.pointerType&&((yt.#o||=new Set).add(S.pointerId),yt.#i.isCancellable()&&(yt.#i.removeLastElement(),yt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",vn,{signal:w}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),l.addEventListener("touchmove",S=>{S.timeStamp===yt.#c&&ae(S)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),yt.#i){t.drawLayer.updateProperties(this._currentDrawId,yt.#i.startNew(c,u,g,b,p));return}e.updateUIForDefaultProperties(this),yt.#i=this.createDrawerInstance(c,u,g,b,p),yt.#r=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(yt.#r.toSVGProperties(),yt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(yt.#c=-1,!yt.#i)return;const{offsetX:e,offsetY:i,pointerId:a}=t;if(yt.#s===a){if(yt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,yt.#i.add(e,i)),yt.#c=t.timeStamp,ae(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,yt.#i=null,yt.#r=null,yt.#a=null,yt.#c=NaN),yt.#n&&(yt.#n.abort(),yt.#n=null,yt.#s=NaN,yt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,yt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=yt.#i,a=this._currentDrawId,l=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(a,i.setLastElement(l))},undo:()=>{e.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:Nt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Nt.DRAW_STEP),!yt.#i.isEmpty()){const{pageDimensions:[i,a],scale:l}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:yt.#i.getOutlines(i*l,a*l,l,this._INNER_MARGIN),drawingOptions:yt.#r,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,a,l,c){Wt("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:u}}=e.viewport,d=this.deserializeDraw(c,u,a,l,this._INNER_MARGIN,t),f=await super.deserialize(t,e,i);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,i]=this.pageTranslation,[a,l]=this.pageDimensions;return this.#t.serialize([e,i,a,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class YN{#t=new Float64Array(6);#e;#i;#n;#r;#s;#a="";#o=0;#c=new tl;#l;#d;constructor(t,e,i,a,l,c){this.#l=i,this.#d=a,this.#n=l,this.#r=c,[t,e]=this.#h(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#r=e)}#h(t,e){return et._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[i,a,l,c]=this.#t.subarray(2,6),u=t-l,d=e-c;return Math.hypot(this.#l*u,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(i)?(this.#t.set([l,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,a,l,c,t,e],0),this.#e.push(...et.createBezierPoints(i,a,l,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,a,l){this.#l=i,this.#d=a,this.#n=l,[t,e]=this.#h(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:c,points:this.#s}),this.#t.set(c,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#a="";for(let t=0,e=this.#i.length;t<e;t++){const{line:i,points:a}=this.#i[t];this.#e=i,this.#s=a,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const t=et.svgRound(this.#e[4]),e=et.svgRound(this.#e[5]);if(this.#s.length===2)return this.#a=`${this.#a} M ${t} ${e} Z`,this.#a;if(this.#s.length<=6){const a=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,a)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const a=et.svgRound(this.#e[10]),l=et.svgRound(this.#e[11]);return this.#a=`${this.#a} L ${a} ${l}`,this.#o=12,this.#a}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let a=this.#o,l=this.#e.length;a<l;a+=6){const[c,u,d,f,p,g]=this.#e.slice(a,a+6).map(et.svgRound);i.push(`C${c} ${u} ${d} ${f} ${p} ${g}`)}return this.#a+=i.join(" "),this.#o=this.#e.length,this.#a}getOutlines(t,e,i,a){const l=this.#i.at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),this.#c.build(this.#i,t,e,i,this.#n,this.#r,a),this.#t=null,this.#e=null,this.#i=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class tl extends et{#t;#e=0;#i;#n;#r;#s;#a;#o;#c;build(t,e,i,a,l,c,u){this.#r=e,this.#s=i,this.#a=a,this.#o=l,this.#c=c,this.#i=u??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${et.svgRound(e[4])} ${et.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${et.svgRound(e[10])} ${et.svgRound(e[11])}`);continue}for(let i=6,a=e.length;i<a;i+=6){const[l,c,u,d,f,p]=e.subarray(i,i+6).map(et.svgRound);t.push(`C${l} ${c} ${u} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,i,a],l){const c=[],u=[],[d,f,p,g]=this.#d();let b,x,w,S,E,T,M,_,N;switch(this.#o){case 0:N=et._rescale,b=t,x=e+a,w=i,S=-a,E=t+d*i,T=e+(1-f-g)*a,M=t+(d+p)*i,_=e+(1-f)*a;break;case 90:N=et._rescaleAndSwap,b=t,x=e,w=i,S=a,E=t+f*i,T=e+d*a,M=t+(f+g)*i,_=e+(d+p)*a;break;case 180:N=et._rescale,b=t+i,x=e,w=-i,S=a,E=t+(1-d-p)*i,T=e+f*a,M=t+(1-d)*i,_=e+(f+g)*a;break;case 270:N=et._rescaleAndSwap,b=t+i,x=e+a,w=-i,S=-a,E=t+(1-f-g)*i,T=e+(1-d-p)*a,M=t+(1-f)*i,_=e+(1-d)*a;break}for(const{line:D,points:O}of this.#n)c.push(N(D,b,x,w,S,l?new Array(D.length):null)),u.push(N(O,b,x,w,S,l?new Array(O.length):null));return{lines:c,points:u,rect:[E,T,M,_]}}static deserialize(t,e,i,a,l,{paths:{lines:c,points:u},rotation:d,thickness:f}){const p=[];let g,b,x,w,S;switch(d){case 0:S=et._rescale,g=-t/i,b=e/a+1,x=1/i,w=-1/a;break;case 90:S=et._rescaleAndSwap,g=-e/a,b=-t/i,x=1/a,w=1/i;break;case 180:S=et._rescale,g=t/i+1,b=-e/a,x=-1/i,w=1/a;break;case 270:S=et._rescaleAndSwap,g=e/a+1,b=t/i+1,x=-1/a,w=-1/i;break}if(!c){c=[];for(const T of u){const M=T.length;if(M===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1]]));continue}if(M===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1],NaN,NaN,NaN,NaN,T[2],T[3]]));continue}const _=new Float32Array(3*(M-2));c.push(_);let[N,D,O,L]=T.subarray(0,4);_.set([NaN,NaN,NaN,NaN,N,D],0);for(let z=4;z<M;z+=2){const X=T[z],W=T[z+1];_.set(et.createBezierPoints(N,D,O,L,X,W),(z-2)*3),[N,D,O,L]=[O,L,X,W]}}}for(let T=0,M=c.length;T<M;T++)p.push({line:S(c[T].map(_=>_??NaN),g,b,x,w),points:S(u[T].map(_=>_??NaN),g,b,x,w)});const E=new this.prototype.constructor;return E.build(p,i,a,1,d,f,l),E}#l(t=this.#c){const e=this.#i+t/2*this.#a;return this.#o%180===0?[e/this.#r,e/this.#s]:[e/this.#s,e/this.#r]}#d(){const[t,e,i,a]=this.#t,[l,c]=this.#l(0);return[t+l,e+c,i-2*l,a-2*c]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#n){if(a.length<=12){for(let u=4,d=a.length;u<d;u+=6)nt.pointBoundingBox(a[u],a[u+1],t);continue}let l=a[4],c=a[5];for(let u=6,d=a.length;u<d;u+=6){const[f,p,g,b,x,w]=a.subarray(u,u+6);nt.bezierBoundingBox(l,c,f,p,g,b,x,w,t),l=x,c=w}}const[e,i]=this.#l();t[0]=Fe(t[0]-e,0,1),t[1]=Fe(t[1]-i,0,1),t[2]=Fe(t[2]+e,0,1),t[3]=Fe(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#l();this.#c=t;const[a,l]=this.#l(),[c,u]=[a-e,l-i],d=this.#t;return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateParentDimensions([t,e],i){const[a,l]=this.#l();this.#r=t,this.#s=e,this.#a=i;const[c,u]=this.#l(),d=c-a,f=u-l,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(et.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,a=0,l=0,c=0,u=0,d=0;switch(this.#e){case 90:a=e/t,l=-t/e,u=t;break;case 180:i=-1,c=-1,u=t,d=e;break;case 270:a=-e/t,l=t/e,d=e;break;default:return""}return`matrix(${i} ${a} ${l} ${c} ${et.svgRound(u)} ${et.svgRound(d)})`}getPathResizingSVGProperties([t,e,i,a]){const[l,c]=this.#l(),[u,d,f,p]=this.#t;if(Math.abs(f-l)<=et.PRECISION||Math.abs(p-c)<=et.PRECISION){const S=t+i/2-(u+f/2),E=e+a/2-(d+p/2);return{path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`,transform:`${this.rotationTransform} translate(${S} ${E})`}}}const g=(i-2*l)/(f-2*l),b=(a-2*c)/(p-2*c),x=f/i,w=p/a;return{path:{"transform-origin":`${et.svgRound(u)} ${et.svgRound(d)}`,transform:`${this.rotationTransform} scale(${x} ${w}) translate(${et.svgRound(l)} ${et.svgRound(c)}) scale(${g} ${b}) translate(${et.svgRound(-l)} ${et.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,i,a]){const[l,c]=this.#l(),u=this.#t,[d,f,p,g]=u;if(u[0]=t,u[1]=e,u[2]=i,u[3]=a,Math.abs(p-l)<=et.PRECISION||Math.abs(g-c)<=et.PRECISION){const E=t+i/2-(d+p/2),T=e+a/2-(f+g/2);for(const{line:M,points:_}of this.#n)et._translate(M,E,T,M),et._translate(_,E,T,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(i-2*l)/(p-2*l),x=(a-2*c)/(g-2*c),w=-b*(d+l)+t+l,S=-x*(f+c)+e+c;if(b!==1||x!==1||w!==0||S!==0)for(const{line:E,points:T}of this.#n)et._rescale(E,w,S,b,x,E),et._rescale(T,w,S,b,x,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[a,l]=i,c=this.#t,u=t-c[0],d=e-c[1];if(this.#r===a&&this.#s===l)for(const{line:f,points:p}of this.#n)et._translate(f,u,d,f),et._translate(p,u,d,p);else{const f=this.#r/a,p=this.#s/l;this.#r=a,this.#s=l;for(const{line:g,points:b}of this.#n)et._rescale(g,u,d,f,p,g),et._rescale(b,u,d,f,p,b);c[2]*=f,c[3]*=p}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${et.svgRound(t)} ${et.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${et.svgRound(t[0])} ${et.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class hu extends WA{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ht._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new hu(this._viewParameters);return t.updateAll(this),t}}class Jp extends yt{static _type="ink";static _editorType=xt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){ht.initialize(t,e),this._defaultDrawingOptions=new hu(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Et(this,"typesMap",new Map([[Nt.INK_THICKNESS,"stroke-width"],[Nt.INK_COLOR,"stroke"],[Nt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,a,l){return new YN(t,e,i,a,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,a,l,c){return tl.deserialize(t,e,i,a,l,c)}static async deserialize(t,e,i){let a=null;if(t instanceof Qp){const{data:{inkLists:c,rect:u,rotation:d,id:f,color:p,opacity:g,borderStyle:{rawWidth:b},popupRef:x,richText:w,contentsObj:S,creationDate:E,modificationDate:T},parent:{page:{pageNumber:M}}}=t;a=t={annotationType:xt.INK,color:Array.from(p),thickness:b,opacity:g,paths:{points:c},boxes:null,pageIndex:M-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:x,richText:w,comment:S?.str||null,creationDate:E,modificationDate:T}}const l=await super.deserialize(t,e,i);return l._initialData=a,t.comment&&l.setCommentData(t),l}get toolbarButtons(){return this._colorPicker||=new zo(this),[["colorPicker",this._colorPicker]]}get colorType(){return Nt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=Jp.getDefaultDrawingOptions({stroke:nt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":l,"stroke-width":c}}=this,u=Object.assign(super.serialize(t),{color:ht._colorManager.convert(a),opacity:l,thickness:c,paths:{lines:e,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:i,opacity:a,pageIndex:l}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((c,u)=>c!==e[u])||t.thickness!==i||t.opacity!==a||t.pageIndex!==l}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class Xf extends tl{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const kc=8,fo=3;class Os{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,a){return i-=t,a-=e,i===0?a>0?0:4:i===1?a+6:2-a}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,i,a,l,c,u){const d=this.#e(i,a,l,c);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,g=this.#i[2*p],b=this.#i[2*p+1];if(t[(i+g)*e+(a+b)]!==0)return p}return-1}static#r(t,e,i,a,l,c,u){const d=this.#e(i,a,l,c);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,g=this.#i[2*p],b=this.#i[2*p+1];if(t[(i+g)*e+(a+b)]!==0)return p}return-1}static#s(t,e,i,a){const l=t.length,c=new Int32Array(l);for(let p=0;p<l;p++)c[p]=t[p]<=a?1:0;for(let p=1;p<i-1;p++)c[p*e]=c[p*e+e-1]=0;for(let p=0;p<e;p++)c[p]=c[e*i-1-p]=0;let u=1,d;const f=[];for(let p=1;p<i-1;p++){d=1;for(let g=1;g<e-1;g++){const b=p*e+g,x=c[b];if(x===0)continue;let w=p,S=g;if(x===1&&c[b-1]===0)u+=1,S-=1;else if(x>=1&&c[b+1]===0)u+=1,S+=1,x>1&&(d=x);else{x!==1&&(d=Math.abs(x));continue}const E=[g,p],T=S===g+1,M={isHole:T,points:E,id:u,parent:0};f.push(M);let _;for(const J of f)if(J.id===d){_=J;break}_?_.isHole?M.parent=T?_.parent:d:M.parent=T?d:_.parent:M.parent=T?d:0;const N=this.#n(c,e,p,g,w,S,0);if(N===-1){c[b]=-u,c[b]!==1&&(d=Math.abs(c[b]));continue}let D=this.#i[2*N],O=this.#i[2*N+1];const L=p+D,z=g+O;w=L,S=z;let X=p,W=g;for(;;){const J=this.#r(c,e,X,W,w,S,1);D=this.#i[2*J],O=this.#i[2*J+1];const ot=X+D,dt=W+O;E.push(dt,ot);const st=X*e+W;if(c[st+1]===0?c[st]=-u:c[st]===1&&(c[st]=u),ot===p&&dt===g&&X===L&&W===z){c[b]!==1&&(d=Math.abs(c[b]));break}else w=X,S=W,X=ot,W=dt}}}return f}static#a(t,e,i,a){if(i-e<=4){for(let L=e;L<i-2;L+=2)a.push(t[L],t[L+1]);return}const l=t[e],c=t[e+1],u=t[i-4]-l,d=t[i-3]-c,f=Math.hypot(u,d),p=u/f,g=d/f,b=p*c-g*l,x=d/u,w=1/f,S=Math.atan(x),E=Math.cos(S),T=Math.sin(S),M=w*(Math.abs(E)+Math.abs(T)),_=w*(1-M+M**2),N=Math.max(Math.atan(Math.abs(T+E)*_),Math.atan(Math.abs(T-E)*_));let D=0,O=e;for(let L=e+2;L<i-2;L+=2){const z=Math.abs(b-p*t[L+1]+g*t[L]);z>D&&(O=L,D=z)}D>(f*N)**2?(this.#a(t,e,O+2,a),this.#a(t,O,i,a)):a.push(l,c)}static#o(t){const e=[],i=t.length;return this.#a(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#c(t,e,i,a,l,c){const u=new Float32Array(c**2),d=-2*a**2,f=c>>1;for(let S=0;S<c;S++){const E=(S-f)**2;for(let T=0;T<c;T++)u[S*c+T]=Math.exp((E+(T-f)**2)/d)}const p=new Float32Array(256),g=-2*l**2;for(let S=0;S<256;S++)p[S]=Math.exp(S**2/g);const b=t.length,x=new Uint8Array(b),w=new Uint32Array(256);for(let S=0;S<i;S++)for(let E=0;E<e;E++){const T=S*e+E,M=t[T];let _=0,N=0;for(let O=0;O<c;O++){const L=S+O-f;if(!(L<0||L>=i))for(let z=0;z<c;z++){const X=E+z-f;if(X<0||X>=e)continue;const W=t[L*e+X],J=u[O*c+z]*p[Math.abs(W-M)];_+=W*J,N+=J}}const D=x[T]=Math.round(_/N);w[D]++}return[x,w]}static#l(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#d(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let a=-1/0,l=1/0;for(let u=0,d=i.length;u<d;u++){const f=i[u]=t[u<<2];a=Math.max(a,f),l=Math.min(l,f)}const c=255/(a-l);for(let u=0,d=i.length;u<d;u++)i[u]=(i[u]-l)*c;return i}static#h(t){let e,i=-1/0,a=-1/0;const l=t.findIndex(d=>d!==0);let c=l,u=l;for(e=l;e<256;e++){const d=t[e];d>i&&(e-c>a&&(a=e-c,u=e-1),i=d,c=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:a}=t,{maxDim:l}=this.#t;let c=i,u=a;if(i>l||a>l){let b=i,x=a,w=Math.log2(Math.max(i,a)/l);const S=Math.floor(w);w=w===S?S-1:S;for(let T=0;T<w;T++){c=Math.ceil(b/2),u=Math.ceil(x/2);const M=new OffscreenCanvas(c,u);M.getContext("2d").drawImage(t,0,0,b,x,0,0,c,u),b=c,x=u,t!==e&&t.close(),t=M.transferToImageBitmap()}const E=Math.min(l/c,l/u);c=Math.round(c*E),u=Math.round(u*E)}const f=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,c,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,c,u);const p=f.getImageData(0,0,c,u).data;return[this.#d(p),c,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:a},l,c,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,b=p.font=`${i} ${a} ${g}px ${e}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:w,actualBoundingBoxAscent:S,actualBoundingBoxDescent:E,fontBoundingBoxAscent:T,fontBoundingBoxDescent:M,width:_}=p.measureText(t),N=1.5,D=Math.ceil(Math.max(Math.abs(x)+Math.abs(w)||0,_)*N),O=Math.ceil(Math.max(Math.abs(S)+Math.abs(E)||g,Math.abs(T)+Math.abs(M)||g)*N);f=new OffscreenCanvas(D,O),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=b,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,D,O),p.fillStyle="black",p.fillText(t,D*(N-1)/2,O*(3-N)/2);const L=this.#d(p.getImageData(0,0,D,O).data),z=this.#l(L),X=this.#h(z),W=this.#s(L,D,O,X);return this.processDrawnLines({lines:{curves:W,width:D,height:O},pageWidth:l,pageHeight:c,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,i,a,l){const[c,u,d]=this.#f(t),[f,p]=this.#c(c,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#h(p),b=this.#s(f,u,d,g);return this.processDrawnLines({lines:{curves:b,width:u,height:d},pageWidth:e,pageHeight:i,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:l,mustSmooth:c,areContours:u}){a%180!==0&&([e,i]=[i,e]);const{curves:d,width:f,height:p}=t,g=t.thickness??0,b=[],x=Math.min(e/f,i/p),w=x/e,S=x/i,E=[];for(const{points:M}of d){const _=c?this.#o(M):M;if(!_)continue;E.push(_);const N=_.length,D=new Float32Array(N),O=new Float32Array(3*(N===2?2:N-2));if(b.push({line:O,points:D}),N===2){D[0]=_[0]*w,D[1]=_[1]*S,O.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[L,z,X,W]=_;L*=w,z*=S,X*=w,W*=S,D.set([L,z,X,W],0),O.set([NaN,NaN,NaN,NaN,L,z],0);for(let J=4;J<N;J+=2){const ot=D[J]=_[J]*w,dt=D[J+1]=_[J+1]*S;O.set(et.createBezierPoints(L,z,X,W,ot,dt),(J-2)*3),[L,z,X,W]=[X,W,ot,dt]}}if(b.length===0)return null;const T=u?new Xf:new tl;return T.build(b,e,i,1,a,u?0:g,l),{outline:T,newCurves:E,areContours:u,thickness:g,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:a,height:l}){let c=1/0,u=-1/0,d=0;for(const _ of t){d+=_.length;for(let N=2,D=_.length;N<D;N++){const O=_[N]-_[N-2];c=Math.min(c,O),u=Math.max(u,O)}}let f;c>=-128&&u<=127?f=Int8Array:c>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,g=kc+fo*p,b=new Uint32Array(g);let x=0;b[x++]=g*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,b[x++]=0,b[x++]=a,b[x++]=l,b[x++]=e?0:1,b[x++]=Math.max(0,Math.floor(i??0)),b[x++]=p,b[x++]=f.BYTES_PER_ELEMENT;for(const _ of t)b[x++]=_.length-2,b[x++]=_[0],b[x++]=_[1];const w=new CompressionStream("deflate-raw"),S=w.writable.getWriter();await S.ready,S.write(b);const E=f.prototype.constructor;for(const _ of t){const N=new E(_.length-2);for(let D=2,O=_.length;D<O;D++)N[D-2]=_[D]-_[D-2];S.write(N)}S.close();const T=await new Response(w.readable).arrayBuffer(),M=new Uint8Array(T);return gA(M)}static async decompressSignature(t){try{const e=bR(t),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),l=a.getWriter();await l.ready,l.write(e).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,u=0;for await(const _ of i)c||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),c.set(_,u),u+=_.length;const d=new Uint32Array(c.buffer,0,c.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],g=d[3],b=d[4]===0,x=d[5],w=d[6],S=d[7],E=[],T=(kc+fo*w)*Uint32Array.BYTES_PER_ELEMENT;let M;switch(S){case Int8Array.BYTES_PER_ELEMENT:M=new Int8Array(c.buffer,T);break;case Int16Array.BYTES_PER_ELEMENT:M=new Int16Array(c.buffer,T);break;case Int32Array.BYTES_PER_ELEMENT:M=new Int32Array(c.buffer,T);break}u=0;for(let _=0;_<w;_++){const N=d[fo*_+kc],D=new Float32Array(N+2);E.push(D);for(let O=0;O<fo-1;O++)D[O]=d[fo*_+kc+O+1];for(let O=0;O<N;O++)D[O+2]=D[O]+M[u++]}return{areContours:b,thickness:x,outlines:E,width:p,height:g}}catch(e){return At(`decompressSignature: ${e}`),null}}}class tm extends WA{constructor(){super(),super.updateProperties({fill:ht._defaultLineColor,"stroke-width":0})}clone(){const t=new tm;return t.updateAll(this),t}}class em extends hu{constructor(t){super(t),super.updateProperties({stroke:ht._defaultLineColor,"stroke-width":1})}clone(){const t=new em(this._viewParameters);return t.updateAll(this),t}}class ni extends yt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=xt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){ht.initialize(t,e),this._defaultDrawingOptions=new tm,this._defaultDrawnSignatureOptions=new em(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Et(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:a,mustSmooth:l,areContours:c,description:u,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:g},rotation:b}=this.parent.viewport,x=Os.processDrawnLines({lines:a,pageWidth:p,pageHeight:g,rotation:b,innerMargin:ni._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(x,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:a,height:l}=this.#i,c=Math.max(a,l),u=Os.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:a,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,i,a){const{x:l,y:c}=this,{outline:u}=this.#i=t;this.#t=u instanceof Xf,this.description=i;let d;this.#t?d=ni.getDefaultDrawingOptions():(d=ni._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:a}=this.parent.viewport;return Os.process(t,e,i,a,ni._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:l}=this.parent.viewport;return Os.extractContoursFromText(t,e,i,a,l,ni._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:a}=this.parent.viewport;return Os.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:ni._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=ni.getDefaultDrawingOptions():(this._drawingOptions=ni._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,l=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:a});return this.addComment(l),t?(l.paths={lines:e,points:i},l.uuid=this.#n,l.isCopy=!0):l.lines=e,this.#e&&(l.accessibilityData={type:"Figure",alt:this.#e}),l}static deserializeDraw(t,e,i,a,l,c){return c.areContours?Xf.deserialize(t,e,i,a,l,c):tl.deserialize(t,e,i,a,l,c)}static async deserialize(t,e,i){const a=await super.deserialize(t,e,i);return a.#t=t.areContours,a.description=t.accessibilityData?.alt||"",a.#n=t.uuid,a}}class $N extends ht{#t=null;#e=null;#i=null;#n=null;#r=null;#s="";#a=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=xt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#r=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){ht.initialize(t,e)}static isHandlingMimeForPasting(t){return Zc.includes(t)}static paste(t,e){e.pasteEditor({mode:xt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:a,width:l,height:c,channels:a.length/(l*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#h(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(a=>this.#h(a)).finally(()=>this.#f());return}if(this.#r){const i=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(a=>this.#h(a)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=Zc.join(",");const e=this._uiManager._signal;this.#i=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(a)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#r||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,a&&(this.#t=a),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:i}=this.#t;const[a,l]=this.pageDimensions,c=.75;if(this.width)e=this.width*a,i=this.height*l;else if(e>c*a||i>c*l){const d=Math.min(c*a/e,c*l/i);e*=d,i*=d}this._uiManager.enableWaiting(!1);const u=this.#a=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/a,this.height=i/l,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,i=!1){t||(t=224);const{width:a,height:l}=this.#t,c=new qn;let u=this.#t,d=a,f=l,p=null;if(e){if(a>e||l>e){const O=Math.min(e/a,e/l);d=Math.floor(a*O),f=Math.floor(l*O)}p=document.createElement("canvas");const b=p.width=Math.ceil(d*c.sx),x=p.height=Math.ceil(f*c.sy);this.#l||(u=this.#u(b,x));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let S="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":AR.isDarkMode&&(S="#8f8f9d",E="#42414d");const T=15,M=T*c.sx,_=T*c.sy,N=new OffscreenCanvas(M*2,_*2),D=N.getContext("2d");D.fillStyle=S,D.fillRect(0,0,M*2,_*2),D.fillStyle=E,D.fillRect(0,0,M,_),D.fillRect(M,_,M,_),w.fillStyle=w.createPattern(N,"repeat"),w.fillRect(0,0,b,x),w.drawImage(u,0,0,u.width,u.height,0,0,b,x)}let g=null;if(i){let b,x;if(c.symmetric&&u.width<t&&u.height<t)b=u.width,x=u.height;else if(u=this.#t,a>t||l>t){const E=Math.min(t/a,t/l);b=Math.floor(a*E),x=Math.floor(l*E),this.#l||(u=this.#u(b,x))}const S=new OffscreenCanvas(b,x).getContext("2d",{willReadFrequently:!0});S.drawImage(u,0,0,u.width,u.height,0,0,b,x),g={width:b,height:x,data:S.getImageData(0,0,b,x).data}}return{canvas:p,width:d,height:f,imageData:g}}#u(t,e){const{width:i,height:a}=this.#t;let l=i,c=a,u=this.#t;for(;l>2*t||c>2*e;){const d=l,f=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(l,c);p.getContext("2d").drawImage(u,0,0,d,f,0,0,l,c),u=p.transferToImageBitmap()}return u}#m(){const[t,e]=this.parentDimensions,{width:i,height:a}=this,l=new qn,c=Math.ceil(i*t*l.sx),u=Math.ceil(a*e*l.sy),d=this.#a;if(!d||d.width===c&&d.height===u)return;d.width=c,d.height=u;const f=this.#l?this.#t:this.#u(c,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,u)}#y(t){if(t){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#e);if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,i]=this.pageDimensions,a=Math.round(this.width*e*Hs.PDF_TO_CSS_UNITS),l=Math.round(this.height*i*Hs.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,l);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,a,l),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let a=null,l=!1;if(t instanceof YA){const{data:{rect:S,rotation:E,id:T,structParent:M,popupRef:_,richText:N,contentsObj:D,creationDate:O,modificationDate:L},container:z,parent:{page:{pageNumber:X}},canvas:W}=t;let J,ot;W?(delete t.canvas,{id:J,bitmap:ot}=i.imageManager.getFromCanvas(z.id,W),W.remove()):(l=!0,t._hasNoCanvas=!0);const dt=(await e._structTree.getAriaAttributes(`${zp}${T}`))?.get("aria-label")||"";a=t={annotationType:xt.STAMP,bitmapId:J,bitmap:ot,pageIndex:X-1,rect:S.slice(0),rotation:E,annotationElementId:T,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:dt},isSvg:!1,structParent:M,popupRef:_,richText:N,comment:D?.str||null,creationDate:O,modificationDate:L}}const c=await super.deserialize(t,e,i),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:b}=t;l?(i.addMissingCanvas(t.id,c),c.#o=!0):p&&i.imageManager.isValidId(p)?(c.#e=p,d&&(c.#t=d)):c.#n=f,c.#l=g;const[x,w]=c.pageDimensions;return c.width=(u[2]-u[0])/x,c.height=(u[3]-u[1])/w,b&&(c.altTextData=b),c._initialData=a,t.comment&&c.setCommentData(t),c.#d=!!a,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(i),t)return i.bitmapUrl=this.#y(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:l}=this.serializeAltText(!1);if(!a&&l&&(i.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const u=this.#v(i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(e===null)return i;e.stamps||=new Map;const c=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:i}),i.bitmap=this.#y(!1);else if(this.#l){const u=e.stamps.get(this.#e);c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return i}#v(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===e,l=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&l,isSameAltText:l}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class si{#t;#e=!1;#i=null;#n=null;#r=null;#s=new Map;#a=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([_e,Jp,$N,me,ni].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:l,annotationLayer:c,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const g=[...si.#m.values()];if(!si._initialized){si._initialized=!0;for(const b of g)b.initialize(p,t)}t.registerEditorTypes(g),this.#u=t,this.pageIndex=e,this.div=i,this.#t=l,this.#i=c,this.viewport=f,this.#h=d,this.drawLayer=u,this._structTree=a,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===xt.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#x(),t){case xt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case xt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case xt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===xt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of si.#m.values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const i of this.#y)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const e=this.#i;if(e)for(const i of e.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:u,timeStamp:d}=a,f=this.#p;if(d-f>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(c,u);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let b;const x=new RegExp(`^${Oo}[0-9]+$`);for(const S of g)if(x.test(S.id)){b=S.id;break}if(!b)return;const w=this.#s.get(b);w?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),w.dblclick(a))},{signal:i,capture:!0})}const t=this.#i;if(t){const i=new Map,a=new Map;for(const c of this.#y){if(c.disableEditing(),!c.annotationElementId){c.updateFakeAnnotationElement(t);continue}if(c.serialize()!==null){i.set(c.annotationElementId,c);continue}else a.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const l=t.getEditableAnnotations();for(const c of l){const{id:u}=c.data;if(this.#u.isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=i.get(u),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const i of si.#m.values())e.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#v(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:i}=Re.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),me.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),ht.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#r&&(t._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#b(){return si.#m.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#E(t){const e=this.#b;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:i,offsetY:a}=this.#w(),l=this.getNextId(),c=this.#E({parent:this,id:l,x:i,y:a,uiManager:this.#u,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await si.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),l=this.#E({parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...i});return l&&this.add(l),l}get boundingClientRect(){return this.div.getBoundingClientRect()}#w(){const{x:t,y:e,width:i,height:a}=this.boundingClientRect,l=Math.max(0,t),c=Math.max(0,e),u=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,e+a),f=(l+u)/2-t,p=(c+d)/2-e,[g,b]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#w(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#a||(this.#a=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#u.getMode();if(i===xt.STAMP||i===xt.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===xt.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:e}=Re.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#a=!0,this.#b?.isDrawer){this.startDrawingSession(t);return}const i=this.#u.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#b.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#b.endDrawing(t)):null}findNewParent(t,e,i){const a=this.#u.findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#x(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,us(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#x();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,us(this.div,{rotation:i}),e!==i)for(const a of this.#s.values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Me{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Et(this,"_svgFactory",new Fo)}static#r(t,[e,i,a,l]){const{style:c}=t;c.top=`${100*i}%`,c.left=`${100*e}%`,c.width=`${100*a}%`,c.height=`${100*l}%`}#s(){const t=Me._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#a(t,e){const i=Me._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const l=Me._svgFactory.createElement("use");return i.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),a}#o(t,e){for(const[i,a]of Object.entries(e))a===null?t.removeAttribute(i):t.setAttribute(i,a)}draw(t,e=!1,i=!1){const a=Me.#n++,l=this.#s(),c=Me._svgFactory.createElement("defs");l.append(c);const u=Me._svgFactory.createElement("path");c.append(u);const d=`path_p${this.pageIndex}_${a}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(a,u);const f=i?this.#a(c,d):null,p=Me._svgFactory.createElement("use");return l.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(l,t),this.#e.set(a,l),{id:a,clipPathId:`url(#${f})`}}drawOutline(t,e){const i=Me.#n++,a=this.#s(),l=Me._svgFactory.createElement("defs");a.append(l);const c=Me._svgFactory.createElement("path");l.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const g=Me._svgFactory.createElement("mask");l.append(g),d=`mask_p${this.pageIndex}_${i}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const b=Me._svgFactory.createElement("rect");g.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const x=Me._svgFactory.createElement("use");g.append(x),x.setAttribute("href",`#${u}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const f=Me._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return a.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(a,t),this.#e.set(i,a),i}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:a,rootClass:l,path:c}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(i&&this.#o(u,i),a&&Me.#r(u,a),l){const{classList:d}=u;for(const[f,p]of Object.entries(l))d.toggle(f,p)}if(c){const f=u.firstChild.firstChild;this.#o(f,c)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Gf};globalThis.pdfjsLib={AbortException:Ri,AnnotationEditorLayer:si,AnnotationEditorParamsType:Nt,AnnotationEditorType:xt,AnnotationEditorUIManager:Ni,AnnotationLayer:Zp,AnnotationMode:ai,AnnotationType:pe,applyOpacity:AA,build:VA,ColorPicker:yn,createValidAbsoluteUrl:Pp,CSSConstants:xA,DOMSVGFactory:Fo,DrawLayer:Me,FeatureTest:Re,fetchData:ur,findContrastColor:SA,getDocument:Yp,getFilenameFromUrl:yA,getPdfFilenameFromUrl:bA,getRGB:hr,getUuid:Bp,getXfaPageViewport:vA,GlobalWorkerOptions:ls,ImageKind:Eo,InvalidPDFException:Wc,isDataScheme:Wo,isPdfFile:cu,isValidExplicitDest:CA,MathClamp:Fe,noContextMenu:vn,normalizeUnicode:mA,OPS:ir,OutputScale:qn,PasswordResponses:fA,PDFDataRangeTransport:Kp,PDFDateString:Qc,PDFWorker:sr,PermissionFlag:dA,PixelsPerInch:Hs,RenderingCancelledException:lu,renderRichText:Ip,ResponseException:Po,setLayerDimensions:us,shadow:Et,SignatureExtractor:Os,stopEvent:ae,SupportedImageMimeTypes:Zc,TextLayer:Bo,TouchManager:Zo,updateUrlHash:jp,Util:nt,VerbosityLevel:Yo,version:UA,XfaLayer:Fp};const QA=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ri,AnnotationEditorLayer:si,AnnotationEditorParamsType:Nt,AnnotationEditorType:xt,AnnotationEditorUIManager:Ni,AnnotationLayer:Zp,AnnotationMode:ai,AnnotationType:pe,CSSConstants:xA,ColorPicker:yn,DOMSVGFactory:Fo,DrawLayer:Me,FeatureTest:Re,GlobalWorkerOptions:ls,ImageKind:Eo,InvalidPDFException:Wc,MathClamp:Fe,OPS:ir,OutputScale:qn,PDFDataRangeTransport:Kp,PDFDateString:Qc,PDFWorker:sr,PasswordResponses:fA,PermissionFlag:dA,PixelsPerInch:Hs,RenderingCancelledException:lu,ResponseException:Po,SignatureExtractor:Os,SupportedImageMimeTypes:Zc,TextLayer:Bo,TouchManager:Zo,Util:nt,VerbosityLevel:Yo,XfaLayer:Fp,applyOpacity:AA,build:VA,createValidAbsoluteUrl:Pp,fetchData:ur,findContrastColor:SA,getDocument:Yp,getFilenameFromUrl:yA,getPdfFilenameFromUrl:bA,getRGB:hr,getUuid:Bp,getXfaPageViewport:vA,isDataScheme:Wo,isPdfFile:cu,isValidExplicitDest:CA,noContextMenu:vn,normalizeUnicode:mA,renderRichText:Ip,setLayerDimensions:us,shadow:Et,stopEvent:ae,updateUrlHash:jp,version:UA},Symbol.toStringTag,{value:"Module"}));function ZA(r){var t,e,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(t=0;t<a;t++)r[t]&&(e=ZA(r[t]))&&(i&&(i+=" "),i+=e)}else for(e in r)r[e]&&(i&&(i+=" "),i+=e);return i}function du(){for(var r,t,e=0,i="",a=arguments.length;e<a;e++)(r=arguments[e])&&(t=ZA(r))&&(i&&(i+=" "),i+=t);return i}var dx=Object.prototype.hasOwnProperty;function fx(r,t,e){for(e of r.keys())if(Qa(e,t))return e}function Qa(r,t){var e,i,a;if(r===t)return!0;if(r&&t&&(e=r.constructor)===t.constructor){if(e===Date)return r.getTime()===t.getTime();if(e===RegExp)return r.toString()===t.toString();if(e===Array){if((i=r.length)===t.length)for(;i--&&Qa(r[i],t[i]););return i===-1}if(e===Set){if(r.size!==t.size)return!1;for(i of r)if(a=i,a&&typeof a=="object"&&(a=fx(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(r.size!==t.size)return!1;for(i of r)if(a=i[0],a&&typeof a=="object"&&(a=fx(t,a),!a)||!Qa(i[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)r=new Uint8Array(r),t=new Uint8Array(t);else if(e===DataView){if((i=r.byteLength)===t.byteLength)for(;i--&&r.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(r)){if((i=r.byteLength)===t.byteLength)for(;i--&&r[i]===t[i];);return i===-1}if(!e||typeof r=="object"){i=0;for(e in r)if(dx.call(r,e)&&++i&&!dx.call(t,e)||!(e in t)||!Qa(r[e],t[e]))return!1;return Object.keys(t).length===i}}return r!==r&&t!==t}function el(r){let t=!1;return{promise:new Promise((i,a)=>{r.then(l=>!t&&i(l)).catch(l=>!t&&a(l))}),cancel(){t=!0}}}const KN=["onCopy","onCut","onPaste"],WN=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],QN=["onFocus","onBlur"],ZN=["onInput","onInvalid","onReset","onSubmit"],JN=["onLoad","onError"],tL=["onKeyDown","onKeyPress","onKeyUp"],eL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],nL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],iL=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],sL=["onSelect"],aL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],rL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],oL=["onScroll"],lL=["onWheel"],cL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],uL=["onTransitionEnd"],hL=["onToggle"],dL=["onChange"],fL=[...KN,...WN,...QN,...ZN,...JN,...tL,...eL,...nL,...iL,...sL,...aL,...rL,...oL,...lL,...cL,...uL,...dL,...hL];function JA(r,t){const e={};for(const i of fL){const a=r[i];a&&(t?e[i]=(l=>a(l,t(i))):e[i]=a)}return e}var pL="Invariant failed";function Kt(r,t){if(!r)throw new Error(pL)}var cf,px;function mL(){if(px)return cf;px=1;var r=function(){};return cf=r,cf}var gL=mL();const Ie=Kf(gL),tS=F.createContext(null),yL="noopener noreferrer nofollow";class bL{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Kt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Kt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||yL,t.target=i?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{Kt(this.pdfDocument),Kt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Kt(Array.isArray(e));const i=e[0];new Promise(a=>{Kt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(l=>{a(l)}).catch(()=>{Kt(!1)}):typeof i=="number"?a(i):Kt(!1)}).then(a=>{const l=a+1;Kt(this.pdfViewer),Kt(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:l})})})}goToPage(t){const e=t-1;Kt(this.pdfViewer),Kt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Za({children:r,type:t}){return v.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:r})}const mx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function vL(r,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function ar(){return F.useReducer(vL,{value:void 0,error:void 0})}const fu=typeof window<"u",eS=fu&&window.location.protocol==="file:";function xL(r){return typeof r<"u"}function Ls(r){return xL(r)&&r!==null}function AL(r){return typeof r=="string"}function SL(r){return r instanceof ArrayBuffer}function wL(r){return Kt(fu),r instanceof Blob}function Yf(r){return AL(r)&&/^data:/.test(r)}function gx(r){Kt(Yf(r));const[t="",e=""]=r.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function TL(){return fu&&window.devicePixelRatio||1}const nS="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function yx(){Ie(!eS,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${nS}`)}function EL(){Ie(!eS,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${nS}`)}function qs(r){r?.cancel&&r.cancel()}function $f(r,t){return Object.defineProperty(r,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function CL(r){return r.name==="RenderingCancelledException"}function _L(r){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:l}=a.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:ML}=QA,DL=(r,t)=>{switch(t){case mx.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");r(e);break}case mx.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");r(e);break}}};function bx(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const RL=F.forwardRef(function({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:l,file:c,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:g,onLoadError:b,onLoadProgress:x,onLoadSuccess:w,onPassword:S=DL,onSourceError:E,onSourceSuccess:T,options:M,renderMode:_,rotate:N,scale:D,...O},L){const[z,X]=ar(),{value:W,error:J}=z,[ot,dt]=ar(),{value:st,error:ft}=ot,j=F.useRef(new bL),I=F.useRef([]),Q=F.useRef(void 0),rt=F.useRef(void 0);c&&c!==Q.current&&bx(c)&&(Ie(!Qa(c,Q.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Q.current=c),M&&M!==rt.current&&(Ie(!Qa(M,rt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),rt.current=M);const gt=F.useRef({scrollPageIntoView:Pt=>{const{dest:jt,pageNumber:ie,pageIndex:le=ie-1}=Pt;if(g){g({dest:jt,pageIndex:le,pageNumber:ie});return}const Li=I.current[le];if(Li){Li.scrollIntoView();return}Ie(!1,`An internal link leading to page ${ie} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});F.useImperativeHandle(L,()=>({linkService:j,pages:I,viewer:gt}),[]);function k(){T&&T()}function q(){J&&(Ie(!1,J.toString()),E&&E(J))}function Z(){X({type:"RESET"})}F.useEffect(Z,[c,X]);const tt=F.useCallback(async()=>{if(!c)return null;if(typeof c=="string")return Yf(c)?{data:gx(c)}:(yx(),{url:c});if(c instanceof ML)return{range:c};if(SL(c))return{data:c};if(fu&&wL(c))return{data:await _L(c)};if(Kt(typeof c=="object"),Kt(bx(c)),"url"in c&&typeof c.url=="string"){if(Yf(c.url)){const{url:Pt,...jt}=c;return{data:gx(Pt),...jt}}yx()}return c},[c]);F.useEffect(()=>{const Pt=el(tt());return Pt.promise.then(jt=>{X({type:"RESOLVE",value:jt})}).catch(jt=>{X({type:"REJECT",error:jt})}),()=>{qs(Pt)}},[tt,X]),F.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){q();return}k()}},[W]);function lt(){st&&(w&&w(st),I.current=new Array(st.numPages),j.current.setDocument(st))}function pt(){ft&&(Ie(!1,ft.toString()),b&&b(ft))}F.useEffect(function(){dt({type:"RESET"})},[dt,W]),F.useEffect(function(){if(!W)return;const jt=M?{...W,...M}:W,ie=Yp(jt);x&&(ie.onProgress=x),S&&(ie.onPassword=S);const le=ie,Li=le.promise.then(ki=>{dt({type:"RESOLVE",value:ki})}).catch(ki=>{le.destroyed||dt({type:"REJECT",error:ki})});return()=>{Li.finally(()=>le.destroy())}},[M,dt,W]),F.useEffect(()=>{if(!(typeof st>"u")){if(st===!1){pt();return}lt()}},[st]),F.useEffect(function(){j.current.setViewer(gt.current),j.current.setExternalLinkRel(a),j.current.setExternalLinkTarget(l)},[a,l]);const ct=F.useCallback((Pt,jt)=>{I.current[Pt]=jt},[]),Qt=F.useCallback(Pt=>{delete I.current[Pt]},[]),Ct=F.useMemo(()=>({imageResourcesPath:d,linkService:j.current,onItemClick:g,pdf:st,registerPage:ct,renderMode:_,rotate:N,scale:D,unregisterPage:Qt}),[d,g,st,ct,_,N,D,Qt]),Ut=F.useMemo(()=>JA(O,()=>st),[O,st]);function Xe(){function Pt(ie){return!!ie?.pdf}if(!Pt(Ct))throw new Error("pdf is undefined");const jt=typeof t=="function"?t(Ct):t;return v.jsx(tS.Provider,{value:Ct,children:jt})}function rn(){return c?st==null?v.jsx(Za,{type:"loading",children:typeof f=="function"?f():f}):st===!1?v.jsx(Za,{type:"error",children:typeof i=="function"?i():i}):Xe():v.jsx(Za,{type:"no-data",children:typeof p=="function"?p():p})}return v.jsx("div",{className:du("react-pdf__Document",e),ref:u,...Ut,children:rn()})});function iS(){return F.useContext(tS)}function sS(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(l){for(var c=0,u=e;c<u.length;c++){var d=u[c];typeof d=="function"?d(l):d&&(d.current=l)}}}const aS=F.createContext(null);function pu(){return F.useContext(aS)}function NL(){const r=iS(),t=pu();Kt(t);const e={...r,...t},{imageResourcesPath:i,linkService:a,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:g,rotate:b,scale:x=1}=e;Kt(p),Kt(f),Kt(a);const[w,S]=ar(),{value:E,error:T}=w,M=F.useRef(null);Ie(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function _(){E&&c&&c(E)}function N(){T&&(Ie(!1,T.toString()),l&&l(T))}F.useEffect(function(){S({type:"RESET"})},[S,f]),F.useEffect(function(){if(!f)return;const X=el(f.getAnnotations()),W=X;return X.promise.then(J=>{S({type:"RESOLVE",value:J})}).catch(J=>{S({type:"REJECT",error:J})}),()=>{qs(W)}},[S,f]),F.useEffect(()=>{if(E!==void 0){if(E===!1){N();return}_()}},[E]);function D(){d&&d()}function O(z){Ie(!1,`${z}`),u&&u(z)}const L=F.useMemo(()=>f.getViewport({scale:x,rotation:b}),[f,b,x]);return F.useEffect(function(){if(!p||!f||!a||!E)return;const{current:X}=M;if(!X)return;const W=L.clone({dontFlip:!0}),J={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:X,l10n:null,linkService:a,page:f,structTreeLayer:null,viewport:W},ot={annotations:E,annotationStorage:p.annotationStorage,div:X,imageResourcesPath:i,linkService:a,page:f,renderForms:g,viewport:W};X.innerHTML="";try{new Zp(J).render(ot),D()}catch(dt){O(dt)}return()=>{}},[E,i,a,f,p,g,L]),v.jsx("div",{className:du("react-pdf__Page__annotations","annotationLayer"),ref:M})}const rS={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},LL=/^H(\d+)$/;function kL(r){return r in rS}function mu(r){return"children"in r}function oS(r){return mu(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function OL(r){const t={};if(mu(r)){const{role:e}=r,i=e.match(LL);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(kL(e)){const a=rS[e];a&&(t.role=a)}}return t}function lS(r){const t={};if(mu(r)){if(r.alt!==void 0&&(t["aria-label"]=r.alt),r.lang!==void 0&&(t.lang=r.lang),oS(r)){const[e]=r.children;if(e){const i=lS(e);return{...t,...i}}}}else"id"in r&&(t["aria-owns"]=r.id);return t}function PL(r){return r?{...OL(r),...lS(r)}:null}function cS({className:r,node:t}){const e=F.useMemo(()=>PL(t),[t]),i=F.useMemo(()=>!mu(t)||oS(t)?null:t.children.map((a,l)=>v.jsx(cS,{node:a},l)),[t]);return v.jsx("span",{className:r,...e,children:i})}function jL(){const r=pu();Kt(r);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=r,[i,a]=ar(),{value:l,error:c}=i,{customTextRenderer:u,page:d}=r;function f(){l&&e&&e(l)}function p(){c&&(Ie(!1,c.toString()),t&&t(c))}return F.useEffect(function(){a({type:"RESET"})},[a,d]),F.useEffect(function(){if(u||!d)return;const b=el(d.getStructTree()),x=b;return b.promise.then(w=>{a({type:"RESOLVE",value:w})}).catch(w=>{a({type:"REJECT",error:w})}),()=>qs(x)},[u,d,a]),F.useEffect(()=>{if(l!==void 0){if(l===!1){p();return}f()}},[l]),l?v.jsx(cS,{className:"react-pdf__Page__structTree structTree",node:l}):null}const vx=ai;function BL(r){const t=pu();Kt(t);const e={...t,...r},{_className:i,canvasBackground:a,devicePixelRatio:l=TL(),onRenderError:c,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:g,scale:b}=e,{canvasRef:x}=r;Kt(d);const w=F.useRef(null);function S(){d&&u&&u($f(d,b))}function E(N){CL(N)||(Ie(!1,N.toString()),c&&c(N))}const T=F.useMemo(()=>d.getViewport({scale:b*l,rotation:g}),[l,d,g,b]),M=F.useMemo(()=>d.getViewport({scale:b,rotation:g}),[d,g,b]);F.useEffect(function(){if(!d)return;d.cleanup();const{current:D}=w;if(!D)return;D.width=T.width,D.height=T.height,D.style.width=`${Math.floor(M.width)}px`,D.style.height=`${Math.floor(M.height)}px`,D.style.visibility="hidden";const O={annotationMode:f?vx.ENABLE_FORMS:vx.ENABLE,canvas:D,canvasContext:D.getContext("2d",{alpha:!1}),viewport:T};a&&(O.background=a);const L=d.render(O),z=L;return L.promise.then(()=>{D.style.visibility="",S()}).catch(E),()=>qs(z)},[a,d,f,T,M]);const _=F.useCallback(()=>{const{current:N}=w;N&&(N.width=0,N.height=0)},[]);return F.useEffect(()=>_,[_]),v.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:sS(x,w),style:{display:"block",userSelect:"none"},children:p?v.jsx(jL,{}):null})}function zL(r){return"str"in r}function FL(){const r=pu();Kt(r);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:a,onRenderTextLayerSuccess:l,page:c,pageIndex:u,pageNumber:d,rotate:f,scale:p}=r;Kt(c);const[g,b]=ar(),{value:x,error:w}=g,S=F.useRef(null);Ie(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){x&&i&&i(x)}function T(){w&&(Ie(!1,w.toString()),e&&e(w))}F.useEffect(function(){b({type:"RESET"})},[c,b]),F.useEffect(function(){if(!c)return;const z=el(c.getTextContent()),X=z;return z.promise.then(W=>{b({type:"RESOLVE",value:W})}).catch(W=>{b({type:"REJECT",error:W})}),()=>qs(X)},[c,b]),F.useEffect(()=>{if(x!==void 0){if(x===!1){T();return}E()}},[x]);const M=F.useCallback(()=>{l&&l()},[l]),_=F.useCallback(L=>{Ie(!1,L.toString()),a&&a(L)},[a]);function N(){const L=S.current;L&&L.classList.add("selecting")}function D(){const L=S.current;L&&L.classList.remove("selecting")}const O=F.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return F.useLayoutEffect(function(){if(!c||!x)return;const{current:z}=S;if(!z)return;z.innerHTML="";const X=c.streamTextContent({includeMarkedContent:!0}),W={container:z,textContentSource:X,viewport:O},J=new Bo(W),ot=J;return J.render().then(()=>{const dt=document.createElement("div");dt.className="endOfContent",z.append(dt);const st=z.querySelectorAll('[role="presentation"]');if(t){let ft=0;x.items.forEach((j,I)=>{if(!zL(j))return;const Q=st[ft];if(!Q)return;const rt=t({pageIndex:u,pageNumber:d,itemIndex:I,...j});Q.innerHTML=rt,ft+=j.str&&j.hasEOL?2:1})}M()}).catch(_),()=>qs(ot)},[t,_,M,c,u,d,x,O]),v.jsx("div",{className:du("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:N,ref:S})}const xx=1;function IL(r){const e={...iS(),...r},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:l,canvasRef:c,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:g,error:b="Failed to load the page.",height:x,inputRef:w,loading:S="Loading page",noData:E="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:M,onGetStructTreeError:_,onGetStructTreeSuccess:N,onGetTextError:D,onGetTextSuccess:O,onLoadError:L,onLoadSuccess:z,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:W,onRenderError:J,onRenderSuccess:ot,onRenderTextLayerError:dt,onRenderTextLayerSuccess:st,pageIndex:ft,pageNumber:j,pdf:I,registerPage:Q,renderAnnotationLayer:rt=!0,renderForms:gt=!1,renderMode:k="canvas",renderTextLayer:q=!0,rotate:Z,scale:tt=xx,unregisterPage:lt,width:pt,...ct}=e,[Qt,Ct]=ar(),{value:Ut,error:Xe}=Qt,rn=F.useRef(null);Kt(I);const Pt=Ls(j)?j-1:ft??null,jt=j??(Ls(ft)?ft+1:null),ie=Z??(Ut?Ut.rotate:null),le=F.useMemo(()=>{if(!Ut)return null;let jn=1;const Bn=tt??xx;if(pt||x){const Xn=Ut.getViewport({scale:1,rotation:ie});pt?jn=pt/Xn.width:x&&(jn=x/Xn.height)}return Bn*jn},[x,Ut,ie,tt,pt]);F.useEffect(function(){return()=>{Ls(Pt)&&a&&lt&&lt(Pt)}},[a,I,Pt,lt]);function Li(){if(z){if(!Ut||!le)return;z($f(Ut,le))}if(a&&Q){if(!Ls(Pt)||!rn.current)return;Q(Pt,rn.current)}}function ki(){Xe&&(Ie(!1,Xe.toString()),L&&L(Xe))}F.useEffect(function(){Ct({type:"RESET"})},[Ct,I,Pt]),F.useEffect(function(){if(!I||!jt)return;const Bn=el(I.getPage(jt)),Xn=Bn;return Bn.promise.then($s=>{Ct({type:"RESOLVE",value:$s})}).catch($s=>{Ct({type:"REJECT",error:$s})}),()=>qs(Xn)},[Ct,I,jt]),F.useEffect(()=>{if(Ut!==void 0){if(Ut===!1){ki();return}Li()}},[Ut,le]);const ds=F.useMemo(()=>Ls(Pt)&&jt&&Ls(ie)&&Ls(le)?{_className:i,canvasBackground:l,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:T,onGetAnnotationsSuccess:M,onGetStructTreeError:_,onGetStructTreeSuccess:N,onGetTextError:D,onGetTextSuccess:O,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:W,onRenderError:J,onRenderSuccess:ot,onRenderTextLayerError:dt,onRenderTextLayerSuccess:st,page:Ut,pageIndex:Pt,pageNumber:jt,renderForms:gt,renderTextLayer:q,rotate:ie,scale:le}:null,[i,l,p,g,T,M,_,N,D,O,X,W,J,ot,dt,st,Ut,Pt,jt,gt,q,ie,le]),dr=F.useMemo(()=>JA(ct,()=>Ut&&(le?$f(Ut,le):void 0)),[ct,Ut,le]),Oi=`${Pt}@${le}/${ie}`;function gu(){switch(k){case"custom":return Kt(f),v.jsx(f,{},`${Oi}_custom`);case"none":return null;case"canvas":default:return v.jsx(BL,{canvasRef:c},`${Oi}_canvas`)}}function yu(){return q?v.jsx(FL,{},`${Oi}_text`):null}function Ue(){return rt?v.jsx(NL,{},`${Oi}_annotations`):null}function bu(){function jn(Xn){return!!Xn?.page}if(!jn(ds))throw new Error("page is undefined");const Bn=typeof u=="function"?u(ds):u;return v.jsxs(aS.Provider,{value:ds,children:[gu(),yu(),Ue(),Bn]})}function nl(){return jt?I===null||Ut===void 0||Ut===null?v.jsx(Za,{type:"loading",children:typeof S=="function"?S():S}):I===!1||Ut===!1?v.jsx(Za,{type:"error",children:typeof b=="function"?b():b}):bu():v.jsx(Za,{type:"no-data",children:typeof E=="function"?E():E})}return v.jsx("div",{className:du(i,d),"data-page-number":jt,ref:sS(w,rn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${le}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...dr,children:nl()})}EL();ls.workerSrc="pdf.worker.mjs";typeof QA<"u"&&(ls.workerSrc=new URL("/assets/pdf.worker.min-qwK7q_zL.mjs",import.meta.url).toString());const UL=({file:r,onClose:t})=>{const[e,i]=F.useState(null),[a,l]=F.useState(window.innerWidth),c=r?encodeURI(r):null;F.useEffect(()=>{const d=()=>l(window.innerWidth);return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);function u({numPages:d}){i(d)}return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4 backdrop-blur-sm",onClick:t,children:v.jsxs("div",{className:"relative h-[90vh] w-full max-w-5xl overflow-y-auto rounded-lg bg-gray-900 p-2 shadow-2xl custom-scrollbar",onClick:d=>d.stopPropagation(),onContextMenu:d=>d.preventDefault(),children:[v.jsxs("button",{onClick:t,className:"sticky top-2 right-2 z-50 float-right mb-4 rounded-lg bg-red-600 px-4 py-2 text-sm font-bold text-white shadow-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[v.jsx(Op,{size:16})," Close"]}),v.jsx("div",{className:"flex flex-col items-center justify-center min-h-full select-none pb-10",children:v.jsx(RL,{file:c,onLoadSuccess:u,className:"flex flex-col gap-4",loading:v.jsxs("div",{className:"flex flex-col items-center justify-center text-white h-64",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),v.jsx("p",{children:"Loading Secure Document..."})]}),error:v.jsxs("div",{className:"text-red-400 p-10 text-center border border-red-900 rounded-lg bg-red-900/20",children:[v.jsx("p",{className:"text-xl font-bold",children:"Unable to load PDF."}),v.jsx("p",{className:"text-sm mt-2 opacity-70",children:"Ensure file exists in 'public' folder."}),v.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Target: ",c]})]}),children:e&&Array.from(new Array(e),(d,f)=>v.jsx(IL,{pageNumber:f+1,renderTextLayer:!1,renderAnnotationLayer:!1,className:"shadow-2xl mb-4 border border-gray-800",width:Math.min(a*.85,900)},`page_${f+1}`))})})]})})},VL="/AllReports.pdf",Ax="daniyalzahidhashmi@hotmail.com",Sx="https://www.linkedin.com/in/daniyal-hashmi101",uf=[{prefix:"The way to succeed is to",highlight:"double your failure rate.",author:"Thomas J. Watson"},{prefix:"Scientists discover the world that exists;",highlight:"engineers create the world that never was.",author:"Theodore von Krmn"},{prefix:"Design is not just what it looks like.",highlight:"Design is how it works.",author:"Steve Jobs"},{prefix:"Failure is simply the opportunity to begin again,",highlight:"this time more intelligently.",author:"Henry Ford"},{prefix:"Strive for perfection in everything you do.",highlight:"Take the best that exists and make it better.",author:"Sir Henry Royce"},{prefix:"It is not about ideas. It is about",highlight:"making ideas happen.",author:"Scott Belsky"}],HL=[{title:"Catapult Project",desc:"A mechanical design challenge focusing on trajectory and force.",icon:v.jsx(LD,{size:24}),pdf:"/DaniyalHashmiCatapultProject.pdf"},{title:"Whistle Design",desc:"3D modeling and additive manufacturing of a functional whistle.",icon:v.jsx(rR,{size:24}),pdf:"/Daniyalhashmiwhistle.pdf"},{title:"House Modelling",desc:"Architectural CAD modelling and spatial design.",icon:v.jsx(OD,{size:24}),pdf:"/HouseRenovationProposal.pdf"},{title:"3D Scan Turntable",desc:"A 3D printed turntable designed to assist in photogrammetry.",icon:v.jsx(SD,{size:24}),pdf:"/DaniyalhashmiIDS.pdf"}],Oc={initial:{opacity:0,y:20,filter:"blur(10px)"},in:{opacity:1,y:0,filter:"blur(0px)"},out:{opacity:0,y:-20,filter:"blur(10px)"}},Pc={type:"tween",ease:"anticipate",duration:.5},wx={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},Ba={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},GL=[{id:1,title:"Problem Definition",icon:v.jsx(cA,{size:24}),short:"Identify the root cause.",detail:v.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-slate-600 text-sm",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Context:"})," Lead service lines affect over 10M+ homes."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Core Issue:"})," Excavation is disruptive/expensive."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Goal:"})," Identify toxic infrastructure remotely."]})]}),reportContent:v.jsx("div",{className:"space-y-4",children:v.jsx("p",{children:"During this stage, my team and I investigated the widespread prevalence of Lead Service Lines (LSLs). We identified that current methods like excavation are cost-prohibitive ($5,000+ per site) and disruptive to homeowners. We set our primary objective: to design a remote tool capable of navigating 19mm pipes to distinguish lead from copper or steel without the need for digging."})})},{id:2,title:"Study & Clarify",icon:v.jsx(tR,{size:24}),short:"Researching constraints.",detail:v.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-slate-600 text-sm",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Constraints:"})," Remote, Portable, Safe, ~$150."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Stakeholders:"})," Municipal Councils, Health Canada."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Research:"})," Water sampling is slow; excavation is intrusive."]})]}),reportContent:v.jsx("div",{className:"space-y-4",children:v.jsx("p",{children:"My team and I conducted a comprehensive stakeholder analysis involving Municipal Councils and Health Canada. We established strict constraints: the device needed to be remote, portable, safe for drinking water, and cost ~$150 CAD. We clarified that the device must navigate 90-degree bends in 19mm diameter pipes while operating in wet or pressurized environments."})})},{id:3,title:"Generate Solutions",icon:v.jsx(kp,{size:24}),short:"Ideation & C-Sketch.",detail:v.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-slate-600 text-sm",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Methods:"})," Brainstorming, SCAMPER, C-Sketch."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Output:"})," 39 distinct ideas."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Focus:"})," Quantity and variety of solutions."]})]}),reportContent:v.jsx("div",{className:"space-y-4",children:v.jsx("p",{children:'My team and I utilized ideation frameworks including SCAMPER and Collaborative Sketching (C-Sketch). This phase prioritized quantity, resulting in 39 distinct concepts ranging from high-tech Neural Networks to mechanical solutions. Key concepts that emerged included the "Pipe Vehicle" (a motorized rover) and the "Scraper Endoscope" (a manual push-rod device).'})})},{id:4,title:"Identify Solution",icon:v.jsx(Ga,{size:24}),short:"Screening & Selection.",detail:v.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-slate-600 text-sm",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Screening:"})," Weighted Decision Matrix."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Selection:"}),' "Scraper Endoscope" selected.']}),v.jsxs("li",{children:[v.jsx("strong",{children:"Analysis:"})," Sensitivity Analysis confirmed."]})]}),reportContent:v.jsx("div",{className:"space-y-4",children:v.jsx("p",{children:'We employed a Weighted Decision Matrix to filter our 39 concepts, weighting Safety and Performance at 25% each. While the "Pipe Vehicle" was innovative, we identified critical flaws in its propulsion feasibility. Consequently, we selected the "Scraper Endoscope" for its reliance on reliable mechanical principles (Mohs hardness) over complex electronics, maximizing reliability and minimizing cost.'})})},{id:5,title:"Develop & Test",icon:v.jsx(hA,{size:24}),short:"Iterative Prototyping.",detail:v.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-slate-600 text-sm",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Proto 1:"})," Virtual test of geometry."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Proto 2:"})," Optimized scraper hook."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Proto 3:"})," Physical PLA chassis tested."]})]}),reportContent:v.jsx("div",{className:"space-y-4",children:v.jsx("p",{children:'During this stage, my team and I followed an iterative "Design-Build-Test" cycle. We started with virtual simulations (Prototype 1) to test geometry, moved to a physical scraper head (Prototype 2) to test debris collection, and finally built a 6-wheel centering chassis (Prototype 3) to validate stability inside a physical pipe. This confirmed our aluminum tip could scratch lead (Mohs 1.5) without damaging copper (Mohs 3.0).'})})},{id:6,title:"Implement",icon:v.jsx(Lp,{size:24}),short:"Final Design & Risk.",detail:v.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-slate-600 text-sm",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Outcome:"})," Costing ~$140 CAD."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Risk:"})," Safety risks mitigated to 'Low'."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Impact:"})," Non-invasive alternative."]})]}),reportContent:v.jsx("div",{className:"space-y-4",children:v.jsx("p",{children:"My team and I finalized the design, achieving a material cost of ~$140 CAD (well under our ~$150 target). We conducted a rigorous risk assessment, ensuring safety risks were classified as 'Low' by using Aluminum 6061 (Mohs 2.75). This ensures the device is physically incapable of damaging steel or copper infrastructure, fulfilling our primary safety mandate."})})}],qL=[{title:"Ideation & Team Dynamics",description:"We began by using the brainstorming technique which included listing out immediate far fetched concepts like 'talking pipes' or 'poking spikes in the ground'. We also utilised other techniques during this process, such as inverses, and extremes. These techniques included solving the reverse problem (Method of Inverses) or using extreme solutions to mkae sure our team was not fixate on a single solution. Then finally used the C-Sketch method to generate 5 creative ideas to add onto our list of brainstormed ideas. Adding up to 39 unique and diverse ideas, ranging from Ground Penetrating Radars, to time machines.",images:[{src:"/mindmap.png",title:"Ideation Process Mind Map",desc:"This midmap highlights the organized, and well though out ideation process that makes use of various ideation techniques, and considers various factors. When creating this, had to make sure this process would be benificial to coming up with the best solutiion."},{src:"/All C_sketches.png",title:"C-Sketch Output",desc:"A collection of the 5 ideas generated during the C-Sketch method. These ideas are diverse, creative, and stopped anchoring on certain ideas."},{src:"/Working_Together_2.jpg",title:"Team Collaboration",desc:"Team collaboration was necessaru throughout this project. We had to have clear communication with each other, and have an efficient, and performing team dynamic."}]},{title:"The 'Pipe Car' Concept (My Model)",description:"Our initial top contender was the 'Pipe Vehicle'. I created this low-fidelity CAD model to visualize how a motorized rover could navigate 19mm pipes. It could carry cameras, sensors, or scrapers. However, during virtual testing, we realized that motors small enough to fit in the pipe lacked the torque required, or just did not exist. This critical feasibility failure forced us to pivot to a more feasible solutions.",images:[{src:"/PipeCar_Low_Fidelity_CAD_View3.png",title:"My CAD: Pipe Car",desc:"I made this low-fidelity 3D model of the chassis of the pipe car to visualise size, dimensions, and overall functionality. This virtul prototype was necessary for us to understand that the pipe car was not feasible for out project."}]},{title:"The Pivot: Scraper Endoscope",description:"We moved to a simpler, more promising solution: The Piper Endoscope. I developed this low-fidelity prototype (prototype 1) to visualize how it would look, and specifically visualize the head and its functionality. By selecting a material hard enough on the Mohs Hardness scale that can scratch lead, but no other commonly used pipe material, we use this as a mechanical test, which could even retrieve samples to be tested for verification.",images:[{src:"/PipeEndoscope_Proto1_View1.png",title:"My CAD: Proto 1",desc:"I created this render/3D model of the pipe endoscope to communicate how the it would look, and more importantly, this gave us a good idea of what we could do for this solution."}]},{title:"Final Design & Planning",description:"The final design (Prototype 3) integrated a 6-wheel centering chassis for the head to stabilize the scratch tool that could be retracted or extend as using a mechanical wire. This ensures the tool applies even pressure regardless of orientation. To ensure successful delivery, I developed a comprehensive Gantt Chart outlining a 121 days implementation plan, identifying the critical path from regulatory validation to final marketing and launch.",images:[{src:"/PipeEndoscope_Proto3_View2.png",title:"Final Design",desc:"Transparent view of the final  head chassis. This mechanism ensures the scratch tool remains centered in the pipe."},{src:"/GanttChart.png",title:"My Project Management",desc:"I created this Gantt Chart to map our Critical Path (121.5 days), managing dependencies between R&D, procurement, and testing."}]}],XL=[{component:"Scraper Head",material:"Brass (Trade Mix)",reason:"Selected for balance of corrosion resistance and tensile strength. Low environmental impact (3.17 /kg).",icon:v.jsx(hA,{size:18})},{component:"Tubing",material:"SBR (Styrene-Butadiene)",reason:"Selected for superior chemical/weather resistance over natural rubber. Low carbon footprint (0.52 /kg).",icon:v.jsx(oA,{size:18})},{component:"Chassis Wheels",material:"PVC",reason:"Selected for high compressive modulus and long service life. Very low carbon footprint (0.34 /kg).",icon:v.jsx(Ga,{size:18})}],YL=[{id:"R001",desc:"Device gets stuck in pipe.",cat:"Operational",source:"Preventable",L:3,I:5,score:15,level:"High",strategy:"Mitigate"},{id:"R002",desc:"Scraper breaks off in pipe.",cat:"Operational",source:"Preventable",L:1,I:5,score:5,level:"Low",strategy:"Mitigate"},{id:"R003",desc:"Not collecting enough sample.",cat:"Operational",source:"External",L:1,I:2,score:2,level:"Low",strategy:"Accept"},{id:"R004",desc:"GPS malfunctioning.",cat:"Operational",source:"Preventable",L:2,I:2,score:4,level:"Low",strategy:"Mitigate"},{id:"R005",desc:"Contaminating pipes with lead.",cat:"Safety",source:"Preventable",L:1,I:4,score:4,level:"Low",strategy:"Mitigate"},{id:"R006",desc:"Tripping on rubber body.",cat:"Safety",source:"Preventable",L:1,I:1,score:1,level:"Low",strategy:"Accept"},{id:"R007",desc:"Pipe leak/damage to env.",cat:"Safety",source:"External",L:1,I:1,score:1,level:"Low",strategy:"Accept"},{id:"R008",desc:"Wrong design dimensions.",cat:"Technical",source:"Preventable",L:2,I:4,score:8,level:"Medium",strategy:"Mitigate"},{id:"R009",desc:"Incorrect aluminum alloy.",cat:"Technical",source:"Preventable",L:2,I:4,score:8,level:"Medium",strategy:"Mitigate"},{id:"R010",desc:"Incorrect rubber type.",cat:"Technical",source:"Preventable",L:2,I:3,score:6,level:"Medium",strategy:"Avoid"},{id:"R011",desc:"Selling non-functioning part.",cat:"Technical",source:"Preventable",L:2,I:5,score:10,level:"Medium",strategy:"Mitigate"},{id:"R012",desc:"Product not finished on time.",cat:"Proj Mgmt",source:"Preventable",L:1,I:3,score:3,level:"Low",strategy:"Avoid"},{id:"R013",desc:"Not completing within budget.",cat:"Proj Mgmt",source:"Strategic",L:1,I:3,score:3,level:"Low",strategy:"Accept"},{id:"R014",desc:"Communication breakdown.",cat:"Proj Mgmt",source:"Preventable",L:2,I:4,score:8,level:"Medium",strategy:"Mitigate"},{id:"R015",desc:"Exceeding Project Scope.",cat:"Proj Mgmt",source:"Strategic",L:2,I:2,score:4,level:"Low",strategy:"Avoid"},{id:"R016",desc:"Inadequate market research.",cat:"Market",source:"Preventable",L:2,I:3,score:6,level:"Medium",strategy:"Mitigate"},{id:"R017",desc:"Wrong target audience.",cat:"Market",source:"Preventable",L:2,I:3,score:6,level:"Medium",strategy:"Mitigate"},{id:"R018",desc:"Price fluctuations.",cat:"Market",source:"Preventable",L:3,I:3,score:9,level:"Medium",strategy:"Mitigate"}],$L=[{phase:"Regulatory",task:"Validate Requirements",days:"1 Day"},{phase:"R&D",task:"Simulations & CAD",days:"21 Days"},{phase:"Procurement",task:"Material Sourcing",days:"7 Days"},{phase:"Build",task:"Prototype Assembly",days:"4 Days"},{phase:"Testing",task:"Performance Validation",days:"6 Days"},{phase:"Launch",task:"Stakeholder Review",days:"14 Days"}],KL=[{title:"Engineering Design Process",icon:v.jsx(jf,{size:32}),content:v.jsx(v.Fragment,{children:"I learned that the engineering design process is a non-linear process that requires a lot of iteration and good teamwork to be successful in solving an open ended, real life problem. In APSC 169 design labs, we first initially selected the 'Pipe Vehicle' concept because it was versatile and innovative. However, during virtual prototyping, we realized the motors required to move it lacked sufficient torque, did not exist, or function in the way we were hoping for them. We had to step back and pivot to the 'Pipe Endoscope'. This taught me that failure in a prototype is actually a critical success in the process, as it generates the data needed to refine the final solution towards feasibility."})},{title:"Attributes of an Engineer",icon:v.jsx(uA,{size:32}),content:v.jsxs(v.Fragment,{children:["During my time working on this project I learned that there are many important attributes that an engineer should have:",v.jsxs("ul",{className:"list-disc pl-5 space-y-2 mt-4 text-base",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Problem-Solving and Critical Thinking:"})," The ability to analyze complex, real world, open-ended problems, break them down into manageable parts, and develop innovative solutions is fundamental. My experience with the 'Pipe Vehicle' failure showed the need for screening and scoring initial designs when faced with new challenges."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Adaptability and Iteration:"})," Since the design process is non-linear, engineers must be flexible. Real-world constraints often require major changes, requiring the engineer to quickly iterate and learn from failures."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Effective Communication and Teamwork:"})," Engineering projects are rarely a one person job. Success relies heavily on clear communication, active listening, conflict resolution, and collaborating effectively within a diverse team."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Ethical Responsibility:"})," An engineer must always consider the impact of their work on the public, the environment, and society. This involves upholding engineering ethics, prioritizing safety, and designing sustainable solutions."]})]})]})},{title:"Role in Society",icon:v.jsx(XD,{size:32}),content:v.jsx(v.Fragment,{children:"My experience on this project significantly deepened my understanding of the professional engineer's role. Working on the Lead Service Line detection system showed me that engineers solve critical societal issues. We had to navigate bylaws, environmental impacts, and health risks, and the needs of various stakeholders of various degrees. I also realized that the quality of work an engineer produces has a significant impact on peoples lives. An engineer's responsibility extends beyond just making things, it includes the safety, sustainability, and ethics, morals, and integrity of the solutions we introduce into society to solve real world problems."})},{title:"Strengths & Growth",icon:v.jsx(kp,{size:32}),content:v.jsx(v.Fragment,{children:"I bring strong strengths in CAD visualization and technical sketching, which allowed our team to rapidly prototype ideas virtually before building them physically. I acted as an 'Optimizer', refining our designs for efficiency, and making sure our group dynamics were always at the performing stage. However, I identified a need for growth in practical electronics and physical prototyping. Even though I may be skillful in these areas, there is always room for improvement. I plan on improving and building upon my knowledge in these skills throughout my university experience. I plan on becoming an active member in some of the clubs, and even plan on starting my own club with my peers in Bionics, to be able to learn something new, implement my academic knowledge, and grow."})}],WL=()=>{const r=F.useRef(null),t=F.useRef({x:-1e3,y:-1e3});return F.useEffect(()=>{if(typeof window>"u")return;const e=r.current;if(!e)return;const i=e.getContext("2d");let a;const l=()=>{e.width=window.innerWidth,e.height=window.innerHeight},c=p=>{t.current={x:p.clientX,y:p.clientY}};window.addEventListener("resize",l),window.addEventListener("mousemove",c),l();const u=[],d=40;for(let p=0;p<window.innerWidth+d;p+=d)for(let g=0;g<window.innerHeight+d;g+=d)u.push({x:p,y:g,originX:p,originY:g});const f=()=>{i.clearRect(0,0,e.width,e.height),i.fillStyle="#94a3b8",u.forEach(p=>{const g=t.current.x-p.x,b=t.current.y-p.y,x=Math.sqrt(g*g+b*b),w=150;if(x<w){const S=(w-x)/w,E=Math.atan2(b,g),T=Math.cos(E)*S*-30,M=Math.sin(E)*S*-30;p.x+=(p.originX+T-p.x)*.1,p.y+=(p.originY+M-p.y)*.1}else p.x+=(p.originX-p.x)*.1,p.y+=(p.originY-p.y)*.1;i.beginPath(),i.arc(p.x,p.y,1,0,Math.PI*2),i.fill()}),a=requestAnimationFrame(f)};return f(),()=>{window.removeEventListener("resize",l),window.removeEventListener("mousemove",c),cancelAnimationFrame(a)}},[]),v.jsx("canvas",{ref:r,className:"fixed inset-0 z-0 opacity-20 pointer-events-none"})},po=({children:r,onClick:t,className:e,active:i})=>{const a=F.useRef(null),l=nr(0),c=nr(0),u={damping:15,stiffness:150,mass:.1},d=Pf(l,u),f=Pf(c,u),p=b=>{const{clientX:x,clientY:w}=b,{height:S,width:E,left:T,top:M}=a.current.getBoundingClientRect(),_=T+E/2,N=M+S/2;l.set((x-_)*.3),c.set((w-N)*.3)},g=()=>{l.set(0),c.set(0)};return v.jsx(wt.button,{ref:a,onClick:t,onMouseMove:p,onMouseLeave:g,style:{x:d,y:f},className:e,children:r})},QL=()=>{const[r,t]=F.useState(!1);return v.jsxs("div",{className:"relative z-50 mt-6 w-full max-w-2xl mx-auto",children:[v.jsxs(wt.button,{onClick:()=>t(!r),className:"flex items-center justify-between w-full px-6 py-4 bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl text-left transition-colors hover:bg-white/20 group",children:[v.jsxs("span",{className:"text-emerald-300 font-bold uppercase tracking-widest text-sm flex items-center gap-2",children:[v.jsx(WD,{size:14,className:"text-emerald-400"})," Project Abstract"]}),v.jsx("div",{className:`p-1 rounded-full bg-white/10 transition-transform duration-300 ${r?"rotate-180":""}`,children:v.jsx(gD,{size:16,className:"text-white"})})]}),v.jsx(qo,{children:r&&v.jsx(wt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:v.jsx("div",{className:"px-6 py-6 bg-slate-900/50 backdrop-blur-xl border-x border-b border-white/10 rounded-b-2xl -mt-1 pt-6",children:v.jsx("p",{className:"text-slate-300 leading-relaxed text-sm md:text-base font-light",children:"There is an urgent need for a sustainable, remote, and non-invasive solution to detect lead service lines in residential infrastructure. With millions of homes affected, traditional excavation methods are disruptive, costly, and environmentally damaging. Our team used the engineering design process to develop the Pipe Endoscope. This device is designed to navigate narrow pipes and utilizes a scraper to scrape only lead, and sample it using a filter to be brought back for testing and confirmation, to distinguish soft lead from harder copper or steel infrastructure. The final solution, validated through virtual simulations and physical 3D-printed prototypes, offers a cost effective (~$150 CAD), portable, and safe alternative to excavation, ensuring public health safety while minimising environmental impact."})})})})]})},ZL=({item:r})=>{const[t,e]=F.useState(!1);return v.jsxs(v.Fragment,{children:[v.jsxs(wt.div,{layoutId:`bento-img-${r.src}`,onClick:()=>e(!0),className:`${r.span||"col-span-1"} group relative rounded-3xl overflow-hidden cursor-pointer shadow-sm hover:shadow-xl transition-all duration-300 bg-slate-100 border border-slate-200 aspect-video`,whileHover:{scale:1.02},children:[v.jsx(wt.img,{src:r.src,alt:r.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),v.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/90 via-slate-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[v.jsx("p",{className:"text-emerald-300 font-bold text-xs uppercase tracking-wider mb-1",children:"View Details"}),v.jsx("p",{className:"text-white font-bold text-lg leading-tight",children:r.title}),v.jsx("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm p-2 rounded-full text-white",children:v.jsx(VD,{size:16})})]})]}),v.jsx(qo,{children:t&&v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[v.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(!1),className:"absolute inset-0 bg-slate-900/95 backdrop-blur-lg"}),v.jsxs(wt.div,{layoutId:`bento-img-${r.src}`,className:"relative z-10 w-full max-w-6xl bg-black rounded-[2.5rem] overflow-hidden shadow-2xl flex flex-col md:flex-row max-h-[90vh] border border-white/10",children:[v.jsx("div",{className:"relative flex-1 bg-black/50 flex items-center justify-center p-8 md:p-12",children:v.jsx("img",{src:r.src,alt:r.title,className:"max-w-full max-h-[50vh] md:max-h-[80vh] object-contain rounded-lg shadow-2xl"})}),v.jsxs("div",{className:"w-full md:w-[450px] bg-slate-50 p-8 md:p-12 flex flex-col justify-center overflow-y-auto",children:[v.jsx("button",{onClick:()=>e(!1),className:"absolute top-6 right-6 p-2 bg-slate-200 rounded-full text-slate-600 hover:bg-slate-300 transition-colors",children:v.jsx(Op,{size:20})}),v.jsxs("div",{className:"mb-6",children:[v.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-bold uppercase tracking-widest mb-3",children:"Image Analysis"}),v.jsx("h3",{className:"text-3xl font-black text-slate-900 leading-tight",children:r.title})]}),v.jsx("div",{className:"h-1 w-20 bg-emerald-500 rounded-full mb-8"}),v.jsx("div",{className:"prose prose-slate",children:v.jsx("p",{className:"text-slate-600 leading-relaxed text-lg",children:r.desc})})]})]})]})})]})},JL=({onSelectProject:r,onViewPdf:t})=>v.jsxs("div",{className:"space-y-16",children:[v.jsxs("div",{className:"text-center space-y-4 mb-16",children:[v.jsx("h2",{className:"text-4xl md:text-5xl font-black text-slate-900",children:"My Projects"}),v.jsx("p",{className:"text-slate-500 text-lg max-w-2xl mx-auto",children:"A collection of my engineering design work, prototyping, and technical problem solving."})]}),v.jsxs(wt.div,{onClick:()=>r("lead-detection"),whileHover:{y:-5},className:"relative w-full bg-slate-900 rounded-[2.5rem] overflow-hidden cursor-pointer shadow-2xl group border border-slate-800",children:[v.jsxs("div",{className:"absolute inset-0",children:[v.jsx("div",{className:"absolute -right-20 -top-20 w-96 h-96 bg-emerald-500/20 rounded-full blur-[100px]"}),v.jsx("div",{className:"absolute -left-20 -bottom-20 w-80 h-80 bg-blue-500/20 rounded-full blur-[80px]"})]}),v.jsxs("div",{className:"relative z-10 grid md:grid-cols-2 gap-8 p-8 md:p-12 items-center",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/20 text-emerald-400 text-xs font-bold uppercase tracking-widest border border-emerald-500/30",children:[v.jsx(Lp,{size:12})," Featured Case Study"]}),v.jsxs("h3",{className:"text-3xl md:text-5xl font-black text-white leading-tight",children:["Lead Service Line ",v.jsx("br",{})," Detection Device"]}),v.jsx("p",{className:"text-slate-400 text-lg leading-relaxed",children:"A comprehensive engineering design project addressing the public health crisis of lead contamination. Follows the full design cycle from problem definition to valid physical prototyping."}),v.jsxs("div",{className:"flex flex-wrap gap-3",children:[v.jsx("span",{className:"px-3 py-1 bg-slate-800 text-slate-300 rounded-lg text-xs font-mono border border-slate-700",children:"CAD"}),v.jsx("span",{className:"px-3 py-1 bg-slate-800 text-slate-300 rounded-lg text-xs font-mono border border-slate-700",children:"Prototyping"}),v.jsx("span",{className:"px-3 py-1 bg-slate-800 text-slate-300 rounded-lg text-xs font-mono border border-slate-700",children:"Systems Analysis"})]}),v.jsx("div",{className:"pt-4",children:v.jsxs("span",{className:"inline-flex items-center gap-2 text-white font-bold group-hover:translate-x-2 transition-transform",children:["Click to View! ",v.jsx(Np,{size:20})]})})]}),v.jsx("div",{className:"relative h-64 md:h-full min-h-[300px] bg-slate-800/50 rounded-3xl overflow-hidden border border-white/10 flex items-center justify-center p-6 group-hover:bg-slate-800/70 transition-colors",children:v.jsx("img",{src:"/PipeEndoscope_Proto3_View2.png",alt:"Lead Detection Device",className:"w-full h-full object-contain transition-transform duration-700 group-hover:scale-110"})})]})]}),v.jsxs("div",{className:"space-y-8",children:[v.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[v.jsx(lA,{className:"text-emerald-500",size:24})," Project Archive"]}),v.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:HL.map((e,i)=>v.jsxs(wt.div,{onClick:()=>e.pdf?t(e.pdf):window.open(e.link,"_blank"),whileHover:{y:-5},className:"cursor-pointer group block bg-white p-8 rounded-3xl border border-slate-200 shadow-sm hover:shadow-lg hover:border-emerald-200 transition-all",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-600 group-hover:bg-emerald-500 group-hover:text-white transition-colors",children:e.icon}),v.jsx(TD,{size:20,className:"text-slate-300 group-hover:text-emerald-500 transition-colors"})]}),v.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2 group-hover:text-emerald-700 transition-colors",children:e.title}),v.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:e.desc})]},i))})]})]}),tk=({onBack:r})=>{const[t,e]=F.useState(null),[i,a]=F.useState("lca");return v.jsxs(wt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"space-y-24",children:[v.jsx("div",{className:"sticky top-24 z-40 pb-4 bg-gradient-to-b from-slate-50 to-transparent",children:v.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-5 py-2 bg-white border border-slate-200 rounded-full shadow-sm hover:shadow-md hover:text-emerald-600 transition-all text-slate-600 font-bold text-sm",children:[v.jsx(lD,{size:16})," Back to Projects"]})}),v.jsxs("header",{className:"bg-slate-900 text-white rounded-[2.5rem] p-10 md:p-20 relative overflow-visible shadow-2xl",children:[v.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-emerald-500/20 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/3 pointer-events-none"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-blue-500/10 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4 pointer-events-none"}),v.jsxs("div",{className:"relative z-10 max-w-4xl",children:[v.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 font-bold uppercase tracking-wider text-[10px] mb-6",children:[v.jsx(Lp,{size:12})," APSC 169 Team 02"]}),v.jsxs("h2",{className:"text-4xl md:text-6xl font-black mb-8 leading-tight",children:["Lead Service Line ",v.jsx("br",{})," Detection"]}),v.jsx("p",{className:"text-slate-300 text-xl leading-relaxed max-w-2xl font-light",children:"Designing a remote, portable, and low-maintenance solution to identify lead service line infrastructure without excavation."}),v.jsx(QL,{})]})]}),v.jsxs("section",{className:"grid md:grid-cols-2 gap-12 items-center",children:[v.jsxs("div",{className:"prose prose-lg text-slate-600",children:[v.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[v.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-red-100 text-red-600 text-sm",children:"01"}),"The Challenge"]}),v.jsxs("p",{className:"text-justify",children:[v.jsx("strong",{children:"Why we did it:"})," Lead contamination in drinking water remains a critical public health threat. Traditional methods of detection (excavation) are disruptive, expensive, and environmentally damaging."]}),v.jsxs("p",{className:"text-justify",children:[v.jsx("strong",{children:"Objective:"})," To design a device that is remote, portable, safe for humans/environment, and costs under $100 to prototype."]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center",children:[v.jsx("p",{className:"text-4xl font-black text-red-500 mb-1",children:"10M+"}),v.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Lead Pipes in N. America"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center",children:[v.jsx("p",{className:"text-4xl font-black text-red-500 mb-1",children:"$5k+"}),v.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Cost per Excavation"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center",children:[v.jsx("p",{className:"text-4xl font-black text-red-500 mb-1",children:"50%"}),v.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Euro Properties at Risk"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center",children:[v.jsx("p",{className:"text-4xl font-black text-emerald-500 mb-1",children:"~$150"}),v.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Target Device Cost"})]})]})]}),v.jsxs("section",{className:"bg-white rounded-3xl p-8 md:p-12 shadow-sm border border-slate-100",children:[v.jsxs("h3",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center gap-3",children:[v.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-600 text-sm",children:"02"}),"The Engineering Process"]}),v.jsx("p",{className:"text-slate-600 mb-8 max-w-4xl text-lg leading-relaxed",children:"We utilized a structured engineering design process to tackle the complex issue of Lead Service Line detection. By moving methodically from problem definition to final implementation, we ensured our solution was not just innovative, but feasible, safe, and economically viable."}),v.jsx(t_,{children:v.jsxs("div",{className:"w-full",children:[v.jsx("p",{className:"text-sm text-slate-400 uppercase tracking-wider mb-4 text-center font-semibold",children:"Hover to Expand  Click for Details"}),v.jsx("div",{className:"flex flex-col lg:flex-row gap-4 h-auto lg:h-[450px]",children:GL.map(l=>v.jsx(nk,{step:l,isHovered:t===l.id,setHovered:e},l.id))})]})})]}),v.jsxs("section",{className:"space-y-16",children:[v.jsx("div",{className:"text-left mb-8",children:v.jsxs("h3",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[v.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-600 text-sm",children:"03"}),"The Design Evolution"]})}),qL.map((l,c)=>v.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center mb-24 last:mb-0",children:[v.jsxs("div",{className:c%2===1?"lg:order-2":"",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx("div",{className:"w-12 h-1 bg-emerald-500"}),v.jsxs("span",{className:"text-emerald-600 font-bold uppercase tracking-widest text-xs",children:["Phase 0",c+1]})]}),v.jsx("h4",{className:"text-3xl font-black text-slate-900 mb-4 leading-tight",children:l.title}),v.jsx("p",{className:"text-slate-600 leading-relaxed text-lg mb-8",children:l.description})]}),v.jsx("div",{className:`${c%2===1?"lg:order-1":""} grid gap-6 grid-cols-1`,children:l.images.map((u,d)=>v.jsx(ZL,{item:u},d))})]},c))]}),v.jsxs("section",{className:"bg-white rounded-3xl p-8 md:p-12 shadow-sm border border-slate-100",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-10 gap-6",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-slate-900 gap-3 flex items-center",children:[v.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-purple-100 text-purple-600 text-sm",children:"04"}),"Technical Analysis"]}),v.jsx("p",{className:"text-slate-500 mt-2 max-w-2xl",children:"Technical Analysis of Life Cycle Assessment (LCA), Systems Thinking, and Risk Management."})]}),v.jsx("div",{className:"flex gap-2 bg-slate-100 p-1 rounded-lg",children:["lca","system","risk"].map(l=>v.jsx("button",{onClick:()=>a(l),className:`px-4 py-2 rounded-md text-xs font-bold uppercase tracking-wider transition-all ${i===l?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:l==="lca"?"Materials (LCA)":l==="system"?"Systems":"Risk Matrix"},l))})]}),v.jsx("div",{className:"min-h-[400px]",children:v.jsxs(qo,{mode:"wait",children:[i==="lca"&&v.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"grid md:grid-cols-3 gap-6",children:[XL.map((l,c)=>v.jsxs("div",{className:"p-6 rounded-2xl border border-slate-100 bg-slate-50 hover:border-emerald-200 hover:shadow-md transition-all group",children:[v.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-emerald-600 shadow-sm mb-4 group-hover:scale-110 transition-transform",children:l.icon}),v.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:l.component}),v.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-3",children:l.material}),v.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:l.reason})]},c)),v.jsxs("div",{className:"md:col-span-3 mt-4 p-4 bg-blue-50 rounded-xl border border-blue-100 text-sm text-blue-800 flex items-start gap-3",children:[v.jsx(ZD,{size:20,className:"shrink-0 mt-0.5"}),v.jsx("p",{children:"Brass was chosen over Nickel due to lower eco-toxicity (0.25 /kg vs 14.06 /kg). SBR tubing was selected for superior chemical resistance over natural rubber."})]})]},"lca"),i==="system"&&v.jsx(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:v.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[v.jsxs("div",{className:"prose prose-sm text-slate-600",children:[v.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-4",children:"Causal Loop Analysis"}),v.jsx("p",{className:"mb-4",children:"The causal loop diagram describes the consequences of the pipe endoscopes that apply to the city of Kelowna and some surrounding areas. In particular, public health, stakeholder satisfaction, resident and safety demand, regulatory and municipal pressure, equipment deployment, operational constraints, and contractor acceptance are all taken into account. However, financial aspects, lead remediation actions, and broader infrastructure policy were excluded to focus on the device's immediate impact."}),v.jsxs("ul",{className:"space-y-4 list-none pl-0",children:[v.jsxs("li",{className:"flex gap-3",children:[v.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs font-bold shrink-0",children:"R"}),v.jsx("span",{children:v.jsx("strong",{children:"Reinforcing Loop"})})]}),v.jsxs("li",{className:"flex gap-3",children:[v.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xs font-bold shrink-0",children:"B"}),v.jsx("span",{children:v.jsx("strong",{children:"Balancing Loop"})})]})]})]}),v.jsx("div",{className:"bg-slate-100 rounded-2xl p-4 border border-slate-200 overflow-hidden",children:v.jsx("img",{src:"/SystemDiagramVisualization.png",alt:"System Diagram",className:"w-full h-auto rounded-lg shadow-sm"})})]})},"system"),i==="risk"&&v.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-8",children:[v.jsx("div",{className:"flex justify-center items-center bg-slate-100 rounded-3xl p-4 border border-slate-200",children:v.jsx("img",{src:"/risk-matrix.png",alt:"Risk Assessment Matrix",className:"max-w-full h-auto rounded-xl shadow-sm"})}),v.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-3xl overflow-hidden shadow-sm",children:[v.jsxs("div",{className:"p-6 border-b border-slate-200 bg-white",children:[v.jsxs("h4",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[v.jsx(cA,{size:20,className:"text-emerald-500"}),"Detailed Risk Register"]}),v.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"A comprehensive breakdown of identified risks, their classification, and mitigation strategies."})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 border-b border-slate-200",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-4 font-bold",children:"ID"}),v.jsx("th",{className:"px-6 py-4 font-bold",children:"Risk Description"}),v.jsx("th",{className:"px-6 py-4 font-bold",children:"Category"}),v.jsx("th",{className:"px-6 py-4 font-bold text-center",children:"Score"}),v.jsx("th",{className:"px-6 py-4 font-bold text-center",children:"Level"}),v.jsx("th",{className:"px-6 py-4 font-bold text-right",children:"Strategy"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:YL.map(l=>v.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[v.jsx("td",{className:"px-6 py-4 font-mono text-slate-400 group-hover:text-emerald-600 transition-colors",children:l.id}),v.jsx("td",{className:"px-6 py-4 text-slate-700 font-medium",children:l.desc}),v.jsx("td",{className:"px-6 py-4 text-slate-500",children:v.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded text-xs border border-slate-200",children:l.cat})}),v.jsx("td",{className:"px-6 py-4 text-center font-mono text-slate-500",children:l.score}),v.jsx("td",{className:"px-6 py-4 text-center",children:v.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.level==="High"?"bg-red-100 text-red-800":l.level==="Medium"?"bg-amber-100 text-amber-800":"bg-emerald-100 text-emerald-800"}`,children:l.level})}),v.jsx("td",{className:"px-6 py-4 text-right",children:v.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${l.strategy==="Mitigate"?"text-blue-600":l.strategy==="Avoid"?"text-purple-600":"text-slate-500"}`,children:l.strategy})})]},l.id))})]})})]})]},"risk")]})})]}),v.jsxs("section",{className:"relative",children:[v.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-slate-200 hidden md:block"}),v.jsxs("h3",{className:"text-2xl font-bold text-slate-900 mb-8 flex items-center gap-3 pl-0 md:pl-0",children:[v.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-600 text-sm relative z-10",children:"05"}),"Implementation Strategy"]}),v.jsx("div",{className:"space-y-8",children:v.jsx("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm relative z-10 md:ml-16",children:v.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:"Critical Path Analysis"}),v.jsxs("p",{className:"text-slate-600 mb-4",children:["Total Project Duration: ",v.jsx("strong",{children:"121.5 Days"}),"."]}),v.jsx("div",{className:"space-y-3",children:$L.map((l,c)=>v.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[v.jsx("span",{className:"w-24 font-bold text-slate-400 text-right",children:l.phase}),v.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full overflow-hidden",children:v.jsx(wt.div,{initial:{width:0},whileInView:{width:`${parseInt(l.days)/30*100}%`},className:"h-full bg-blue-500 rounded-full"})}),v.jsx("span",{className:"w-16 font-mono text-slate-500",children:l.days})]},c))})]}),v.jsxs("div",{className:"w-full md:w-64 bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[v.jsxs("h5",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[v.jsx(pD,{size:16})," Key Milestones"]}),v.jsxs("ul",{className:"space-y-3 text-sm text-slate-600",children:[v.jsxs("li",{className:"flex justify-between",children:[v.jsx("span",{children:"Design Freeze"})," ",v.jsx("span",{className:"text-slate-400",children:"Day 22"})]}),v.jsxs("li",{className:"flex justify-between",children:[v.jsx("span",{children:"Procurement"})," ",v.jsx("span",{className:"text-slate-400",children:"Day 35"})]}),v.jsxs("li",{className:"flex justify-between",children:[v.jsx("span",{children:"Testing"})," ",v.jsx("span",{className:"text-slate-400",children:"Day 50"})]}),v.jsxs("li",{className:"flex justify-between",children:[v.jsx("span",{children:"Final Signoff"})," ",v.jsx("span",{className:"text-slate-400",children:"Day 91"})]})]})]})]})})})]}),v.jsxs("section",{className:"bg-slate-900 text-white rounded-3xl p-8 md:p-12 shadow-xl relative overflow-hidden",children:[v.jsxs("div",{className:"relative z-10",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[v.jsx("div",{className:"p-3 bg-emerald-500/20 text-emerald-400 rounded-xl",children:v.jsx(iR,{size:24})}),v.jsx("h3",{className:"text-2xl font-bold",children:"Future Implementation Plan"})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-lg mb-4 text-emerald-400",children:"Organizational Structure"}),v.jsxs("ul",{className:"space-y-3 text-slate-300 text-sm",children:[v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx(Ga,{size:16,className:"mt-1 shrink-0 text-emerald-500"})," ",v.jsxs("span",{children:[v.jsx("strong",{children:"Executive Team:"})," Original 5 members oversee strategy."]})]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx(Ga,{size:16,className:"mt-1 shrink-0 text-emerald-500"})," ",v.jsxs("span",{children:[v.jsx("strong",{children:"Operations:"})," Managing manufacturing and field logistics."]})]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx(Ga,{size:16,className:"mt-1 shrink-0 text-emerald-500"})," ",v.jsxs("span",{children:[v.jsx("strong",{children:"Field Technicians:"})," Two-person crews for on-site deployment."]})]}),v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx(Ga,{size:16,className:"mt-1 shrink-0 text-emerald-500"})," ",v.jsxs("span",{children:[v.jsx("strong",{children:"Engineering:"})," Ongoing R&D for mechanical/electrical refinements."]})]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-lg mb-4 text-emerald-400",children:"Critical Path"}),v.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[v.jsx("div",{className:"text-4xl font-black",children:"121.5"}),v.jsxs("div",{className:"text-sm text-slate-400 uppercase tracking-widest",children:["Days to",v.jsx("br",{}),"Launch"]})]})]})]})]}),v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/10 rounded-full blur-[80px] translate-x-1/3 -translate-y-1/3"})]}),v.jsxs("section",{className:"space-y-8 mt-24",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-emerald-100 text-emerald-600 text-sm font-bold",children:"07"}),v.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Final Product"})]}),v.jsxs("div",{className:"bg-black rounded-3xl p-4 md:p-8 overflow-hidden relative group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/50 z-10 pointer-events-none"}),v.jsx("div",{className:"relative z-20 flex items-center justify-center w-full aspect-video rounded-2xl overflow-hidden bg-slate-900 shadow-2xl border border-white/10",children:v.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/-S5COSTvpfs?si=bE_1Xn_xTzQjF5t-",title:"Project Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,className:"w-full h-full"})})]})]})]})};function ek(){const[r,t]=F.useState("home"),[e,i]=F.useState(null),[a,l]=F.useState(null),[c,u]=F.useState(uf[0]),[d,f]=F.useState(!1),{scrollYProgress:p}=ZM(),g=Pf(p,{stiffness:100,damping:30,restDelta:.001}),b=nr(0),x=nr(0);function w({currentTarget:S,clientX:E,clientY:T}){let{left:M,top:_}=S.getBoundingClientRect();b.set(E-M),x.set(T-_)}return F.useEffect(()=>{const S=E=>{E.key.toLowerCase()==="l"&&f(T=>!T)};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]),F.useEffect(()=>{u(uf[Math.floor(Math.random()*uf.length)])},[]),F.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),r!=="project"&&i(null)},[r]),v.jsxs("div",{className:"min-h-screen font-sans selection:bg-emerald-200 selection:text-emerald-900 overflow-x-hidden relative bg-slate-50 text-slate-800",onMouseMove:w,children:[v.jsx(WL,{}),a&&v.jsx(UL,{file:a,onClose:()=>l(null)}),d&&v.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] pointer-events-none bg-black transition-colors duration-700",style:{background:Lv`radial-gradient(circle 250px at ${b}px ${x}px, transparent 0%, rgba(2, 6, 23, 0.98) 20%)`}}),!d&&v.jsx(wt.div,{className:"pointer-events-none fixed inset-0 z-0 transition-opacity duration-300",style:{background:Lv`radial-gradient(650px circle at ${b}px ${x}px, rgba(16, 185, 129, 0.05), transparent 80%)`}}),v.jsx(wt.div,{className:"fixed top-0 left-0 right-0 h-1 bg-emerald-500 origin-left z-[100]",style:{scaleX:g}}),v.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-lg bg-white/80 border-b border-white/20 shadow-sm transition-all duration-300",children:v.jsxs("div",{className:"max-w-6xl mx-auto px-6 h-20 flex items-center justify-between",children:[v.jsxs(wt.button,{drag:!0,dragConstraints:{left:0,right:0,top:0,bottom:0},dragElastic:.2,className:"flex flex-col cursor-grab active:cursor-grabbing group text-left focus:outline-none z-50",onClick:()=>t("home"),children:[v.jsx("h1",{className:"text-2xl font-black tracking-tighter text-slate-900 group-hover:text-emerald-600 transition-colors pointer-events-none",children:"DH."}),v.jsx("span",{className:"text-[10px] uppercase tracking-widest font-semibold text-slate-500 group-hover:tracking-[0.15em] transition-all duration-300 pointer-events-none",children:"Daniyal Hashmi"})]}),v.jsx("div",{className:"hidden md:flex gap-1 bg-slate-100/80 p-1 rounded-full border border-slate-200/50 backdrop-blur-md",children:["home","about","project","reflection"].map(S=>v.jsxs(po,{onClick:()=>t(S),className:`relative px-6 py-2 rounded-full text-sm font-medium transition-all duration-500 ease-out ${r===S?"text-white shadow-md":"text-slate-600 hover:text-emerald-600 hover:bg-white/50"}`,children:[r===S&&v.jsx(wt.div,{layoutId:"bubble",className:"absolute inset-0 bg-slate-900 rounded-full",transition:{type:"spring",bounce:.15,duration:.6}}),v.jsx("span",{className:"relative z-10 capitalize",children:S==="project"?"Projects":S})]},S))}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(po,{children:v.jsx("a",{href:Sx,target:"_blank",rel:"noreferrer",className:"block p-2 rounded-full bg-slate-100 hover:bg-[#0077b5] hover:text-white transition-colors shadow-sm",children:v.jsx(jv,{size:18})})}),v.jsx(po,{children:v.jsx("a",{href:`mailto:${Ax}`,className:"block p-2 rounded-full bg-slate-100 hover:bg-emerald-500 hover:text-white transition-colors shadow-sm",children:v.jsx(Bv,{size:18})})})]})]})}),v.jsx(wt.main,{className:"relative z-10 pt-32 pb-20 px-6 max-w-6xl mx-auto min-h-screen flex flex-col",children:v.jsxs(qo,{mode:"wait",children:[r==="home"&&v.jsx(wt.div,{initial:"initial",animate:"in",exit:"out",variants:Oc,transition:Pc,className:"flex flex-col items-center justify-center flex-grow text-center",children:v.jsxs(wt.div,{variants:wx,initial:"hidden",animate:"show",className:"max-w-4xl mx-auto",children:[v.jsx(wt.div,{variants:Ba,className:"flex justify-center mb-8",children:v.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/80 border border-emerald-100 shadow-sm text-emerald-800 text-xs font-bold uppercase tracking-widest backdrop-blur-sm",children:[v.jsxs("span",{className:"relative flex h-2 w-2",children:[v.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),v.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),"Engineering Student @ UBC Okanagan"]})}),v.jsxs(wt.h1,{variants:Ba,className:"text-5xl md:text-7xl font-black text-slate-900 mb-6 leading-[1.1] tracking-tight",children:['"',c.prefix," ",v.jsx("br",{className:"hidden md:block"}),v.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 via-teal-500 to-emerald-600 animate-gradient-x bg-[length:200%_auto]",children:c.highlight}),'"']}),v.jsxs(wt.p,{variants:Ba,className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-8",children:[" ",c.author]}),v.jsxs(wt.p,{variants:Ba,className:"text-lg md:text-2xl text-slate-600 max-w-2xl mx-auto mb-12 leading-relaxed font-light",children:["Hi, I'm ",v.jsx("strong",{className:"text-slate-900 font-bold",children:"Daniyal Hashmi"}),". I enjoy making things :) Here, you can learn more about me and what I'm working on."]}),v.jsxs(wt.div,{variants:Ba,className:"flex flex-col sm:flex-row justify-center gap-4 mb-24",children:[v.jsxs(po,{onClick:()=>t("project"),className:"group px-8 py-4 bg-slate-900 text-white rounded-2xl font-semibold shadow-xl shadow-slate-900/20 hover:scale-105 hover:bg-emerald-600 transition-all duration-300 flex items-center justify-center gap-2",children:["View Design Project ",v.jsx(Np,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),v.jsx(po,{onClick:()=>l(VL),children:v.jsxs("button",{className:"group px-8 py-4 bg-white/80 backdrop-blur-sm text-slate-900 border border-white/50 rounded-2xl font-semibold shadow-lg hover:border-emerald-200 hover:text-emerald-700 hover:scale-105 transition-all duration-300 flex items-center justify-center gap-2",children:[v.jsx(CD,{size:18,className:"group-hover:scale-110 transition-transform"})," View Full Report"]})})]}),v.jsxs(wt.div,{variants:wx,className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full text-left",children:[v.jsx(hf,{delay:.1,icon:v.jsx(hD,{size:24}),title:"Analytical Thinking",desc:"Breaking down complex environmental problems into data-driven, actionable engineering requirements."}),v.jsx(hf,{delay:.2,icon:v.jsx(zv,{size:24}),title:"Problem Solving",desc:"Developing tangible prototypes that address real-world constraints like safety, budget, and durability."}),v.jsx(hf,{delay:.3,icon:v.jsx(jf,{size:24}),title:"Design",desc:"Leveraging CAD and C-Sketch to iterate through concepts and visualize solutions."})]})]})},"home"),r==="about"&&v.jsxs(wt.div,{initial:"initial",animate:"in",exit:"out",variants:Oc,transition:Pc,className:"space-y-16",children:[v.jsxs("div",{className:"grid md:grid-cols-12 gap-12 items-start",children:[v.jsxs("div",{className:"md:col-span-4 order-2 md:order-1",children:[v.jsx(wt.div,{whileTap:{rotate:360,transition:{duration:.6}},className:"aspect-[3/4] rounded-[2rem] bg-slate-200 relative overflow-hidden shadow-2xl border-[8px] border-white transform rotate-[-2deg] hover:rotate-0 transition-all duration-500 cursor-pointer",children:v.jsx("img",{src:"/headshot.jpg",alt:"Daniyal Hashmi",onError:S=>{S.target.onerror=null,S.target.src="https://placehold.co/400x500/f1f5f9/1e293b?text=Daniyal+Hashmi"},className:"object-cover w-full h-full"})}),v.jsxs("h3",{className:"mt-8 mb-4 font-bold text-slate-900 flex items-center gap-2 text-sm uppercase tracking-widest",children:[v.jsx(kp,{size:16,className:"text-emerald-500"})," Skills"]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx(ei,{icon:v.jsx(jf,{size:16}),label:"CAD"}),v.jsx(ei,{icon:v.jsx(Pv,{size:16}),label:"Python/Java"}),v.jsx(ei,{icon:v.jsx(zv,{size:16}),label:"Prototyping"}),v.jsx(ei,{icon:v.jsx(oA,{size:16}),label:"Optimization"})]})]}),v.jsxs("div",{className:"md:col-span-8 order-1 md:order-2",children:[v.jsx("h2",{className:"text-4xl font-black text-slate-900 mb-6",children:"About Me"}),v.jsxs("div",{className:"prose prose-lg prose-slate text-slate-600 bg-white/60 p-8 rounded-3xl border border-white shadow-sm backdrop-blur-sm leading-relaxed",children:[v.jsx("p",{className:"mb-4",children:"I am currently an Engineering Student at the University of British Columbia. I chose to study engineering because I am passionate about designing and innovating. I love the process of creating things that are not just functional, but meaningful. I hope to make solutions that have a tangible, positive impact on people's lives, are innovative, and are worthwhile. My ultimate goal is to have a meaningful impact in any way I can."}),v.jsx("p",{className:"mb-4",children:"Other than designing, CAD, and other engineering related topics, I enjoy hiking, walking on trails and other outdoor activities. In addition, I like playing soccer, watching Formula 1 races, documentaries, and exploring other interesting subjects. I also spend my free time learning different skills such as programming, game development, and much more."})]}),v.jsx("h3",{className:"mt-8 mb-4 text-xl font-bold text-slate-900 flex items-center gap-2",children:"Interests & Hobbies:"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsx(ei,{icon:v.jsx(xD,{size:18}),label:"Robotics"}),v.jsx(ei,{icon:v.jsx(BD,{size:18}),label:"Nature"}),v.jsx(ei,{icon:v.jsx(GD,{size:18}),label:"Automation"}),v.jsx(ei,{icon:v.jsx(uA,{size:18}),label:"Soccer"}),v.jsx(ei,{icon:v.jsx(MD,{size:18}),label:"Gaming"}),v.jsx(ei,{icon:v.jsx(Pv,{size:18}),label:"Coding"})]})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-slate-900 mb-8 flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:v.jsx(RD,{size:20})}),"Education Timeline"]}),v.jsxs("div",{className:"relative border-l-2 border-dashed border-emerald-200 ml-4 space-y-12",children:[v.jsx(df,{date:"2025 - Present",title:"Bachelor of Applied Science (Engineering)",subtitle:"University of British Columbia - Okanagan",desc:"Engineering Student. Studying mechanical engineering with a specialization in mechatronics",current:!0}),v.jsx(df,{date:"2022 - 2025",title:"High School Diploma",subtitle:"South Huron District High School, ON",desc:"Honour Roll | Ontario Scholar."}),v.jsx(df,{date:"2012 - 2022",title:"Primary Education",subtitle:"International School of Choueifat - Khalifa City",desc:"Built a strong foundation in core subjects"})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-slate-900 mb-8 flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:v.jsx(lA,{size:20})}),"Experience & Involvement"]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsx(Oa,{role:"Staff Cadet",org:"Rocky Mountain Cadet Training Centre",date:"Summer 2024",type:"Work Experience"}),v.jsx(Oa,{role:"Student Page",org:"Huron County Public Library - Exeter Branch",date:"2024 - 2025",type:"Work Experience"}),v.jsx(Oa,{role:"Company Sergeant Major",subRole:"Master Warrant Officer",org:"Cadets Canada",date:"2021 - 2024",type:"Leadership"}),v.jsx(Oa,{role:"Club Executive",org:"Eco Exeter",date:"2023 - 2024",type:"Leadership"}),v.jsx(Oa,{role:"Volunteer",org:"Huron County Immigration Partnership",date:"2023",type:"Volunteer"}),v.jsx(Oa,{role:"Club Volunteer",org:"Library Chess & Coding Club",date:"2022 - 2023",type:"Volunteer"})]})]}),v.jsxs("section",{className:"bg-slate-900 text-white rounded-3xl p-10 text-center shadow-xl",children:[v.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Let's Connect"}),v.jsx("p",{className:"text-slate-300 mb-8 max-w-xl mx-auto",children:"I am always looking for opportunities to collaborate on complex engineering problems and innovative design projects."}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[v.jsxs("a",{href:Sx,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center gap-2 px-8 py-4 bg-blue-600 rounded-xl hover:bg-blue-700 transition-colors font-semibold shadow-lg hover:scale-105 transform duration-200",children:[v.jsx(jv,{size:20})," LinkedIn"]}),v.jsxs("a",{href:`mailto:${Ax}`,className:"flex items-center justify-center gap-2 px-8 py-4 bg-emerald-600 rounded-xl hover:bg-emerald-700 transition-colors font-semibold shadow-lg hover:scale-105 transform duration-200",children:[v.jsx(Bv,{size:20})," Email Me"]})]})]})]},"about"),r==="project"&&v.jsx(wt.div,{initial:"initial",animate:"in",exit:"out",variants:Oc,transition:Pc,children:e==="lead-detection"?v.jsx(tk,{onBack:()=>i(null)}):v.jsx(JL,{onSelectProject:i,onViewPdf:l})},"project"),r==="reflection"&&v.jsxs(wt.div,{initial:"initial",animate:"in",exit:"out",variants:Oc,transition:Pc,className:"max-w-5xl mx-auto py-12",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("h2",{className:"text-4xl font-black text-slate-900",children:"Personal Reflection"}),v.jsx("div",{className:"h-1 w-20 bg-emerald-500 mx-auto mt-4 rounded-full"})]}),v.jsx("div",{className:"space-y-12",children:KL.map((S,E)=>v.jsxs(wt.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:E*.1},className:"group relative bg-white rounded-[2.5rem] p-8 md:p-12 border border-slate-200 shadow-sm hover:shadow-xl hover:border-emerald-300 transition-all duration-500 overflow-hidden",children:[v.jsxs("div",{className:"absolute -right-6 -top-6 text-[12rem] font-black text-slate-50 group-hover:text-emerald-50/50 transition-colors pointer-events-none select-none z-0",children:["0",E+1]}),v.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row gap-8 md:gap-12 items-start",children:[v.jsx("div",{className:"shrink-0",children:v.jsx("div",{className:"w-16 h-16 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center shadow-inner group-hover:scale-110 transition-transform duration-500",children:S.icon})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-slate-900 mb-6 group-hover:text-emerald-700 transition-colors",children:S.title}),v.jsx("div",{className:"prose prose-lg text-slate-600 leading-relaxed",children:S.content})]})]})]},E))})]},"reflection")]})}),v.jsx("footer",{className:"py-10 text-center text-slate-400 text-sm border-t border-slate-200/50 bg-white/50 backdrop-blur-md relative z-10",children:v.jsx("p",{className:"mb-2",children:" 2025 Daniyal Hashmi"})})]})}function nk({step:r,isHovered:t,setHovered:e}){const[i,a]=F.useState(!1);return v.jsxs(v.Fragment,{children:[v.jsxs(wt.div,{layout:!0,onClick:()=>a(!0),onMouseEnter:()=>e(r.id),onMouseLeave:()=>e(null),animate:{flex:t?10:1},transition:{type:"spring",stiffness:200,damping:25},className:"relative overflow-hidden rounded-2xl border border-slate-200 bg-white cursor-pointer shadow-sm hover:shadow-lg transition-shadow duration-300 group min-w-[100px]",children:[v.jsxs(wt.div,{animate:{opacity:t?0:1},className:"absolute inset-0 flex flex-col items-center justify-center p-4",children:[v.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center text-slate-400 mb-3",children:r.icon}),v.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:["Step 0",r.id]}),v.jsx("h4",{className:"text-sm font-bold text-slate-700 text-center",children:r.title})]}),v.jsxs(wt.div,{animate:{opacity:t?1:0},className:"absolute inset-0 p-8 flex flex-col justify-between bg-gradient-to-br from-slate-50 to-white overflow-hidden",children:[v.jsxs("div",{className:"flex justify-between items-start min-w-[300px]",children:[v.jsx("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-xl flex items-center justify-center mb-4 shadow-inner",children:r.icon}),v.jsxs("span",{className:"text-4xl font-black text-slate-200",children:["0",r.id]})]}),v.jsxs("div",{className:"min-w-[300px]",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2 whitespace-nowrap",children:r.title}),v.jsx("div",{className:"h-1 w-12 bg-emerald-500 rounded-full mb-4"}),v.jsx("p",{className:"text-sm font-semibold text-emerald-700 mb-2",children:r.short}),v.jsx("div",{className:"mb-4",children:r.detail}),v.jsxs("div",{className:"text-emerald-600 text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:["Click to Read Report ",v.jsx(Np,{size:10})]})]})]})]}),v.jsx(qo,{children:i&&v.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center px-4",children:[v.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),v.jsxs(wt.div,{layoutId:`modal-card-${r.id}`,className:"w-full max-w-2xl bg-white rounded-3xl overflow-hidden relative z-10 shadow-2xl flex flex-col max-h-[80vh]",children:[v.jsx("button",{onClick:l=>{l.stopPropagation(),a(!1)},className:"absolute top-4 right-4 p-2 bg-slate-100 rounded-full text-slate-500 hover:bg-slate-200 transition-colors z-20",children:v.jsx(Op,{size:20})}),v.jsx("div",{className:"p-8 border-b border-slate-100 bg-slate-50/50",children:v.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[v.jsx("div",{className:"w-14 h-14 bg-emerald-100 text-emerald-600 rounded-2xl flex items-center justify-center",children:r.icon}),v.jsxs("div",{children:[v.jsxs("span",{className:"text-xs font-bold text-emerald-600 uppercase tracking-widest",children:["Step 0",r.id]}),v.jsx("h4",{className:"text-2xl font-black text-slate-900",children:r.title})]})]})}),v.jsx("div",{className:"p-8 overflow-y-auto",children:v.jsx(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"prose prose-slate max-w-none",children:r.reportContent})})]})]})})]})}function hf({icon:r,title:t,desc:e}){return v.jsxs(wt.div,{variants:Ba,whileHover:{y:-5},className:"group p-8 rounded-3xl bg-white/80 backdrop-blur-xl border border-white/60 shadow-lg hover:shadow-xl hover:border-emerald-200 transition-all duration-300",children:[v.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-700 mb-6 group-hover:bg-emerald-500 group-hover:text-white transition-all duration-300 shadow-inner group-hover:shadow-lg group-hover:shadow-emerald-500/30",children:r}),v.jsx("h3",{className:"font-bold text-xl text-slate-900 mb-3",children:t}),v.jsx("p",{className:"text-slate-600 leading-relaxed text-sm font-medium",children:e})]})}function df({date:r,title:t,subtitle:e,desc:i,current:a}){return v.jsxs(wt.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative pl-8",children:[v.jsx("div",{className:`absolute left-[-9px] top-1 w-4 h-4 rounded-full border-4 border-white shadow-sm ${a?"bg-emerald-500 animate-pulse":"bg-slate-300"}`}),v.jsx("div",{className:"text-xs font-bold text-emerald-600 uppercase tracking-widest mb-1",children:r}),v.jsx("h4",{className:"text-lg font-bold text-slate-900",children:t}),v.jsx("div",{className:"text-sm font-semibold text-slate-500 mb-2",children:e}),v.jsx("p",{className:"text-sm text-slate-600",children:i})]})}function Oa({role:r,subRole:t,org:e,date:i,type:a}){return v.jsxs(wt.div,{whileHover:{y:-5},className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:border-blue-100 hover:shadow-md transition-all",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("span",{className:"px-2 py-1 bg-slate-50 rounded text-[10px] font-bold uppercase tracking-wider text-slate-500",children:a}),v.jsx("span",{className:"text-xs font-medium text-slate-400",children:i})]}),v.jsx("h4",{className:"font-bold text-slate-900 leading-tight",children:r}),t&&v.jsx("p",{className:"text-xs font-semibold text-slate-500 mt-1 uppercase tracking-wide",children:t}),v.jsx("p",{className:"text-sm text-slate-600 mt-2 border-t border-slate-100 pt-2",children:e})]})}function ei({icon:r,label:t}){return v.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-white rounded-xl border border-slate-100 shadow-sm hover:border-emerald-200 hover:shadow-md transition-all",children:[v.jsx("div",{className:"text-emerald-600 mb-2 p-2 bg-emerald-50 rounded-full",children:r}),v.jsx("span",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide",children:t})]})}FT.createRoot(document.getElementById("root")).render(v.jsx(NT.StrictMode,{children:v.jsx(ek,{})}));
